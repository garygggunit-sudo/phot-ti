"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6326],{19032:function(e,t,r){r.d(t,{$:function(){return g}});var i=r(81580),n=r(48073),o=r(5479),a=r.n(o);const s={dip:{text:i18n.t("buy_dip"),dir:"less",overrides:{linecolor:"#6A60E8"}},stop_loss:{text:i18n.t("stop_loss"),dir:"less",overrides:{linecolor:"#E7B587"}},take_profit:{text:i18n.t("take_profit"),dir:"more",overrides:{linecolor:"#3ED6CC"}}},l=()=>parseFloat(a()(".js-cable-val__mktcap").attr("data-value")),c=e=>{e||console.error("currency not defined");const t=parseFloat(a()(`[data-cable-val="${"usd"===e?"priceUsd":"priceQuote"}"]`).attr("data-value"));return"price"===(0,n.eX)()?t:t*parseFloat((0,n.Ou)())},d=({price:e,currency:t})=>{const r=(new Date).getTime()+3e3;return[{price:c(t),time:r},{price:e,time:r}]},h=({price:e,orderType:t,currency:r})=>{r||console.error("currency not given");const n=(s[t]||{}).text,o=c(r);let a;return a=["dip","stop_loss"].indexOf(t)>=0?e>=o?0:e/o:e<=o?0:e/o,0===a?"0%":`${(0,i.M2)(Math.abs(100-100*a),2)}% ${n}`},u=({dir:e,perc:t,selectId:r})=>{const n=l(),o=parseFloat(a()('[data-cable-val="priceQuote"]').attr("data-value"));if(!n||!o||(0,i.gD)(t))return;const s="less"===e?1-t/100:1+t/100,c=s*o,d=s*n;return isNaN(c)||isNaN(d)||!t?void 0:{quotePrice:c,selectId:r,dir:e,value:["perc","line"].includes(r)?d:t}};class g{constructor(e){this.config=e;const{selectContainer:t,labelContainer:r}=this.config,n=this;window.limitOrderLineAttrs||(window.limitOrderLineAttrs={}),this.select=new p({container:t,label:r,onSelect:e=>{this.orderState.setState(e)},onInputChange:e=>{this.orderState.setState(e)}}),this.targetLine=new m({chart:this.config.chart,orderDir:this.config.orderDir,orderType:this.config.orderType,onLineMoved:({price:e,perc:t,currency:r})=>{if(!n.select.getCurField().filter(":focus").length){n.orderState.setState({fieldValue:t},{triggerCb:!1});const e=(0,i.M2)(n.orderState.getState().values.perc||0,2);n.select.getFieldById("perc").val(e),n.select.refreshTipLabel(n.orderState.getState().tipData)}}}),this.orderState=new w({initState:this.select.getValue(),orderDir:this.config.orderDir,orderType:this.config.orderType,onStateValuesUpdate:async(e={})=>{const{selectId:t}=e;this.select.refreshTipLabel(e.tipData);let r={};const i="line"===t;r="line"===t?{forceCreate:!0}:{freeze:!0};const{orderType:o,orderDir:a}=n.config;if(i){const e=n.orderState.getState().values.perc;window.limitOrderLineAttrs[o]={dir:a,type:o,value:e,forceCreate:!0},await this.targetLine.addLine({perc:e||0,...r})}else window.limitOrderLineAttrs[o]=null,n.targetLine.removeLine()}}),a()(document).on("tv:init",(function(e,{widget:t}){n.targetLine.setChartInstance(t)})),a()(document).on("cableValue:update",(function(e,{priceQuote:t,priceUsd:r,mktCap:i}={}){if(!(i&&r&&t))return;const{selectId:o}=n.orderState.getState();"line"===o?n.targetLine.refreshLinePosition():n.orderState.refreshStateValues()}))}}class m{constructor(e){this.config=e,this.chart=this.config.chart}setChartInstance(e){this.lineData=null,this.chart=e,this.chart.instance.subscribe("drawing_event",((...e)=>this.onLineMoved(...e)))}getShapeById(e){return e?this.chart.instance.activeChart().getShapeById(e):null}async addLine({priceUsd:e,perc:t,freeze:r,forceCreate:n}){const{orderDir:o,orderType:a}=this.config,{lineId:s,arrowId:l}=this.lineData||{},d=e||c(this.chart.currency),h=parseFloat(t);if((0,i.gD)(h)||isNaN(h)||!d)return;let u=("less"===o?1-h/100:1+h/100)*d;const g=this.getShapeById(s);g?(g.setPoints([{price:u}]),this.refreshArrow(u),this.refreshLineLabel(),g.setUserEditEnabled(!r)):n&&await this.createLine({price:u,freeze:r})}removeLine(){if(!this.lineData)return;const{arrowId:e,lineId:t}=this.lineData||{};e&&(this.chart.removeDrawingByName(e),delete this.lineData.arrowId),t&&(this.chart.removeDrawingByName(t),delete this.lineData.lineId)}async createLine({price:e,freeze:t}={}){const{orderType:r}=this.config,i=s[r];if(!e||!i)return;let n,o,a=h({price:e,orderType:r,currency:this.chart.currency});"dip"===r?(n="right",o="center"):"stop_loss"===r?(n="center",o="center"):(n="right",o="bottom");const l=await this.chart.instance.activeChart().createShape({price:e},{text:a,overrides:{horzLabelsAlign:n,vertLabelsAlign:o,textcolor:"white",showLabel:"true",bold:!0,...i.overrides},zOrder:"top",disableSelection:!1,disableSave:!0,disableUndo:!0,shape:"horizontal_line"}),c=await this.createArrow({price:e,orderType:r});return this.chart.instance.activeChart().getShapeById(l).setUserEditEnabled(!t),this.lineData={lineId:l,arrowId:c},l}async createArrow({price:e}){const{orderType:t}=this.config,r=s[t],i=d({price:e,currency:this.chart.currency});return await this.chart.instance.activeChart().createMultipointShape(i,{overrides:{...r.overrides,linewidth:1},lock:!0,disableSelection:!0,disableSave:!0,disableUndo:!0,zOrder:"top",shape:"arrow"})}refreshArrow(e){let t=this.lineData?this.lineData.arrowId:null;const r=this.getShapeById(t);if(r&&e){const t=d({price:e,currency:this.chart.currency});r.setPoints(t)}}getLinePrice(){let e=this.lineData?this.lineData.lineId:null;const t=this.getShapeById(e);return t?t._source._points[0].price:null}refreshLineLabel(){let e=this.lineData?this.lineData.lineId:null;const t=this.getShapeById(e);if(!t)return;const r=this.getLinePrice(),i=h({price:r,orderType:this.config.orderType,currency:this.chart.currency});t.setProperties({text:i})}refreshLinePosition(){try{if(!this.lineData)return;const{lineId:e,arrowId:t}=this.lineData,{orderType:r,orderDir:i,onLineMoved:n}=this.config,o=inst.activeChart().getShapeById(e),a=inst.activeChart().getShapeById(t),s=o._source._points[0].price,l=c(this.chart.currency);let d;"less"===i?d=Math.min(100,100*(1-Math.min(1,s/l))):"more"===i?d=Math.max(0,100*(Math.max(1,s/l)-1)):console.error("incorrect dir",i),a&&(this.refreshArrow(s),this.refreshLineLabel()),n&&n({price:s,perc:d,currency:this.chart.currency})}catch(e){console.error(e)}}onLineMoved(e,t){["move","points_changed"].includes(t)&&this.lineData&&this.lineData.lineId===e&&this.refreshLinePosition()}}class p{constructor(e){this.config=e,this.$wrapper=this.config.container,this.$selectLabel=this.$wrapper.find(".js-dropdown__label"),this.$selectItems=this.$wrapper.find(".js-drop-group__item"),this.$label=this.config.label||this.$wrapper.find(".js-drop-group__label"),this.$labelText=this.$label.find(".js-drop-group__label__text"),this.$fields=this.$wrapper.find(".js-drop-group__field"),this.$fieldInputs=this.$fields.find("input"),this.config.initSelect&&this.selectItem(this.config.initSelect),this.init()}getSelectedId(){return this.$selectLabel.attr("data-select-id")}getValue(){return{selectId:this.getSelectedId(),fieldValue:this.getCurField().val()}}getCurField(){let e=this.getSelectedId();return e="line"===e?"perc":e,this.getFieldById(e)}getFieldById(e){return this.$fieldInputs.filter(`[data-type="${e}"]`)}clearLabel(){this.$label.addClass("is-hidden"),this.$labelText.html("")}refreshTipLabel(e){e?(this.$label.removeClass("is-hidden"),this.$labelText.html((({quotePrice:e,value:t,dir:r,selectId:o})=>"usd"===o?`\n        ${i18n.t("triggers_on")}:<br/>\n        MC% ${"less"===r?i18n.t("drops_by"):i18n.t("incr_by")} ${(0,i.M2)(t,2)}%, ${(0,n.d4)()?.toUpperCase()} ${"less"===r?"\u2264":"\u2265"} ${(0,i.gp)({numb:e,fractionLength:7})}\n      `:"perc"===o||"line"==o?`\n        ${i18n.t("triggers_on")}:<br/>\n        MC ${"less"===r?"\u2264":"\u2265"} $${(0,i.xQ)({numb:t,fractionLength:2})}, ${(0,n.d4)()?.toUpperCase()} ${"less"===r?"\u2264":"\u2265"} ${(0,i.gp)({numb:e,fractionLength:7})}\n      `:void 0)(e))):this.clearLabel()}selectItem(e){const t=this.$wrapper.find(`.js-dropdown__item[data-select-id="${e}"]`),r=this.$fields.addClass("is-hidden").filter(`[data-select-id="${e}"]`);r.length?(r.removeClass("is-hidden"),this.$wrapper.removeClass("is-fixed")):this.$wrapper.addClass("is-fixed"),this.$selectLabel.text(t.attr("data-value")).attr("data-select-id",e)}init(){const{onSelect:e,onInputChange:t}=this.config,r=this;this.$selectItems.on("click",(function(){const t=a()(this).attr("data-select-id");t!==r.getSelectedId()&&(r.selectItem(t),e&&e(r.getValue()))})),this.$wrapper.find(".js-w-form__price-trigger__field").on("input",(function(){t&&t(r.getValue())}))}}class w{constructor(e){this.config=e,this.state={fieldValue:null,selectId:null,tipData:null,...this.config.initState||{}},this.refreshStateValues()}async refreshStateValues({selectId:e,value:t}={},{triggerCb:r=!0}={}){const{orderDir:n,onStateValuesUpdate:o}=this.config,a=this.getState();let s=(0,i.gD)(t)?a.fieldValue:t,c="line"===a.selectId?"perc":a.selectId,d=(0,i.gD)(e)?c:e;a.values=((e,{selectId:t,dir:r})=>{let n=parseFloat((0,i.vC)(e));const o=l();let a={perc:0,usd:0};if(isNaN(n))n="";else if("perc"===t){n="less"===r?Math.min(100,n):Math.max(0,n);const e="less"===r?1-n/100:1+n/100;a={usd:(0,i.M2)(e*o,4),perc:n}}else if("usd"===t)if(o){let e;"less"===r?(n=Math.min(o,n),e=100*(1-n/o)):(n=Math.max(o,n),e=100*(n/o-1)),a={usd:(0,i.M2)(n,4),perc:(0,i.M2)(e,4)}}else n="";return a})(s,{selectId:d,dir:n}),a.tipData=u({dir:n,selectId:e||a.selectId,perc:a.values.perc}),o&&r&&await o(a,this)}setState(e,{refreshStateValues:t=!0,triggerCb:r}={}){this.state={...this.state,...e},t&&this.refreshStateValues(void 0,{triggerCb:r})}getState(){return this.state}}},92203:function(e,t,r){r.d(t,{nl:function(){return ce},rp:function(){return pe},m7:function(){return we},MX:function(){return ue}});var i=r(81580),n=r(48073),o=r(92483),a=r.n(o);new(a())("18446744073709551615"),new(a())("4295048016"),new(a())("79226673521066979257578248091");const s=64,l=(new(a())(1).shln(s),1e9),c=99e7,d=1e4,h={Up:1,Down:2},u={FeeSchedulerLinear:0,FeeSchedulerExponential:1,RateLimiter:2},g={BaseToQuote:0,QuoteToBase:1};class m{static add(e,t){return e.add(t)}static sub(e,t){return t.gt(e),e.sub(t)}static mul(e,t){return e.mul(t)}static div(e,t){if(t.isZero())throw new Error("SafeMath: division by zero");return e.div(t)}static mod(e,t){if(t.isZero())throw new Error("SafeMath: modulo by zero");return e.mod(t)}static shl(e,t){return e.shln(t)}static shr(e,t){return e.shrn(t)}}function p(e,t,r,i){if(r.isZero())throw new Error("MulDiv: division by zero");if(r.eq(new(a())(1))||e.isZero()||t.isZero())return e.mul(t);const n=e.mul(t);if(i===h.Up){return n.add(r.sub(new(a())(1))).div(r)}return n.div(r)}function w(e,t,r,i){if(i.lte(t))return e;const n=new(a())(e),o=i.sub(t),s=new(a())(o.div(t)),u=new(a())(o.mod(t)),g=new(a())(function(e,t){const r=new(a())(c).sub(e),i=p(new(a())(t),new(a())(l),new(a())(d),h.Down);return r.div(i)}(e,r)),m=p(new(a())(r),new(a())(l),new(a())(d),h.Down),w=new(a())(t),f=new(a())(1),C=new(a())(2);let y;if(s.lt(g)){let e=n.add(n.mul(s)).add(m.mul(s).mul(s.add(f)).div(C)),t=n.add(m.mul(s.add(f))),r=w.mul(e),i=u.mul(t);y=r.add(i)}else{let e=n.add(n.mul(g)).add(m.mul(g).mul(g.add(f)).div(C)),t=new(a())(c),r=w.mul(e),i=s.sub(g).mul(w).add(u).mul(t);y=r.add(i)}const b=new(a())(l),S=p(y.add(b).sub(f).div(b),new(a())(l),i,h.Up);return a().min(S,new(a())(c))}function f(e,t,r){if(0===r)return e;if(1===r){const r=new(a())(d);return function(e,t,r,i){if(r.isZero())throw new Error("MulDiv: division by zero");if(r.eq(new(a())(1))||e.isZero()||t.isZero())return e.mul(t);const n=e.mul(t);if(i===h.Up)return n.add(r.sub(new(a())(1))).div(r);return n.div(r)}(e,r.sub(t),r,h.Down)}const i=new(a())(d),n=new(a())(1).shln(64),o=m.div(m.shl(t,64),i);const l=function(e,t,r=!0){const i=new(a())(1).shln(s);if(t.isZero())return i;if(e.isZero())return new(a())(0);if(e.eq(i))return i;const n=t.isNeg();let o=i,l=e,c=n?t.neg():t;for(;!c.isZero();)c.and(new(a())(1)).eq(new(a())(1))&&(o=m.div(m.mul(o,l),i)),l=m.div(m.mul(l,l),i),c=c.shrn(1);return n&&(o=m.div(i.mul(i),o)),r?o:m.div(o,i)}(m.sub(n,o),new(a())(r));return m.div(m.mul(e,l),n)}function C(e,t,r,i,n){const o=e.baseFeeMode;if(o===u.RateLimiter){const s=e.firstFactor,l=e.secondFactor,c=e.thirdFactor,d=function(e,t,r,i,n){return e===u.RateLimiter&&!t&&r.gte(i)&&r.lte(i.add(n))}(o,t===g.BaseToQuote,r,i,e.secondFactor);if(r.lt(i))return e.cliffFeeNumerator;const h=i.add(l);return r.gt(h)?e.cliffFeeNumerator:n&&d?w(e.cliffFeeNumerator,c,new(a())(s),n):e.cliffFeeNumerator}{const t=e.firstFactor,n=e.secondFactor,s=e.thirdFactor;if(n.isZero())return e.cliffFeeNumerator;let l;if(r.lt(i))l=t;else{const e=m.sub(r,i),o=m.div(e,n);l=Math.min(parseInt(o.toString()),t)}return o===u.FeeSchedulerLinear?function(e,t,r){const i=m.mul(new(a())(r),t);return i.gt(e)?new(a())(0):m.sub(e,i)}(e.cliffFeeNumerator,s,l):f(e.cliffFeeNumerator,s,l)}}function y({amount:e,poolFees:t,isReferral:r,currentPoint:n,activationPoint:o,volatilityAccumulator:s,tradeDirection:d}){try{let r=C(t.baseFee,d,n,o,t.baseFee.baseFeeMode===u.RateLimiter?e:void 0);if(0!==t.dynamicFee.initialized){const e=function(e,t){if(0===e.initialized)return new(a())(0);if(t.isZero())return new(a())(0);const r=m.mul(t,new(a())(e.binStep)),i=m.mul(r,r),n=m.mul(i,new(a())(e.variableFeeControl)),o=new(a())(1e11),s=m.add(n,m.sub(o,new(a())(1)));return m.div(s,o)}(t.dynamicFee,s);r=m.add(r,e)}return r.gt(new(a())(c))&&(r=new(a())(c)),r.isZero()?0:(0,i.M2)(r.toNumber()/l,4)}catch(h){return console.error(h),0}}var b=r(76434),S=r(57515),_=(r(17820),r(73617),Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Math.pow,new S.PublicKey("cpamdpZCGKUy5JxQXB4dcpGPiikHawvSWAd6mEn1sGG"),64),v=1e4,T=1e9,L=new(a())(1).shln(_),P=new(a())(524288),I=new(a())(2).pow(new(a())(128)).sub(new(a())(1)),A=1e5,F=5e3,D=5e8,O=9900,k=99e7,R=(new(a())("4295048016"),new(a())("79226673521066979257578248091"),new(a())(1e11)),E=new(a())(99999999999),M=(new(a())("1844674407370955"),new(a())("340282366920938463463374607431768211455"),new(a())("18446744073709551615")),V=65535,x=43200,W=108e3;function B(e,t,r,i){const{div:n,mod:o}=e.mul(t).divmod(r);return 0!=i||o.isZero()?n:n.add(new(a())(1))}function N(e,t){let r=t.isNeg();if(t.isZero())return L;if((t=r?t.abs():t).gt(P))return new(a())(0);let i=e,n=L;return i.gte(n)&&(i=I.div(i),r=!r),t.and(new(a())(1)).isZero()||(n=n.mul(i).shrn(_)),i=i.mul(i).shrn(_),t.and(new(a())(2)).isZero()||(n=n.mul(i).shrn(_)),i=i.mul(i).shrn(_),t.and(new(a())(4)).isZero()||(n=n.mul(i).shrn(_)),i=i.mul(i).shrn(_),t.and(new(a())(8)).isZero()||(n=n.mul(i).shrn(_)),i=i.mul(i).shrn(_),t.and(new(a())(16)).isZero()||(n=n.mul(i).shrn(_)),i=i.mul(i).shrn(_),t.and(new(a())(32)).isZero()||(n=n.mul(i).shrn(_)),i=i.mul(i).shrn(_),t.and(new(a())(64)).isZero()||(n=n.mul(i).shrn(_)),i=i.mul(i).shrn(_),t.and(new(a())(128)).isZero()||(n=n.mul(i).shrn(_)),i=i.mul(i).shrn(_),t.and(new(a())(256)).isZero()||(n=n.mul(i).shrn(_)),i=i.mul(i).shrn(_),t.and(new(a())(512)).isZero()||(n=n.mul(i).shrn(_)),i=i.mul(i).shrn(_),t.and(new(a())(1024)).isZero()||(n=n.mul(i).shrn(_)),i=i.mul(i).shrn(_),t.and(new(a())(2048)).isZero()||(n=n.mul(i).shrn(_)),i=i.mul(i).shrn(_),t.and(new(a())(4096)).isZero()||(n=n.mul(i).shrn(_)),i=i.mul(i).shrn(_),t.and(new(a())(8192)).isZero()||(n=n.mul(i).shrn(_)),i=i.mul(i).shrn(_),t.and(new(a())(16384)).isZero()||(n=n.mul(i).shrn(_)),i=i.mul(i).shrn(_),t.and(new(a())(32768)).isZero()||(n=n.mul(i).shrn(_)),i=i.mul(i).shrn(_),t.and(new(a())(65536)).isZero()||(n=n.mul(i).shrn(_)),i=i.mul(i).shrn(_),t.and(new(a())(131072)).isZero()||(n=n.mul(i).shrn(_)),i=i.mul(i).shrn(_),t.and(new(a())(262144)).isZero()||(n=n.mul(i).shrn(_)),n.isZero()?new(a())(0):(r&&(n=I.div(n)),n)}function U(e,t){return B(e,t,new(a())(v),1)}function j(e,t,r){let i=new(a())(0);0!==e.dynamicFee.initialized&&(i=function(e,t,r){const i=e.mul(new(a())(t)).pow(new(a())(2));return r.mul(i).add(new(a())(E)).div(new(a())(R))}(e.dynamicFee.volatilityAccumulator,new(a())(e.dynamicFee.binStep),new(a())(e.dynamicFee.variableFeeControl)));const n=i.add(t);return a().min(n,r)}function H(e,t,r,i,n,o){return j(e,se(e.baseFee.cliffFeeNumerator,e.baseFee.firstFactor,e.baseFee.secondFactor,e.baseFee.thirdFactor,e.baseFee.baseFeeMode).getBaseFeeNumeratorFromIncludedFeeAmount(t,r,n,i),o)}function z(e,t,r,i){const n=t.muln(e.protocolFeePercent).divn(100),o=t.sub(n);let s=new(a())(0);r&&(s=n.muln(e.referralFeePercent).divn(100));const l=n.sub(s);let c=new(a())(0);i&&e.partnerFeePercent>0&&(c=l.muln(e.partnerFeePercent).divn(100));return{tradingFee:o,protocolFee:l.sub(c),referralFee:s,partnerFee:c}}function G(e,t,r,i,n){const{excludedFeeAmount:o,tradingFee:a}=Z(r,t),s=z(e,a,i,n);return{amount:o,tradingFee:s.tradingFee,protocolFee:s.protocolFee,partnerFee:s.partnerFee,referralFee:s.referralFee}}function Z(e,t){const r=B(t,e,new(a())(T),0);return{excludedFeeAmount:t.sub(r),tradingFee:r}}function q(e,t){const r=new(a())(T).sub(e);if(r.isZero()||r.isNeg())throw new Error("Invalid fee numerator");const i=B(t,new(a())(T),r,0),n=i.sub(t);return{includedFeeAmount:i,feeAmount:n}}function J(e){switch(e){case 0:return new(a())(D);case 1:return new(a())(k);default:throw new Error("Invalid pool version")}}function K(e){switch(e){case 0:return F;case 1:return O;default:throw new Error("Invalid pool version")}}function Q(e,t,r,i){return e.isZero()&&0===t&&0===r&&0===i}function X(e,t,r,i,n,o,s){if(Q(e,t,r,i))return!1;if(0===s)return!1;if(n.lt(o))return!1;const l=o.add(new(a())(t));return!n.gt(l)}function Y(e,t,r){const i=U(new(a())(e),new(a())(T));if(t.gt(i))throw new Error("cliffFeeNumerator cannot be greater than maxFeeNumerator");const n=i.sub(t),o=U(new(a())(r),new(a())(T));if(o.isZero())throw new Error("feeIncrementNumerator cannot be zero");return n.div(o)}function ee(e,t,r,i,n){if(e.lte(t))return r;{const o=U(new(a())(i),new(a())(T)),s=r,l=e.sub(t),c=l.div(t),d=l.mod(t),h=Y(i,r,n),u=U(new(a())(n),new(a())(T)),g=t,m=new(a())(1),p=new(a())(2);let w;if(c.lt(h)){const e=s.add(s.mul(c)).add(u.mul(c).mul(c.add(m)).div(p)),t=s.add(u.mul(c.add(m))),r=g.mul(e),i=d.mul(t);w=r.add(i)}else{const e=s.add(s.mul(h)).add(u.mul(h).mul(h.add(m)).div(p)),t=o,r=g.mul(e),i=c.sub(h).mul(g).add(d).mul(t);w=r.add(i)}const f=new(a())(T),C=B(w.add(f).sub(m).div(f),f,e,0);if(C.gt(new(a())(M)))throw new Error("Numerator does not fit in u64");return C}}function te(e,t,r,i,n){const o=ee(e,t,r,i,n),{excludedFeeAmount:a}=Z(o,e);return a}function re(e,t,r,i,n){const o=te(t,t,r,i,n);if(e.lte(o))return r;const{checkedExcludedFeeAmount:s,checkedIncludedFeeAmount:l,isOverflow:c}=function(e,t,r,i){const n=Y(r,t,i),o=e,s=new(a())(1),l=n.add(s).mul(o);if(l.lte(M)){const n=l;return{checkedExcludedFeeAmount:te(n,e,t,r,i),checkedIncludedFeeAmount:n,isOverflow:!1}}{const n=M;return{checkedExcludedFeeAmount:te(n,e,t,r,i),checkedIncludedFeeAmount:n,isOverflow:!0}}}(t,r,i,n);if(e.eq(s))return ee(l,t,r,i,n);let d;if(e.lt(s)){const o=new(a())(2),s=new(a())(4),l=U(new(a())(n),new(a())(T)),c=t,h=new(a())(T),u=r,g=e,m=l,p=o.mul(h).mul(c).add(l.mul(c)).sub(o.mul(u).mul(c)),w=o.mul(g).mul(h).mul(c),f=function(e){if(e.isZero())return new(a())(0);if(e.eq(new(a())(1)))return new(a())(1);let t=e,r=e.add(new(a())(1)).div(new(a())(2));for(;r.lt(t);)t=r,r=t.add(e.div(t)).div(new(a())(2));return t}(p.mul(p).sub(s.mul(m).mul(w)));d=p.sub(f).div(o.mul(m));const C=p.sub(f),y=o.mul(m);d=C.div(y);const b=d.div(c),S=te(d,t,r,i,n),_=e.sub(S),v=u.add(l.mul(b)),{includedFeeAmount:L}=q(v,_);d=d.add(L)}else{if(c)throw new Error("Math overflow in getFeeNumeratorFromExcludedFeeAmount");const t=e.sub(s),r=U(new(a())(i),new(a())(T)),{includedFeeAmount:n}=q(r,t);d=n.add(l)}const h=B(d.sub(e),new(a())(T),d,0);if(h.lt(r))throw new Error("feeNumerator is less than cliffFeeNumerator");return h}function ie(e,t,r,i,n){const o=a().min(r,new(a())(t)).toNumber();if(o>V)throw new Error("Math overflow");switch(n){case 0:{const t=function(e,t,r){const i=new(a())(r).mul(t);return e.sub(i)}(e,i,o);return t}case 1:{const t=function(e,t,r){if(0===r)return e;const i=new(a())(v),n=new(a())(t).shln(64).div(i),o=N(L.sub(n),new(a())(r));return e.mul(o).div(L)}(e,i,o);return t}default:throw new Error("Invalid fee scheduler mode")}}function ne(e,t,r,i,n,o,s){if(r.isZero())return e;let l;return o.lt(s)?l=new(a())(t):(l=o.sub(s).div(r),l.gt(new(a())(t))&&(l=new(a())(t))),ie(e,t,l,i,n)}var oe=class{constructor(e,t,r,i,n){this.cliffFeeNumerator=e,this.feeIncrementBps=t,this.maxFeeBps=r,this.maxLimiterDuration=i,this.referenceAmount=n}validate(e,t,r){return function(e,t,r,i,n,o,s,l){if(1!==o)return!1;const c=U(new(a())(r),new(a())(T));if(e.lt(new(a())(A))||e.gt(c))return!1;if(Q(n,i,r,t))return!0;if(function(e,t,r,i){return e.isZero()&&0!==t&&0!==r&&0!==i}(n,i,r,t))return!1;const d=0===s?new(a())(W):new(a())(x);if(new(a())(i).gt(d))return!1;if(U(new(a())(t),new(a())(T)).gte(new(a())(T)))return!1;if(r>K(l))return!1;const h=ee(new(a())(0),e,n,r,t),u=ee(new(a())(Number.MAX_SAFE_INTEGER),e,n,r,t);if(h.lt(new(a())(A))||u.gt(J(l)))return!1;return!0}(this.cliffFeeNumerator,this.feeIncrementBps,this.maxFeeBps,this.maxLimiterDuration,this.referenceAmount,e,t,r)}getBaseFeeNumeratorFromIncludedFeeAmount(e,t,r,i){return X(this.referenceAmount,this.maxLimiterDuration,this.maxFeeBps,this.feeIncrementBps,e,t,r)?ee(i,this.referenceAmount,this.cliffFeeNumerator,this.maxFeeBps,this.feeIncrementBps):this.cliffFeeNumerator}getBaseFeeNumeratorFromExcludedFeeAmount(e,t,r,i){return X(this.referenceAmount,this.maxLimiterDuration,this.maxFeeBps,this.feeIncrementBps,e,t,r)?re(i,this.referenceAmount,this.cliffFeeNumerator,this.maxFeeBps,this.feeIncrementBps):this.cliffFeeNumerator}},ae=class{constructor(e,t,r,i,n){this.cliffFeeNumerator=e,this.numberOfPeriod=t,this.periodFrequency=r,this.reductionFactor=i,this.feeSchedulerMode=n}validate(e,t,r){return function(e,t,r,i,n,o){if((!t.eq(new(a())(0))||0!==e||!r.eq(new(a())(0)))&&(0===e||t.eq(new(a())(0))||r.eq(new(a())(0))))return!1;const s=function(e,t,r,i){return ie(e,t,new(a())(t),r,i)}(i,e,r,n),l=i;if(le(s,new(a())(T)),le(l,new(a())(T)),s.lt(new(a())(A))||l.gt(J(o)))throw new Error("PoolError::ExceedMaxFeeBps");return!0}(this.numberOfPeriod,this.periodFrequency,this.reductionFactor,this.cliffFeeNumerator,this.feeSchedulerMode,r)}getBaseFeeNumeratorFromIncludedFeeAmount(e,t){return ne(this.cliffFeeNumerator,this.numberOfPeriod,this.periodFrequency,this.reductionFactor,this.feeSchedulerMode,e,t)}getBaseFeeNumeratorFromExcludedFeeAmount(e,t){return ne(this.cliffFeeNumerator,this.numberOfPeriod,this.periodFrequency,this.reductionFactor,this.feeSchedulerMode,e,t)}};function se(e,t,r,i,n){switch(n){case 0:case 1:{if(r.length<8)throw new Error("TypeCastFailed: secondFactor must be at least 8 bytes");const o=new(a())(Buffer.from(r.slice(0,8)),"le");return new ae(e,t,o,i,n)}case 2:{if(r.length<8)throw new Error("TypeCastFailed: secondFactor must be at least 8 bytes");const n=Buffer.from(r.slice(0,4)).readUInt32LE(0),o=Buffer.from(r.slice(4,8)).readUInt32LE(0);return new oe(e,t,o,n,i)}default:throw new Error("Invalid base fee mode")}}function le(e,t){if(t.isZero()||e.gte(t))throw new Error("InvalidFee: Fee numerator must be less than denominator and denominator must be non-zero")}window.BN=a();const ce={bf:{parentKey:"baseFee",np:"numberOfPeriod",pf:"periodFrequency",rf:"reductionFactor",sm:"feeSchedulerMode",cf:"cliffFeeNumerator"},df:{parentKey:"dynamicFee",bs:"binStep",in:"initialized",dp:"decayPeriod",bu:"binStepU128",fp:"filterPeriod",rf:"reductionFactor",vf:"variableFeeControl",va:"maxVolatilityAccumulator"},pf:"protocolFeePercent",rf:"referralFeePercent",v:"version"},de=0;let he=new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:0,maximumFractionDigits:2});const ue=(e,t)=>{try{let r=null;if(!e||!t||!e.fees)return;const n="meteora_damm"===r||"meteora_dlmm"===r;let{fees:o,volatilityAccumulator:s,activationType:l,activationPoint:c}=e,d=(0,b.A)((0,i.Ok)(o,ce));d.baseFee=(0,b.A)(d.baseFee),d.dynamicFee=(0,b.A)(d.dynamicFee),s=new(a())(s||0);let h=(new Date).getTime()/1e3;l===de&&(h=Math.ceil(t.slot+(h-t.timestamp)/.4));const u=new(a())("100000000"),g=0;if(d.baseFee&&!d.baseFee.feeSchedulerMode&&(d.baseFee.feeSchedulerMode=0),n){d={...d,baseFee:{...d.baseFee,cliffFeeNumerator:new(a())(d.baseFee.cliffFeeNumerator),reductionFactor:new(a())(d.baseFee.reductionFactor),firstFactor:d.baseFee?.numberOfPeriod,secondFactor:(0,i.T3)(d.baseFee?.periodFrequency||0),thirdFactor:new(a())(d.baseFee?.reductionFactor),baseFeeMode:d.baseFee?.feeSchedulerMode},dynamicFee:{...d.dynamicFee,binStepU128:new(a())(d.dynamicFee.binStepU128)}};const e=H(d,h,c,u,g,J(d.version||0)),{amount:t,tradingFee:r,protocolFee:n,partnerFee:o,referralFee:s}=G(d,u,e,!1,!1);return r}return d={baseFee:{...d.baseFee,cliffFeeNumerator:new(a())(d.baseFee.cliffFeeNumerator),periodFrequency:new(a())(d.baseFee.periodFrequency),reductionFactor:new(a())(d.baseFee.reductionFactor)},dynamicFee:{...d.dynamicFee,binStepU128:new(a())(d.dynamicFee.binStepU128)}},d.baseFee.firstFactor=d.baseFee?.numberOfPeriod,d.baseFee.secondFactor=d.baseFee?.periodFrequency,d.baseFee.thirdFactor=d.baseFee?.reductionFactor,d.baseFee.baseFeeMode=d.baseFee?.feeSchedulerMode,y({amount:u,poolFees:d,isReferral:!1,currentPoint:new(a())(h),activationPoint:new(a())(c),volatilityAccumulator:s,tradeDirection:g})}catch(r){console.error(r)}};window.proceessMeteoraFee=ue;const ge=()=>{const e=ue((0,n.K)(),(0,n.Xj)(),(0,n.p1)());if(!(0,i.gD)(e)){$('[data-cable-val="tax"], .js-security-item[data-kind="tax"]').html(he.format(e)).attr("data-value",e).toggleClass("u-color-red",e>0);const t=e>0?1:0;$(".js-total-issues-count").attr("data-subcount",t);const r=parseInt($(".js-total-issues-count").attr("data-count")||0)+t;r>0?($(".js-bbar__counter").html(r).removeClass("is-hidden"),$(".js-total-issues-count").removeClass("is-hidden").html(`<div class="c-icon c-icon--attention p-show__widget__issues__icon"></div>${r} Issues`)):($(".js-bbar__counter").addClass("is-hidden"),$(".js-total-issues-count").addClass("is-hidden"))}};function me(e){ge(),e-1>=0&&setTimeout((()=>{me(e-1)}),2e3)}const pe=({meteoraConfig:e,blockData:t})=>{try{window._showLogs&&console.log({meteoraConfig:e,blockData:t});const r=e?.fees?.base_fee||e?.fees?.baseFee,i=r?.number_of_period||r?.numberOfPeriod;if(e&&e.activationPoint&&t&&r){let r=parseInt(i),n=0;if(0===e.activationType){let i=parseInt(e.activationPoint)-parseInt(t.slot);r&&(i+=r),i>0&&(n=parseInt(.4*i/2)+5)}else if(1===e.activationType){const t=parseInt(Date.now()/1e3);let i=parseInt(e.activationPoint)-t;r&&(i+=r),i>0&&(n=parseInt(i/2)+5)}if(window._showLogs&&console.log("======================="),n>0)return n>1e3&&(n=1e3),n}}catch(r){console.error("meteora fees",r)}},we=()=>{const e=(0,n.K)(),t=(0,n.Xj)();ge();const r=pe({meteoraConfig:e,blockData:t});r>0&&me(r),window._showChannel?.subscribe((e=>{if(!e?.data)return;const{action:t,volatilityAccumulator:r}=e.data;if("overwrite"===t&&!(0,i.gD)(r)){const e=(0,n.K)();e&&((0,n.CI)({showMeteoraFeesData:{...e,volatilityAccumulator:r}}),ge())}}))}},87680:function(e,t,r){var i,n,o,a,s,l,c,d,h,u,g,m,p,w,f,C,y,b,S,_,v,T,L,P,I,A,F,D,O,k,R,E,M,V,x,W,B,N,U,$,j,H,z,G,Z,q,J,K,Q,X,Y,ee,te,re,ie,ne,oe,ae,se,le,ce,de,he,ue,ge,me,pe,we,fe,Ce,ye,be,Se,_e,ve,Te,Le,Pe,Ie,Ae,Fe,De,Oe;function ke(e,t){const r={...e};for(const i in t)"object"!=typeof e[i]||null===e[i]||Array.isArray(e[i])?void 0!==t[i]&&(r[i]=t[i]):r[i]=ke(e[i],t[i]);return r}r.d(t,{c:function(){return wt}}),function(e){e.UnknownAction="UnknownAction",e.Spinner="Spinner",e.Loading="Loading",e.AlertAdd="Alert.Add",e.AlertEdit="Alert.Edit",e.AlertsClone="Alerts.Clone",e.AlertsRemove="Alerts.Remove",e.AlertsRemoveAll="Alerts.RemoveAll",e.AlertsRemoveFiltered="Alerts.RemoveFiltered",e.AlertsRemoveAllInactive="Alerts.RemoveAllInactive",e.AlertsRemoveAllWatchlistInactive="Alerts.RemoveAllWatchlistInactive",e.AlertsRemoveFires="Alerts.RemoveFires",e.AlertsRestart="Alerts.Restart",e.AlertsRestartAllInactive="Alerts.RestartAllInactive",e.AlertsRestartFilteredInactive="Alerts.RestartFilteredInactive",e.AlertsStop="Alerts.Stop",e.AlertsStopAll="Alerts.StopAll",e.AlertsStopFilteredActive="Alerts.StopFilteredActive",e.AlertsExportFiresToCSV="Alerts.ExportFiresToCSV",e.AlertsLogClear="AlertsLog.Clear",e.ChartAddIndicatorToAllCharts="Chart.AddIndicatorToAllCharts",e.ChartAddSymbolToWatchList="Chart.AddSymbolToWatchList",e.ChartAlertLabelToggleExtendLines="Chart.AlertLabel.ToggleExtendLines",e.ChartApplyIndicatorsToAllCharts="Chart.ApplyIndicatorsToAllCharts",e.ChartIndicatorApplyChildIndicator="Chart.Indicator.ApplyChildIndicator",e.ChartIndicatorApplyFinancials="Chart.Indicator.ApplyFinancials",e.ChartIndicatorAbout="Chart.Indicator.About",e.ChartIndicatorPineLogs="Chart.Indicator.PineLogs",e.ChartIndicatorPineSource="Chart.Indicator.PineSource",e.ChartIndicatorAddFavorites="Chart.Indicator.AddFavorites",e.ChartChangeTimeZone="Chart.ChangeTimeZone",e.ChartClipboardCopyPrice="Chart.Clipboard.CopyPrice",e.ChartClipboardCopyLineTools="Chart.Clipboard.CopyLineTools",e.ChartClipboardCopySource="Chart.Clipboard.CopySource",e.ChartClipboardPasteSource="Chart.Clipboard.PasteSource",e.ChartCrosshairLockVerticalCursor="Chart.Crosshair.LockVerticalCursor",e.ChartCrosshairPlusButtonDrawHorizontalLine="Chart.Crosshair.PlusButton.DrawHorizontalLine",e.ChartCustomActionId="Chart.CustomActionId",e.ChartDialogsShowChangeInterval="Chart.Dialogs.ShowChangeInterval",e.ChartDialogsShowChangeSymbol="Chart.Dialogs.ShowChangeSymbol",e.ChartDialogsShowCompareOrAddSymbol="Chart.Dialogs.ShowCompareOrAddSymbol",e.ChartDialogsShowGeneralSettings="Chart.Dialogs.ShowGeneralSettings",e.ChartDialogsShowGeneralSettingsLegendTab="Chart.Dialogs.ShowGeneralSettings.LegendTab",e.ChartDialogsShowGeneralSettingsSymbolTab="Chart.Dialogs.ShowGeneralSettings.SymbolTab",e.ChartDialogsShowGeneralScalesTab="Chart.Dialogs.ShowGeneralSettings.ScalesTab",e.ChartDialogsShowGeneralSettingsEventsTab="Chart.Dialogs.ShowGeneralSettings.EventsTab",e.ChartDialogsShowGeneralSettingsAlertsTab="Chart.Dialogs.ShowGeneralSettings.AlertsTab",e.ChartDialogsShowGoToDate="Chart.Dialogs.ShowGoToDate",e.ChartDialogsShowInsertIndicators="Chart.Dialogs.ShowInsertIndicators",e.ChartDialogsShowInsertFinancials="Chart.Dialogs.ShowInsertFinancials",e.ChartDialogsShowInsertSeasonals="Chart.Dialogs.ShowInsertSeasonals",e.ChartDialogsShowInsertTechnicals="Chart.Dialogs.ShowInsertTechnicals",e.ChartDialogsShowInsertForecast="Chart.Dialogs.ShowInsertForecast",e.ChartDialogsShowInsertOptions="Chart.Dialogs.ShowInsertOptions",e.ChartDetailsMetricsActionId="Chart.Dialogs.DetailsMetrics",e.ChartDialogsShowInsertEconomyIndicators="Chart.Dialogs.ShowInsertEconomyIndicators",e.ChartDialogsShowSymbolInfo="Chart.Dialogs.ShowSymbolInfo",e.ChartDrawingToolbarToggleVisibility="Chart.DrawingToolbar.ToggleVisibility",e.ChartExternalActionId="Chart.ExternalActionId",e.ChartFavoriteDrawingToolsToolbarHide="Chart.FavoriteDrawingToolsToolbar.Hide",e.ChartIndicatorShowSettingsDialog="Chart.Indicator.ShowSettingsDialog",e.ChartLegendToggleLastDayChangeValuesVisibility="Chart.Legend.ToggleLastDayChangeValuesVisibility",e.ChartLinkingGroupSync="Chart.LinkingGroupSync",e.ChartLinkingGroupSyncChangeGroup="Chart.LinkingGroupSync.ChangeGroup",e.ChartLegendToggleBarChangeValuesVisibility="Chart.Legend.ToggleBarChangeValuesVisibility",e.ChartLegendTogglePriceSourceVisibility="Chart.Legend.TogglePriceSourceVisibility",e.ChartLegendToggleIndicatorArgumentsVisibility="Chart.Legend.ToggleIndicatorArgumentsVisibility",e.ChartLegendToggleIndicatorTitlesVisibility="Chart.Legend.ToggleIndicatorTitlesVisibility",e.ChartLegendToggleIndicatorValuesVisibility="Chart.Legend.ToggleIndicatorValuesVisibility",e.ChartLegendToggleOhlcValuesVisibility="Chart.Legend.ToggleOhlcValuesVisibility",e.ChartLegendToggleOpenMarketStatusVisibility="Chart.Legend.ToggleOpenMarketStatusVisibility",e.ChartLegendToggleSymbolVisibility="Chart.Legend.ToggleSymbolVisibility",e.ChartLegendToggleVolumeVisibility="Chart.Legend.ToggleVolumeVisibility",e.ChartLines="Chart.Lines",e.ChartLinesToggleBidAskLinesVisibility="Chart.Lines.ToggleBidAskLinesVisibility",e.ChartLinesToggleHighLowLinesVisibility="Chart.Lines.ToggleHighLowLinesVisibility",e.ChartLinesToggleAverageLineVisibility="Chart.Lines.ToggleAverageLineVisibility",e.ChartLinesTogglePrePostMarketPriceLineVisibility="Chart.Lines.TogglePrePostMarketPriceLineVisibility",e.ChartLinesToggleSeriesPrevCloseLineVisibility="Chart.Lines.ToggleSeriesPrevCloseLineVisibility",e.ChartLinesToggleSeriesPriceLineVisibility="Chart.Lines.ToggleSeriesPriceLineVisibility",e.ChartLineToolBarsPatternToggleFlipped="Chart.LineTool.BarsPattern.ToggleFlipped",e.ChartLineToolBarsPatternToggleMirrored="Chart.LineTool.BarsPattern.ToggleMirrored",e.ChartLineToolRiskRewardReverse="Chart.LineTool.RiskReward.Reverse",e.ChartLineToolClone="Chart.LineTool.Clone",e.ChartLineToolCreateLimitOrderFromState="Chart.LineTool.CreateLimitOrderFromState",e.ChartLineToolElliotChangeDegreeProperty="Chart.LineTool.Elliot.ChangeDegreeProperty",e.ChartLineToolNoSync="Chart.LineTool.NoSync",e.ChartLineToolPitchforkChangeTypeToInside="Chart.LineTool.Pitchfork.ChangeTypeToInside",e.ChartLineToolPitchforkChangeTypeToModifiedSchiff="Chart.LineTool.Pitchfork.ChangeTypeToModifiedSchiff",e.ChartLineToolPitchforkChangeTypeToOriginal="Chart.LineTool.Pitchfork.ChangeTypeToOriginal",e.ChartLineToolPitchforkChangeTypeToSchiff="Chart.LineTool.Pitchfork.ChangeTypeToSchiff",e.ChartLineToolSyncInLayout="Chart.LineTool.SyncInLayout",e.ChartLineToolSyncGlobally="Chart.LineTool.SyncGlobally",e.ChartLineToolTemplates="Chart.LineTool.Templates",e.ChartLineToolTemplatesApply="Chart.LineTool.Templates.Apply",e.ChartLineToolTemplatesApplyDefaults="Chart.LineTool.Templates.ApplyDefaults",e.ChartLineToolTemplatesSaveAs="Chart.LineTool.Templates.SaveAs",e.ChartLineToolToolbarChangeFontSizeProperty="Chart.LineTool.Toolbar.ChangeFontSizeProperty",e.ChartLineToolToolbarChangeLineStyleToDashed="Chart.LineTool.Toolbar.ChangeLineStyleToDashed",e.ChartLineToolToolbarChangeLineStyleToDotted="Chart.LineTool.Toolbar.ChangeLineStyleToDotted",e.ChartLineToolToolbarChangeLineStyleToSolid="Chart.LineTool.Toolbar.ChangeLineStyleToSolid",e.ChartMarksToggleVisibility="Chart.Marks.ToggleVisibility",e.ChartMoveChartInLayout="Chart.MoveChartInLayout",e.ChartMoveChartInLayoutBack="Chart.MoveChartInLayout.Back",e.ChartMoveChartInLayoutForward="Chart.MoveChartInLayout.Forward",e.ChartTpoResetAllMergesAndSplits="Chart.TPO.ResetAllMergesAndSplits",e.ChartTpoSplitBlock="Chart.TPO.SplitBlock",e.ChartTpoMergeBlock="Chart.TPO.MergeBlock",e.ChartObjectTreeShow="Chart.ObjectTree.Show",e.ChartDataWindowShow="Chart.DataWindow.Show",e.ChartPaneControlsDeletePane="Chart.PaneControls.DeletePane",e.ChartPaneControlsMaximizePane="Chart.PaneControls.MaximizePane",e.ChartPaneControlsMinimizePane="Chart.PaneControls.MinimizePane",e.ChartPaneControlsMovePaneDown="Chart.PaneControls.MovePaneDown",e.ChartPaneControlsMovePaneUp="Chart.PaneControls.MovePaneUp",e.ChartPaneControlsCollapsePane="Chart.PaneControls.CollapsePane",e.ChartPaneControlsRestorePane="Chart.PaneControls.RestorePane",e.ChartPriceScaleLabels="Chart.PriceScale.Labels",e.ChartPriceScaleLabelsToggleBidAskLabelsVisibility="Chart.PriceScale.Labels.ToggleBidAskLabelsVisibility",e.ChartPriceScaleLabelsToggleHighLowPriceLabelsVisibility="Chart.PriceScale.Labels.ToggleHighLowPriceLabelsVisibility",e.ChartPriceScaleLabelsToggleAveragePriceLabelVisibility="Chart.PriceScale.Labels.ToggleAveragePriceLabelVisibility",e.ChartPriceScaleLabelsToggleIndicatorsNameLabelsVisibility="Chart.PriceScale.Labels.ToggleIndicatorsNameLabelsVisibility",e.ChartPriceScaleLabelsToggleIndicatorsValueLabelsVisibility="Chart.PriceScale.Labels.ToggleIndicatorsValueLabelsVisibility",e.ChartPriceScaleLabelsTogglePrePostMarketLabelsVisibility="Chart.PriceScale.Labels.TogglePrePostMarketLabelsVisibility",e.ChartPriceScaleLabelsToggleNoOverlappingLabelsVisibility="Chart.PriceScale.Labels.ToggleNoOverlappingLabelsVisibility",e.ChartPriceScaleLabelsToggleSeriesLastValueVisibility="Chart.PriceScale.Labels.ToggleSeriesLastValueVisibility",e.ChartPriceScaleLabelsToggleSymbolNameLabelsVisibility="Chart.PriceScale.Labels.ToggleSymbolNameLabelsVisibility",e.ChartPriceScaleLabelsToggleSymbolPrevCloseValueVisibility="Chart.PriceScale.Labels.ToggleSymbolPrevCloseValueVisibility",e.ChartPriceScaleMergeAllScales="Chart.PriceScale.MergeAllScales",e.ChartPriceScaleMergeAllScalesToLeft="Chart.PriceScale.MergeAllScalesToLeft",e.ChartPriceScaleMergeAllScalesToRight="Chart.PriceScale.MergeAllScalesToRight",e.ChartPriceScaleMoveToLeft="Chart.PriceScale.MoveToLeft",e.ChartPriceScaleMoveToRight="Chart.PriceScale.MoveToRight",e.ChartPriceScaleReset="Chart.PriceScale.Reset",e.ChartPriceScaleToggleAddOrderPlusButtonVisibility="Chart.PriceScale.ToggleAddOrderPlusButtonVisibility",e.ChartPriceScaleToggleAutoScale="Chart.PriceScale.ToggleAutoScale",e.ChartPriceScaleToggleAutoScaleSeriesOnly="Chart.PriceScale.ToggleAutoScaleSeriesOnly",e.ChartPriceScaleToggleCountdownToBarCloseVisibility="Chart.PriceScale.ToggleCountdownToBarCloseVisibility",e.ChartPriceScaleToggleIndexedTo100="Chart.PriceScale.ToggleIndexedTo100",e.ChartPriceScaleToggleInvertScale="Chart.PriceScale.ToggleInvertScale",e.ChartPriceScaleToggleLogarithmic="Chart.PriceScale.ToggleLogarithmic",e.ChartPriceScaleTogglePercentage="Chart.PriceScale.TogglePercentage",e.ChartPriceScaleToggleRegular="Chart.PriceScale.ToggleRegular",e.ChartRedo="Chart.Redo",e.ChartRemoveAllIndicators="Chart.RemoveAllIndicators",e.ChartRemoveAllIndicatorsAndLineTools="Chart.RemoveAllIndicatorsAndLineTools",e.ChartRemoveAllLineTools="Chart.RemoveAllLineTools",e.ChartScalesReset="Chart.Scales.Reset",e.ChartScalesToggleLockPriceToBarRatio="Chart.Scales.ToggleLockPriceToBarRatio",e.ChartScrollToLineTool="Chart.ScrollToLineTool",e.ChartSelectedObjectHide="Chart.SelectedObject.Hide",e.ChartSelectedObjectRemove="Chart.SelectedObject.Remove",e.ChartSelectedObjectShow="Chart.SelectedObject.Show",e.ChartSelectedObjectShowSettingsDialog="Chart.SelectedObject.ShowSettingsDialog",e.ChartSelectedObjectInsertRowTable="Chart.SelectedObject.InsertRowTable",e.ChartSelectedObjectInsertColumnTable="Chart.SelectedObject.InsertColumnTable",e.ChartSelectedObjectRemoveRowTable="Chart.SelectedObject.RemoveRowTable",e.ChartSelectedObjectRemoveColumnTable="Chart.SelectedObject.RemoveColumnTable",e.ChartSelectedObjectToggleLocked="Chart.SelectedObject.ToggleLocked",e.ChartSelectedObjectToggleAnchored="Chart.SelectedObject.ToggleAnchored",e.ChartSeriesPriceScaleToggleAutoScale="Chart.Series.PriceScale.ToggleAutoScale",e.ChartSeriesPriceScaleToggleIndexedTo100="Chart.Series.PriceScale.ToggleIndexedTo100",e.ChartSeriesPriceScaleToggleInvertPriceScale="Chart.Series.PriceScale.ToggleInvertPriceScale",e.ChartSeriesPriceScaleToggleLogarithmic="Chart.Series.PriceScale.ToggleLogarithmic",e.ChartSeriesPriceScaleTogglePercentage="Chart.Series.PriceScale.TogglePercentage",e.ChartSeriesPriceScaleToggleRegular="Chart.Series.PriceScale.ToggleRegular",e.ChartSessionBreaksToggleVisibility="Chart.SessionBreaks.ToggleVisibility",e.ChartSetSession="Chart.SetSession",e.ChartSourceChangePriceScale="Chart.Source.ChangePriceScale",e.ChartSourceMergeDown="Chart.Source.MergeDown",e.ChartSourceMergeUp="Chart.Source.MergeUp",e.ChartSourceMoveToNoScale="Chart.Source.MoveToNoScale",e.ChartSourceMoveToOtherScale="Chart.Source.MoveToOtherScale",e.ChartSourceMoveToPane="Chart.Source.MoveToPane",e.ChartSourceUnmergeDown="Chart.Source.UnmergeDown",e.ChartSourceUnmergeUp="Chart.Source.UnmergeUp",e.ChartSourceVisualOrder="Chart.Source.VisualOrder",e.ChartSourceVisualOrderBringForward="Chart.Source.VisualOrder.BringForward",e.ChartSourceVisualOrderBringToFront="Chart.Source.VisualOrder.BringToFront",e.ChartSourceVisualOrderSendBackward="Chart.Source.VisualOrder.SendBackward",e.ChartSourceVisualOrderSendToBack="Chart.Source.VisualOrder.SendToBack",e.ChartSourceResetInputPoints="Chart.Source.ResetInputPoints",e.ChartThemeApply="Chart.Theme.Apply",e.ChartThemeApplyCustom="Chart.Theme.Apply.Custom",e.ChartThemeSaveAs="Chart.Theme.SaveAs",e.ChartTimeScaleReset="Chart.TimeScale.Reset",e.ChartUndo="Chart.Undo",e.ChartShowAllIdeas="Chart.ShowAllIdeas",e.ChartShowIdeasOfFollowedUsers="Chart.ShowIdeasOfFollowedUsers",e.ChartShowMyIdeasOnly="Chart.ShowMyIdeasOnly",e.ChartToggleVisibilityAllLineTools="Chart.ToggleVisibility.AllLineTools",e.ChartToggleVisibilityContinuousContractSwitch="Chart.ToggleVisibility.ContinuousContractSwitch",e.ChartToggleVisibilityContractExpiration="Chart.ToggleVisibility.ContractExpiration",e.ChartToggleVisibilityDividends="Chart.ToggleVisibility.Dividends",e.ChartToggleVisibilityEarnings="Chart.ToggleVisibility.Earnings",e.ChartToggleVisibilityEconomicEvents="Chart.ToggleVisibility.EconomicEvents",e.ChartToggleVisibilitySplits="Chart.ToggleVisibility.Splits",e.ChartToggleVisibilityLatestNewsAndMinds="Chart.ToggleVisibility.LatestNewsAndMinds",e.ChartToggleVisibilityKeyFactsToday="Chart.ToggleVisibility.KeyFactsToday",e.ChartSourceIntervalsVisibility="Chart.Source.IntervalsVisibility",e.ChartSourceIntervalsVisibilityCurrentAndAbove="Chart.Source.IntervalsVisibility.CurrentAndAbove",e.ChartSourceIntervalsVisibilityCurrentAndBelow="Chart.Source.IntervalsVisibility.CurrentAndBelow",e.ChartSourceIntervalsVisibilityOnlyCurrent="Chart.Source.IntervalsVisibility.Current",e.ChartSourceIntervalsVisibilityAll="Chart.Source.IntervalsVisibility.All",e.NoteCreate="Note.Create",e.NoteEdit="Note.Edit",e.NoteRemove="Note.Remove",e.ObjectsTreeCreateGroup="ObjectsTree.CreateGroup",e.ObjectsTreeRemoveItem="ObjectsTree.RemoveItem",e.ObjectsTreeRenameItem="ObjectsTree.RenameItem",e.ObjectsTreeToggleItemLocked="ObjectsTree.ToggleItemLocked",e.ObjectsTreeToggleItemVisibility="ObjectsTree.ToggleItemVisibility",e.PineEditorConsoleCopyMessage="PineEditor.Console.CopyMessage",e.PineEditorConsoleToggleVisibility="PineEditor.Console.ToggleVisibility",e.PineEditorConsoleClear="PineEditor.Console.Clear",e.ScreenerColumnRemove="Screener.Column.Remove",e.ScreenerFilterChange="Screener.Filter.Change",e.ScreenerFilterReset="Screener.Filter.Reset",e.ScreenerToggleVisibilityCurrency="Screener.ToggleVisibility.Currency",e.ScreenerToggleVisibilityDescription="Screener.ToggleVisibility.Description",e.ScreenerToggleVisibilityRating="Screener.ToggleVisibility.Rating",e.ScreenerToggleVisibilitySymbolType="Screener.ToggleVisibility.SymbolType",e.TradingCancelOrder="Trading.CancelOrder",e.TradingClosePosition="Trading.ClosePosition",e.TradingCustomActionId="Trading.CustomActionId",e.TradingDOMPlaceLimitOrder="Trading.DOMPlaceLimitOrder",e.TradingDOMPlaceMarketOrder="Trading.DOMPlaceMarketOrder",e.TradingDOMPlaceStopLimitOrder="Trading.DOMPlaceStopLimitOrder",e.TradingDOMPlaceStopOrder="Trading.DOMPlaceStopOrder",e.TradingEditOrder="Trading.EditOrder",e.TradingModifyPosition="Trading.ModifyPosition",e.TradingReversePosition="Trading.ReversePosition",e.TradingSellBuyButtonsToggleVisibility="Trading.SellBuyButtonsToggleVisibility",e.TradingTradeFromChart="Trading.TradeFromChart",e.TradingNoOverlapMode="Trading.NoOverlapMode",e.TradingShowSelectBrokerPanel="Trading.ShowSelectBrokerPanel",e.TradingOrderTitle="Trading.OrderTitle",e.TradingPositionTitle="Trading.PositionTitle",e.WatchlistActions="Watchlist.Actions",e.WatchlistAddSelectedSymbolsToCompare="Watchlist.AddSelectedSymbolsToCompare ",e.WatchlistAddSymbolToCompare="Watchlist.AddSymbolToCompare",e.WatchlistAddSymbolToSection="Watchlist.AddSymbolToSection",e.WatchlistChangeFlaggedGroupColor="Watchlist.ChangeFlaggedGroupColor",e.WatchlistAddSymbol="Watchlist.AddSymbol",e.WatchlistCreate="Watchlist.Create",e.WatchlistAddSelectedSymbols="Watchlist.AddSelectedSymbols",e.WatchlistAddSelectedSymbolsLists="Watchlist.AddSelectedSymbols.Lists",e.WatchlistGetDisplayedTickerDescription="Watchlist.GetDisplayedTickerDescription",e.WatchlistCreateSection="Watchlist.CreateSection",e.WatchlistFlagSelectedSymbols="Watchlist.FlagSelectedSymbols",e.WatchlistFlagSymbol="Watchlist.FlagSymbol",e.WatchlistOpenSymbolChart="Watchlist.OpenSymbolChart",e.WatchlistOpenSymbolOverview="Watchlist.OpenSymbolOverview",e.WatchlistRemoveSection="Watchlist.RemoveSection",e.WatchlistRemoveSymbol="Watchlist.RemoveSymbol",e.WatchlistRenameSection="Watchlist.RenameSection",e.WatchlistUnflagAllSymbols="Watchlist.UnflagAllSymbols",e.WatchlistUnflagSelectedSymbols="Watchlist.UnflagSelectedSymbols",e.WatchlistUnflagSymbol="Watchlist.UnflagSymbol"}(i||(i={})),function(e){e.extractErrorReason=function(e){return e.params[1]}}(n||(n={})),function(e){e.Default="default",e.FullSingleSession="full_single_session"}(o||(o={})),function(e){e.PeriodBack="period-back",e.TimeRange="time-range"}(a||(a={})),function(e){e.PeriodBack="period-back",e.TimeRange="time-range"}(s||(s={})),function(e){e.Open="market",e.Pre="pre_market",e.Post="post_market",e.Close="out_of_session",e.Holiday="holiday"}(l||(l={})),function(e){e.Separator="separator",e.Action="action"}(c||(c={})),function(e){e[e.All=0]="All",e[e.BarMarks=1]="BarMarks",e[e.TimeScaleMarks=2]="TimeScaleMarks"}(d||(d={})),function(e){e[e.Line=0]="Line",e[e.Histogram=1]="Histogram",e[e.Cross=3]="Cross",e[e.Area=4]="Area",e[e.Columns=5]="Columns",e[e.Circles=6]="Circles",e[e.LineWithBreaks=7]="LineWithBreaks",e[e.AreaWithBreaks=8]="AreaWithBreaks",e[e.StepLine=9]="StepLine",e[e.StepLineWithDiamonds=10]="StepLineWithDiamonds",e[e.StepLineWithBreaks=11]="StepLineWithBreaks"}(h||(h={})),function(e){e.Line="line",e.Colorer="colorer",e.BarColorer="bar_colorer",e.BgColorer="bg_colorer",e.TextColorer="text_colorer",e.OhlcColorer="ohlc_colorer",e.CandleWickColorer="wick_colorer",e.CandleBorderColorer="border_colorer",e.UpColorer="up_colorer",e.DownColorer="down_colorer",e.Shapes="shapes",e.Chars="chars",e.Arrows="arrows",e.Data="data",e.DataOffset="dataoffset",e.OhlcOpen="ohlc_open",e.OhlcHigh="ohlc_high",e.OhlcLow="ohlc_low",e.OhlcClose="ohlc_close"}(u||(u={})),function(e){e.AlertCondition="alertcondition"}(g||(g={})),function(e){e[e.None=0]="None",e[e.Pane=1]="Pane",e[e.DataWindow=2]="DataWindow",e[e.PriceScale=4]="PriceScale",e[e.StatusLine=8]="StatusLine",e[e.All=15]="All"}(m||(m={})),function(e){e[e.None=0]="None",e[e.Pane=1]="Pane",e[e.DataWindow=2]="DataWindow",e[e.PriceScale=4]="PriceScale",e[e.StatusLine=8]="StatusLine",e[e.All=15]="All"}(p||(p={})),function(e){e.OhlcBars="ohlc_bars",e.OhlcCandles="ohlc_candles"}(w||(w={})),function(e){e.Auto="auto",e.Tiny="tiny",e.Small="small",e.Normal="normal",e.Large="large",e.Huge="huge"}(f||(f={})),function(e){e.Integer="integer",e.Float="float",e.Price="price",e.Bool="bool",e.Text="text",e.Symbol="symbol",e.Session="session",e.Source="source",e.Resolution="resolution",e.Time="time",e.BarTime="bar_time",e.Color="color",e.Textarea="text_area"}(C||(C={})),function(e){e[e.None=0]="None",e[e.DataWindow=2]="DataWindow",e[e.StatusLine=8]="StatusLine",e[e.All=15]="All"}(y||(y={})),function(e){e.InitialCapital="initial_capital",e.Currency="currency",e.DefaultQTYValue="default_qty_value",e.DefaultQTYType="default_qty_type",e.Pyramiding="pyramiding",e.ComissionValue="commission_value",e.ComissionType="commission_type",e.BacktestFillLimitsAssumtion="backtest_fill_limits_assumption",e.Slippage="slippage",e.CalcOnOrderFills="calc_on_order_fills",e.CalcOnEveryTick="calc_on_every_tick",e.MarginLong="margin_long",e.MarginShort="margin_short",e.UseBarMagnifier="use_bar_magnifier",e.ProcessOrdersOnClose="process_orders_on_close",e.FillOrdersOnStandardOHLC="fill_orders_on_standard_ohlc"}(b||(b={})),function(e){e.Fixed="fixed",e.CashPerOrder="cash_per_order",e.PercentOfEquity="percent_of_equity"}(S||(S={})),function(e){e.Percent="percent",e.CashPerContract="cash_per_contract",e.CashPerOrder="cash_per_order"}(_||(_={})),function(e){e.FirstBar="first_visible_bar_time",e.LastBar="last_visible_bar_time",e.Realtime="subscribeRealtime"}(v||(v={})),function(e){e.FgColor="__chart_fgcolor",e.BgColor="__chart_bgcolor"}(T||(T={})),function(e){e[e.Right=0]="Right",e[e.Left=1]="Left",e[e.NoScale=2]="NoScale"}(L||(L={})),function(e){e[e.Right=0]="Right",e[e.Left=1]="Left",e[e.None=2]="None"}(P||(P={})),function(e){e.TypePlots="plot_plot",e.TypeHlines="hline_hline"}(I||(I={})),function(e){e[e.StopLoss=0]="StopLoss",e[e.TrailingStop=1]="TrailingStop",e[e.GuaranteedStop=2]="GuaranteedStop"}(A||(A={})),function(e){e.Stocks="stocks",e.Futures="futures",e.Forex="forex",e.Crypto="crypto",e.Others="others"}(F||(F={})),function(e){e.Symbol="symbol"}(D||(D={})),function(e){e[e.PopUp=0]="PopUp",e[e.Notification=1]="Notification"}(O||(O={})),function(e){e.Quantity="qty",e.OrderSide="side",e.Price="price",e.Duration="duration",e.Brackets="brackets",e.StopLossType="slType"}(k||(k={})),function(e){e[e.CONNECTED=1]="CONNECTED",e[e.CONNECTING=2]="CONNECTING",e[e.DISCONNECTED=3]="DISCONNECTED",e[e.ERROR=4]="ERROR"}(R||(R={})),function(e){e[e.Connected=1]="Connected",e[e.Connecting=2]="Connecting",e[e.Disconnected=3]="Disconnected",e[e.Error=4]="Error"}(E||(E={})),function(e){e[e.LIMIT=1]="LIMIT",e[e.MARKET=2]="MARKET",e[e.STOP=3]="STOP",e[e.STOPLIMIT=4]="STOPLIMIT"}(M||(M={})),function(e){e[e.Limit=1]="Limit",e[e.Market=2]="Market",e[e.Stop=3]="Stop",e[e.StopLimit=4]="StopLimit"}(V||(V={})),function(e){e[e.BUY=1]="BUY",e[e.SELL=-1]="SELL"}(x||(x={})),function(e){e[e.Buy=1]="Buy",e[e.Sell=-1]="Sell"}(W||(W={})),function(e){e[e.CANCELED=1]="CANCELED",e[e.FILLED=2]="FILLED",e[e.INACTIVE=3]="INACTIVE",e[e.PLACING=4]="PLACING",e[e.REJECTED=5]="REJECTED",e[e.WORKING=6]="WORKING"}(B||(B={})),function(e){e[e.ALL=0]="ALL",e[e.CANCELED=1]="CANCELED",e[e.FILLED=2]="FILLED",e[e.INACTIVE=3]="INACTIVE",e[e.REJECTED=5]="REJECTED",e[e.WORKING=6]="WORKING"}(N||(N={})),function(e){e[e.Canceled=1]="Canceled",e[e.Filled=2]="Filled",e[e.Inactive=3]="Inactive",e[e.Placing=4]="Placing",e[e.Rejected=5]="Rejected",e[e.Working=6]="Working"}(U||(U={})),function(e){e[e.All=0]="All",e[e.Canceled=1]="Canceled",e[e.Filled=2]="Filled",e[e.Inactive=3]="Inactive",e[e.Rejected=5]="Rejected",e[e.Working=6]="Working"}($||($={})),function(e){e[e.Order=1]="Order",e[e.Position=2]="Position"}(j||(j={})),function(e){e[e.ORDER=1]="ORDER",e[e.POSITION=2]="POSITION"}(H||(H={})),function(e){e[e.Order=1]="Order",e[e.Position=2]="Position",e[e.IndividualPosition=3]="IndividualPosition"}(z||(z={})),function(e){e[e.StopLoss=0]="StopLoss",e[e.TakeProfit=1]="TakeProfit",e[e.TrailingStop=2]="TrailingStop",e[e.GuaranteedStop=3]="GuaranteedStop"}(G||(G={})),function(e){e[e.LIMITPRICE=1]="LIMITPRICE",e[e.STOPPRICE=2]="STOPPRICE",e[e.TAKEPROFIT=3]="TAKEPROFIT",e[e.STOPLOSS=4]="STOPLOSS"}(Z||(Z={})),function(e){e[e.LimitPrice=1]="LimitPrice",e[e.StopPrice=2]="StopPrice",e[e.TakeProfit=3]="TakeProfit",e[e.StopLoss=4]="StopLoss",e[e.Quantity=5]="Quantity"}(q||(q={})),function(e){e[e.ERROR=0]="ERROR",e[e.SUCCESS=1]="SUCCESS"}(J||(J={})),function(e){e[e.Error=0]="Error",e[e.Success=1]="Success"}(K||(K={})),function(e){e[e.Demo=1]="Demo",e[e.Real=0]="Real"}(Q||(Q={})),function(e){e.Information="information",e.Warning="warning",e.Error="error"}(X||(X={})),function(e){e.Demo="demo",e.Live="live"}(Y||(Y={})),function(e){e[e.LogOut=0]="LogOut",e[e.FailedRestoring=1]="FailedRestoring",e[e.Offline=2]="Offline",e[e.APIError=3]="APIError",e[e.TwoFactorRequired=4]="TwoFactorRequired",e[e.CancelAuthorization=5]="CancelAuthorization",e[e.TimeOutForAuthorization=6]="TimeOutForAuthorization",e[e.OauthError=7]="OauthError",e[e.BrokenConnection=8]="BrokenConnection",e[e.Reconnect=9]="Reconnect",e[e.FailedSignIn=10]="FailedSignIn"}(ee||(ee={})),function(e){e[e.None=0]="None",e[e.Pips=1]="Pips",e[e.Ticks=2]="Ticks"}(te||(te={})),function(e){e.Halted="HALTED",e.NotShortable="NOT-SHORTABLE",e.HardToBorrow="HARD-TO-BORROW"}(re||(re={})),function(e){e[e.Limit=1]="Limit",e[e.Stop=2]="Stop"}(ie||(ie={})),function(e){e.Disallowed="disallowed",e.Allowed="allowed",e.AllowedWithWarning="allowed_with_warning"}(ne||(ne={})),function(e){e.PlaceOrder="place_order",e.ModifyOrder="modify_order",e.CancelOrder="cancel_order",e.ModifyPosition="modify_position",e.ClosePosition="close_position",e.ModifyIndividualPosition="modify_individual_position",e.CloseIndividualPosition="close_individual_position",e.CloseNetPosition="close_net_position"}(oe||(oe={})),function(e){e.Date="date",e.DateOrDateTime="dateOrDateTime",e.Default="default",e.Fixed="fixed",e.FixedInCurrency="fixedInCurrency",e.VariablePrecision="variablePrecision",e.FormatQuantity="formatQuantity",e.FormatPrice="formatPrice",e.FormatPriceForexSup="formatPriceForexSup",e.FormatPriceInCurrency="formatPriceInCurrency",e.IntegerSeparated="integerSeparated",e.LocalDate="localDate",e.LocalDateOrDateTime="localDateOrDateTime",e.Percentage="percentage",e.Pips="pips",e.Profit="profit",e.ProfitInInstrumentCurrency="profitInInstrumentCurrency",e.Side="side",e.PositionSide="positionSide",e.Status="status",e.Symbol="symbol",e.Text="text",e.Type="type",e.MarginPercent="marginPercent",e.Empty="empty"}(ae||(ae={})),function(e){e[e.LastPriceAndPercentageValue=0]="LastPriceAndPercentageValue",e[e.LastValueAccordingToScale=1]="LastValueAccordingToScale"}(se||(se={})),function(e){e[e.Solid=0]="Solid",e[e.Dotted=1]="Dotted",e[e.Dashed=2]="Dashed"}(le||(le={})),function(e){e[e.Offline=0]="Offline",e[e.Resolving=1]="Resolving",e[e.Loading=2]="Loading",e[e.Ready=3]="Ready",e[e.InvalidSymbol=4]="InvalidSymbol",e[e.Snapshot=5]="Snapshot",e[e.EOD=6]="EOD",e[e.Pulse=7]="Pulse",e[e.Delayed=8]="Delayed",e[e.DelayedSteaming=9]="DelayedSteaming",e[e.NoBars=10]="NoBars",e[e.Replay=11]="Replay",e[e.Error=12]="Error",e[e.CalculationError=13]="CalculationError",e[e.UnsupportedResolution=14]="UnsupportedResolution"}(ce||(ce={})),function(e){e[e.Markers=0]="Markers",e[e.Stepline=1]="Stepline",e[e.Simple=2]="Simple"}(de||(de={})),function(e){e[e.Bar=0]="Bar",e[e.Candle=1]="Candle",e[e.Line=2]="Line",e[e.Area=3]="Area",e[e.Renko=4]="Renko",e[e.Kagi=5]="Kagi",e[e.PnF=6]="PnF",e[e.LineBreak=7]="LineBreak",e[e.HeikinAshi=8]="HeikinAshi",e[e.HollowCandle=9]="HollowCandle",e[e.Baseline=10]="Baseline",e[e.Range=11]="Range",e[e.HiLo=12]="HiLo",e[e.Column=13]="Column",e[e.LineWithMarkers=14]="LineWithMarkers",e[e.Stepline=15]="Stepline",e[e.HLCArea=16]="HLCArea",e[e.VolFootprint=17]="VolFootprint",e[e.TPO=18]="TPO",e[e.VolCandle=19]="VolCandle",e[e.SVP=20]="SVP",e[e.HLCBars=21]="HLCBars"}(he||(he={})),function(e){e.TwentyFourHours="24-hours",e.TwelveHours="12-hours"}(ue||(ue={})),function(e){e[e.Initial=2]="Initial",e[e.SeriesZOrderIsAlwaysZero=3]="SeriesZOrderIsAlwaysZero",e[e.Current=3]="Current"}(ge||(ge={})),function(e){e[e.Money=0]="Money",e[e.Pips=1]="Pips",e[e.Percentage=2]="Percentage"}(me||(me={})),function(e){e[e.Left=0]="Left",e[e.Center=1]="Center",e[e.Right=2]="Right"}(pe||(pe={})),me.Money,me.Money,pe.Right,function(e){e[e.Background=0]="Background",e[e.Foreground=1]="Foreground",e[e.Topmost=2]="Topmost"}(we||(we={})),function(e){e[e.Unavailable=0]="Unavailable",e[e.AvailableReadonlyAlwaysDisabled=1]="AvailableReadonlyAlwaysDisabled",e[e.AvailableReadonlyAlwaysEnabled=2]="AvailableReadonlyAlwaysEnabled",e[e.Available=3]="Available"}(fe||(fe={})),function(e){e[e.ViewportChangeUserAction=0]="ViewportChangeUserAction",e[e.DataUpdate=1]="DataUpdate",e[e.SeriesRestart=2]="SeriesRestart",e[e.SeriesCompleted=3]="SeriesCompleted",e[e.StudyCreation=4]="StudyCreation"}(Ce||(Ce={})),function(e){e[e.Chart=0]="Chart"}(ye||(ye={})),function(e){e.AlwaysOn="alwaysOn",e.VisibleOnMouseOver="visibleOnMouseOver",e.AlwaysOff="alwaysOff"}(be||(be={})),function(e){e[e.Normal=0]="Normal",e[e.Log=1]="Log",e[e.Percentage=2]="Percentage",e[e.IndexedTo100=3]="IndexedTo100"}(Se||(Se={})),function(e){e[e.Bars=0]="Bars",e[e.Candles=1]="Candles",e[e.Line=2]="Line",e[e.Area=3]="Area",e[e.HeikenAshi=8]="HeikenAshi",e[e.HollowCandles=9]="HollowCandles",e[e.Baseline=10]="Baseline",e[e.HiLo=12]="HiLo",e[e.Column=13]="Column",e[e.LineWithMarkers=14]="LineWithMarkers",e[e.Stepline=15]="Stepline",e[e.HLCArea=16]="HLCArea",e[e.VolCandle=19]="VolCandle",e[e.HLCBars=21]="HLCBars",e[e.Renko=4]="Renko",e[e.Kagi=5]="Kagi",e[e.PointAndFigure=6]="PointAndFigure",e[e.LineBreak=7]="LineBreak"}(_e||(_e={})),function(e){e.Value="_seriesId"}(ve||(ve={})),function(e){e[e.InvalidSymbol=0]="InvalidSymbol",e[e.ReplayUnsupported=1]="ReplayUnsupported",e[e.UnsupportedDepth=2]="UnsupportedDepth",e[e.UnsupportedIntradyReplay=3]="UnsupportedIntradyReplay"}(Te||(Te={})),function(e){e.LeftToRight="left_to_right",e.RightToLeft="right_to_left"}(Le||(Le={})),function(e){e.Relative="relative",e.Absolute="absolute"}(Pe||(Pe={})),function(e){e.UpDown="Up/Down",e.Total="Total",e.Delta="Delta"}(Ie||(Ie={})),function(e){e.AboveBar="AboveBar",e.BelowBar="BelowBar",e.Top="Top",e.Bottom="Bottom",e.Right="Right",e.Left="Left",e.Absolute="Absolute",e.AbsoluteUp="AbsoluteUp",e.AbsoluteDown="AbsoluteDown"}(Ae||(Ae={})),function(e){e.Left="left",e.Center="center",e.Right="right"}(Fe||(Fe={})),function(e){e.Top="top",e.Middle="middle",e.Bottom="bottom"}(De||(De={})),function(e){e[e.Solid=0]="Solid",e[e.Dotted=1]="Dotted",e[e.Dashed=2]="Dashed"}(Oe||(Oe={}));const Re={width:800,height:500,interval:"1D",timezone:"Etc/UTC",container:"",library_path:"",locale:"en",widgetbar:{details:!1,watchlist:!1,news:!1,datawindow:!1,watchlist_settings:{default_symbols:[]}},overrides:{"mainSeriesProperties.showCountdown":!1},studies_overrides:{},trading_customization:{position:{},order:{}},brokerConfig:{configFlags:{}},fullscreen:!1,autosize:!1,disabled_features:[],enabled_features:[],debug:!1,logo:{},time_frames:[{text:"5y",resolution:"1W"},{text:"1y",resolution:"1W"},{text:"6m",resolution:"120"},{text:"3m",resolution:"60"},{text:"1m",resolution:"30"},{text:"5d",resolution:"5"},{text:"1d",resolution:"1"}],client_id:"0",user_id:"0",charts_storage_api_version:"1.0",favorites:{intervals:[],chartTypes:[],indicators:[],drawingTools:[]}},Ee=JSON.parse('[{"iso":"ar","dir":"rtl","language":"ar"},{"iso":"pt","dir":"ltr","language":"pt"},{"iso":"ca","dir":"ltr","language":"ca_ES"},{"iso":"cs","dir":"ltr","language":"cs"},{"iso":"de","dir":"ltr","language":"de"},{"iso":"en","dir":"ltr","language":"en"},{"iso":"es","dir":"ltr","language":"es"},{"iso":"fr","dir":"ltr","language":"fr"},{"iso":"he","dir":"rtl","language":"he_IL"},{"iso":"hu","dir":"ltr","language":"hu_HU"},{"iso":"id","dir":"ltr","language":"id_ID"},{"iso":"en","dir":"ltr","language":"en"},{"iso":"it","dir":"ltr","language":"it"},{"iso":"ja","dir":"ltr","language":"ja"},{"iso":"ko","dir":"ltr","language":"ko"},{"iso":"ms","dir":"ltr","language":"ms_MY"},{"iso":"pl","dir":"ltr","language":"pl"},{"iso":"ru","dir":"ltr","language":"ru"},{"iso":"sv","dir":"ltr","language":"sv"},{"iso":"th","dir":"ltr","language":"th"},{"iso":"tr","dir":"ltr","language":"tr"},{"iso":"vi","dir":"ltr","language":"vi"},{"iso":"zh-Hans","dir":"ltr","language":"zh"},{"iso":"zh-Hant","dir":"ltr","language":"zh_TW"},{"iso":"el","dir":"ltr","language":"el"},{"iso":"nl","dir":"ltr","language":"nl_NL"},{"iso":"ro","dir":"ltr","language":"ro"}]');let Me=!1;const Ve=class{constructor(e){if(this._id=`tradingview_${(1048576*(1+Math.random())|0).toString(16).substring(1)}`,this._ready=!1,this._readyHandlers=[],this._onWindowResize=this._autoResizeChart.bind(this),!e.datafeed)throw new Error("Datafeed is not defined");e.overrides?.["mainSeriesProperties.priceAxisProperties.lockScale"]&&(console.warn("mainSeriesProperties.priceAxisProperties.lockScale can not be set to true within the widget constructor"),delete e.overrides["mainSeriesProperties.priceAxisProperties.lockScale"]),this._options=ke(Re,e),"dark"===(this._options.theme??"light").toLowerCase()&&void 0===this._options.loading_screen&&(this._options.loading_screen={backgroundColor:"#131722"}),(this._options.debug||this._options.debug_broker)&&(Me||(Me=!0,console.log("Using CL v29.3.0 (internal id 600f67b870c88a89c46e6ef27f17e88ca7fba741 @ 2025-05-08T13:32:24.827Z)"))),this._innerWindowLoaded=new Promise((e=>{this._innerWindowResolver=e})),this._create()}setDebugMode(e){this._innerAPI().setDebugMode(e)}onChartReady(e){this._ready?e.call(this):this._readyHandlers.push(e)}headerReady(){return this._innerWindowLoaded.then((()=>this._innerWindow().headerReady()))}onGrayedObjectClicked(e){this._doWhenInnerApiLoaded((t=>{t.onGrayedObjectClicked(e)}))}onShortcut(e,t){this._doWhenInnerWindowLoaded((r=>{r.createShortcutAction(e,t)}))}subscribe(e,t){this._doWhenInnerApiLoaded((r=>{r.subscribe(e,t)}))}unsubscribe(e,t){this._doWhenInnerApiLoaded((r=>{r.unsubscribe(e,t)}))}chart(e){return this._innerAPI().chart(e)}getLanguage(){return this._options.locale}setSymbol(e,t,r){this._innerAPI().changeSymbol(e,t,r)}remove(){window.removeEventListener("resize",this._onWindowResize),this._readyHandlers.splice(0,this._readyHandlers.length),delete window[this._id],this._iFrame.parentNode&&this._iFrame.parentNode.removeChild(this._iFrame)}closePopupsAndDialogs(){this._doWhenInnerApiLoaded((e=>{e.closePopupsAndDialogs()}))}selectLineTool(e,t){return this._innerAPI().selectLineTool(e,t)}selectedLineTool(){return this._innerAPI().selectedLineTool()}save(e,t){this._innerAPI().saveChart(e,t)}async load(e,t){return this._innerAPI().loadChart({json:e,extendedData:t})}getSavedCharts(e){this._innerAPI().getSavedCharts(e)}loadChartFromServer(e){return this._innerAPI().loadChartFromServer(e)}saveChartToServer(e,t,r){this._innerAPI().saveChartToServer(e,t,r)}removeChartFromServer(e,t){this._innerAPI().removeChartFromServer(e,t)}onContextMenu(e){this._doWhenInnerApiLoaded((t=>{t.onContextMenu(e)}))}createButton(e){return this._innerWindow().createButton(e)}removeButton(e){this._innerWindow().removeButton(e)}createDropdown(e){return this._innerWindow().createDropdown(e)}showNoticeDialog(e){this._doWhenInnerApiLoaded((t=>{t.showNoticeDialog(e)}))}showConfirmDialog(e){this._doWhenInnerApiLoaded((t=>{t.showConfirmDialog(e)}))}showLoadChartDialog(){this._innerAPI().showLoadChartDialog()}showSaveAsChartDialog(){this._innerAPI().showSaveAsChartDialog()}symbolInterval(){return this._innerAPI().getSymbolInterval()}mainSeriesPriceFormatter(){return this._innerAPI().mainSeriesPriceFormatter()}getIntervals(){return this._innerAPI().getIntervals()}getStudiesList(){return this._innerAPI().getStudiesList()}getStudyInputs(e){return this._innerAPI().getStudyInputs(e)}getStudyStyles(e){return this._innerAPI().getStudyStyles(e)}addCustomCSSFile(e){this._innerWindow().addCustomCSSFile(e)}applyOverrides(e){this._options=ke(this._options,{overrides:e}),this._doWhenInnerWindowLoaded((t=>{t.applyOverrides(e)}))}applyStudiesOverrides(e){this._doWhenInnerWindowLoaded((t=>{t.applyStudiesOverrides(e)}))}watchList(){return this._innerAPI().watchlist()}news(){return this._innerAPI().news()}widgetbar(){return this._innerAPI().widgetbar()}activeChart(){return this._innerAPI().activeChart()}activeChartIndex(){return this._innerAPI().activeChartIndex()}setActiveChart(e){return this._innerAPI().setActiveChart(e)}chartsCount(){return this._innerAPI().chartsCount()}layout(){return this._innerAPI().layout()}setLayout(e){this._innerAPI().setLayout(e)}layoutName(){return this._innerAPI().layoutName()}resetLayoutSizes(e){this._innerAPI().resetLayoutSizes(e)}changeTheme(e,t){return this._innerWindow().changeTheme(e,t)}getTheme(){return this._innerWindow().getTheme()}takeScreenshot(){this._doWhenInnerApiLoaded((e=>{e.takeScreenshot()}))}lockAllDrawingTools(){return this._innerAPI().lockAllDrawingTools()}hideAllDrawingTools(){return this._innerAPI().hideAllDrawingTools()}drawOnAllChartsEnabled(){return this._innerAPI().drawOnAllChartsEnabled()}drawOnAllCharts(e){this._innerAPI().drawOnAllCharts(e)}magnetEnabled(){return this._innerAPI().magnetEnabled()}magnetMode(){return this._innerAPI().magnetMode()}undoRedoState(){return this._innerAPI().undoRedoState()}setIntervalLinkingEnabled(e){this._innerAPI().setIntervalLinkingEnabled(e)}setDateRangeLinkingEnabled(e){this._innerAPI().setDateRangeLinkingEnabled(e)}setTimeFrame(e){this._innerAPI().setTimeFrame(e)}symbolSync(){return this._innerAPI().symbolSync()}intervalSync(){return this._innerAPI().intervalSync()}crosshairSync(){return this._innerAPI().crosshairSync()}timeSync(){return this._innerAPI().timeSync()}dateRangeSync(){return this._innerAPI().dateRangeSync()}setFeatureEnabled(e,t){this._innerAPI().setFeatureEnabled(e,t)}getAllFeatures(){return this._innerWindow().getAllFeatures()}clearUndoHistory(){return this._innerAPI().clearUndoHistory()}undo(){return this._innerAPI().undo()}redo(){return this._innerAPI().redo()}startFullscreen(){this._innerAPI().startFullscreen()}exitFullscreen(){this._innerAPI().exitFullscreen()}takeClientScreenshot(e){return this._innerAPI().takeClientScreenshot(e)}navigationButtonsVisibility(){return this._innerWindow().getNavigationButtonsVisibility()}paneButtonsVisibility(){return this._innerWindow().getPaneButtonsVisibility()}dateFormat(){return this._innerWindow().getDateFormat()}timeHoursFormat(){return this._innerWindow().getTimeHoursFormat()}currencyAndUnitVisibility(){return this._innerWindow().getCurrencyAndUnitVisibility()}supportedChartTypes(){return this._innerAPI().supportedChartTypes()}watermark(){return this._innerAPI().watermark()}customSymbolStatus(){return this._innerWindow().customSymbolStatus()}setCSSCustomProperty(e,t){if(!1===e.startsWith("--"))throw new Error("customPropertyName should begin with a double hyphen");this._innerWindow().document.body.style.setProperty(e,t)}getCSSCustomPropertyValue(e){if(!1===e.startsWith("--"))throw new Error("customPropertyName should begin with a double hyphen");const t=this._innerWindow().document.body,r=t.style.getPropertyValue(e);return r||getComputedStyle(t).getPropertyValue(e)}unloadUnusedCharts(){this._innerAPI().unloadUnusedCharts()}async customThemes(){return this._innerWindow().customThemes()}resetCache(){this._innerAPI().resetCache()}linking(){return this._innerAPI().linking}_innerAPI(){return this._innerWindow().tradingViewApi}_innerWindow(){return this._iFrame.contentWindow}_doWhenInnerWindowLoaded(e){this._ready?e(this._innerWindow()):this._innerWindowLoaded.then((()=>{e(this._innerWindow())}))}_doWhenInnerApiLoaded(e){this._doWhenInnerWindowLoaded((t=>{t.doWhenApiIsReady((()=>e(this._innerAPI())))}))}_autoResizeChart(){this._options.fullscreen&&(this._iFrame.style.height=window.innerHeight+"px",xe&&setTimeout((()=>{this._iFrame.style.height=window.innerHeight+"px"}),30))}async _create(){const e=this._options.enabled_features?.includes("iframe_loading_same_origin")??!1,t=e||(this._options.enabled_features?.includes("iframe_loading_compatibility_mode")??!1),[r,i]=this._render(!t,e),n=this._options.container,o="string"==typeof n?document.getElementById(n):n;if(null===o)throw new Error(`There is no such element - #${this._options.container}`);o.innerHTML=r,this._iFrame=o.querySelector(`#${this._id}`);const a=this._iFrame;e&&await this._innerWindowEvent("sameOriginLoad"),t&&(a.contentWindow?(a.contentWindow.document.open(),a.contentWindow.document.write(i),a.contentWindow.document.close()):console.warn("Unable to locate contentWindow for the created iframe. Please try disabling the `iframe_loading_compatibility_mode` featureset.")),this._innerWindow().addEventListener("innerWindowLoad",(e=>{e.detail.received=!0,function(e,t){if(void 0===e)throw new Error("_innerWindowResolver is undefined");return e}(this._innerWindowResolver)()}),{once:!0}),(this._options.autosize||this._options.fullscreen)&&(a.style.width="100%",this._options.fullscreen||(a.style.height="100%")),window.addEventListener("resize",this._onWindowResize),this._onWindowResize(),this._innerWindowLoaded.then((()=>{try{this._innerWindow().widgetReady((()=>{this._ready=!0;for(const t of this._readyHandlers)try{t.call(this)}catch(e){console.error(e)}this._innerWindow().initializationFinished()}))}catch(e){if(e instanceof Error&&/widgetReady is not a function/.test(e.message))throw new Error(`There was an error when loading the library. Usually this error means the library failed to load its static files. Check that the library files are available at ${window.location.host}/${this._options.library_path||""} or correct the library_path option.`)}}))}_innerWindowEvent(e){return new Promise((t=>{this._innerWindow().addEventListener(e,t,{once:!0})}))}_render(e,t){const r=window;if(r[this._id]={datafeed:this._options.datafeed,customFormatters:this._options.custom_formatters,brokerFactory:this._options.broker_factory,overrides:this._options.overrides,studiesOverrides:this._options.studies_overrides,tradingCustomization:this._options.trading_customization,disabledFeatures:this._options.disabled_features,enabledFeatures:this._options.enabled_features,brokerConfig:this._options.broker_config||this._options.brokerConfig,restConfig:this._options.restConfig,favorites:this._options.favorites,logo:this._options.logo,numeric_formatting:this._options.numeric_formatting,rss_news_feed:this._options.rss_news_feed,rss_news_title:this._options.rss_news_title,newsProvider:this._options.news_provider,loadLastChart:this._options.load_last_chart,saveLoadAdapter:this._options.save_load_adapter,loading_screen:this._options.loading_screen,settingsAdapter:this._options.settings_adapter,getCustomIndicators:this._options.custom_indicators_getter,additionalSymbolInfoFields:this._options.additional_symbol_info_fields,headerWidgetButtonsMode:this._options.header_widget_buttons_mode,customTranslateFunction:this._options.custom_translate_function,symbolSearchComplete:this._options.symbol_search_complete,contextMenu:this._options.context_menu,settingsOverrides:this._options.settings_overrides,timeframe:this._options.timeframe,customTimezones:this._options.custom_timezones,customChartDescriptionFunction:this._options.custom_chart_description_function,customThemes:this._options.custom_themes,imageStorageAdapter:this._options.image_storage_adapter},this._options.saved_data)r[this._id].chartContent={json:this._options.saved_data},this._options.saved_data_meta_info&&(r[this._id].chartContentExtendedData=this._options.saved_data_meta_info);else if(!this._options.load_last_chart&&!this._options.symbol)throw new Error("Symbol is not defined: either 'symbol' or 'load_last_chart' option must be set");if(this._options.library_path&&!this._options.library_path.endsWith("/")&&console.warn("library_path option should contain a trailing forward slash"),this._options.locale){const e=encodeURIComponent(this._options.locale);Ee.findIndex((t=>t.language===e))>=0||(console.warn("locale isn't supported. Using default of `en`."),this._options.locale="en")}const i=function(e,t){const r=new URL(`${e||""}`,location.href).href,i=JSON.parse('["bundles/runtime.528f81f7a425983444d8.js","bundles/__LANG__.9488.2f156b47fe84118759c5.js","bundles/1996.25e6f30e7a095ec239f4.css","bundles/207.2e06ffb7ce05936178f2.js","bundles/library.2a35263e52ab75f5729a.js"]'),n=encodeURIComponent(t),o=Ee.find((e=>e.language===n))??{iso:"en",dir:"ltr"},a=`lang="${o.iso}" dir="${o.dir}"`,s=`\n${function(e,t,r){if(void 0===e)return"";const i=[],n=[];for(const o of e)o.endsWith(".js")?i.push(`<script defer crossorigin="anonymous" src="${o.replace("__LANG__",r)}"><\/script>`):o.endsWith(".css")&&n.push(`<link type="text/css" href="${t?o.replace(/\.css$/i,".rtl.css"):o}" rel="stylesheet"/>`);return[...i,...n].join("\n")}(i,"rtl"===o.dir,n)}\n`;return`<!DOCTYPE html><html ${(l={bundles:s,localeLanguage:n,htmlAttrs:a,libraryPath:r}).htmlAttrs}><head><base href="${l.libraryPath}"><meta charset="utf-8"><script>window===window.parent&&(location.href="about:blank")<\/script> ${l.bundles} </head><body class="chart-page unselectable on-widget"><div class="loading-indicator" id="loading-indicator"></div><script>var JSServer={},__initialEnabledFeaturesets=["charting_library"]<\/script><script>(function() {\n\t\twindow.urlParams = (function () {\n\t\t\tvar match,\n\t\t\t\tpl\t = /\\+/g,  // Regex for replacing addition symbol with a space\n\t\t\t\tsearch = /([^&=]+)=?([^&]*)/g,\n\t\t\t\tdecode = function (s) { return decodeURIComponent(s.replace(pl, ' ')).replace(/<\\/?[^>]+(>|$)/g, ''); },\n\t\t\t\tquery = function() {\n\t\t\t\t\t// We don't use hash on the url because: safari 13 throws an error if you attempt this\n\t\t\t\t\t// on a blob, and safari 14 will strip hash from blob urls.\n\t\t\t\t\tif (frameElement && frameElement.dataset.widgetOptions) {\n\t\t\t\t\t\treturn frameElement.dataset.widgetOptions;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthrow "Unexpected use of this page";\n\t\t\t\t\t}\n\t\t\t\t}(),\n\t\t\t\tresult = {};\n\n\t\t\twhile (match = search.exec(query)) {\n\t\t\t\tresult[decode(match[1])] = decode(match[2]);\n\t\t\t}\n\n\t\t\tvar additionalSettingsObject = window.parent[result.uid];\n\n\t\t\tvar customObjectNames = ['datafeed', 'customFormatters', 'brokerFactory', 'save_load_adapter', 'customTranslateFunction', 'contextMenu'];\n\n\t\t\tfor (var p in additionalSettingsObject) {\n\t\t\t\tif (customObjectNames.indexOf(p) === -1) {\n\t\t\t\t\tresult[p] = JSON.stringify(additionalSettingsObject[p]);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn result;\n\t\t})();\n\n\t\twindow.locale = urlParams.locale;\n\t\twindow.language = urlParams.locale; // a very big attention needed here\n\t\twindow.customTranslateFunction = window.parent[urlParams.uid].customTranslateFunction;\n\t\twindow.customChartDescriptionFunction = window.parent[urlParams.uid].customChartDescriptionFunction;\n\n\t\twindow.addCustomCSSFile = function(href) {\n\t\t\tvar link = document.createElement('link');\n\t\t\tlink.setAttribute('type', 'text/css');\n\t\t\tlink.setAttribute('rel', 'stylesheet');\n\t\t\tlink.setAttribute('href', href);\n\t\t\tlink.setAttribute('cross-origin', 'anonymous');\n\n\t\t\twindow.loadedCustomCss = new Promise((resolve) => {\n\t\t\t\tlink.onload = resolve;\n\t\t\t\tlink.onerror = resolve;\n\t\t\t});\n\t\t\tdocument.body.appendChild(link);\n\t\t};\n\n\t\twindow.loadedCustomCss = Promise.resolve();\n\t\tif (!!urlParams.customCSS) {\n\t\t\twindow.addCustomCSSFile(urlParams.customCSS);\n\t\t}\n\n\t\tvar loadingScreenParams = {};\n\n\t\tif (typeof urlParams.loading_screen === 'string') {\n\t\t\ttry {\n\t\t\t\tloadingScreenParams = JSON.parse(urlParams.loading_screen);\n\t\t\t} catch(e) {}\n\t\t}\n\n\t\tvar loadingIndicatorElement = document.getElementById('loading-indicator');\n\n\t\tif (loadingScreenParams.backgroundColor) {\n\t\t\tloadingIndicatorElement.style = 'background-color: ' + loadingScreenParams.backgroundColor;\n\t\t}\n\n\t\t!function(){"use strict";var t,e=new WeakMap;!function(t){t[t.Element=1]="Element",t[t.Document=9]="Document"}(t||(t={}));var n={mini:"xsmall",xxsmall:"xxsmall",xsmall:"xsmall",small:"small",medium:"medium",large:"large"};var s,i,o,r,l=(void 0===r&&(r=""),s='<div class="tv-spinner '.concat(r,'" role="progressbar"></div>'),i=function(t){var n,s;return n=document.documentElement,e&&(s=e.get(n)),s||((s=n.ownerDocument.createRange()).selectNodeContents(n),e&&e.set(n,s)),s.createContextualFragment(t)}(s),null!==(o=i.firstElementChild)&&i.removeChild(o),o),a=function(){function t(t){this._shown=!1,this._el=l.cloneNode(!0),this.setSize(n[t||"large"])}return t.prototype.spin=function(t){return this._el.classList.add("tv-spinner--shown"),void 0===this._container&&(this._container=t,void 0!==t&&t.appendChild(this._el)),this._shown=!0,this},t.prototype.stop=function(t){return t&&void 0!==this._container&&this._container.removeChild(this._el),this._el&&this._el.classList.remove("tv-spinner--shown"),this._shown=!1,this},t.prototype.setStyle=function(t){var e=this;return Object.keys(t).forEach((function(n){var s=t[n];void 0!==s&&e._el.style.setProperty(n,s)})),this},t.prototype.style=function(){return this._el.style},t.prototype.setSize=function(t){var e=void 0!==t?"tv-spinner--size_".concat(t):"";return this._el.className="tv-spinner ".concat(e," ").concat(this._shown?"tv-spinner--shown":""),this},t.prototype.getEl=function(){return this._el},t.prototype.destroy=function(){this.stop(),delete this._el,delete this._container},t}();window.Spinner=a}();\n\n\n\t\tvar spinnerColor = (loadingScreenParams.foregroundColor) ? loadingScreenParams.foregroundColor : undefined;\n\n\t\tvar loadingSpinner = new Spinner('large').setStyle({\n\t\t\t'--tv-spinner-color': spinnerColor,\n\t\t\tzIndex: String(2e9),\n\t\t});\n\t\tloadingSpinner.getEl().classList.add('spinner');\n\t\tloadingSpinner.spin(loadingIndicatorElement);\n\t})();<\/script></body></html>`;var l}(this._options.library_path||"",this._options.locale);let n=new URL("about:blank");if(e){const e=new Blob([i],{type:"text/html"}),t=URL.createObjectURL(e);n=new URL(t)}else if(t){const e=this._options.library_path??"/";n=new URL(e+"sameorigin.html",location.origin)}const o="symbol="+encodeURIComponent(this._options.symbol||"")+"&interval="+encodeURIComponent(this._options.interval)+(this._options.toolbar_bg?"&toolbarbg="+encodeURIComponent(this._options.toolbar_bg.replace("#","")):"")+(this._options.studies_access?"&studiesAccess="+encodeURIComponent(JSON.stringify(this._options.studies_access)):"")+"&widgetbar="+encodeURIComponent(JSON.stringify(this._options.widgetbar))+(this._options.drawings_access?"&drawingsAccess="+encodeURIComponent(JSON.stringify(this._options.drawings_access)):"")+"&timeFrames="+encodeURIComponent(JSON.stringify(this._options.time_frames))+"&locale="+encodeURIComponent(this._options.locale)+"&uid="+encodeURIComponent(this._id)+"&clientId="+encodeURIComponent(String(this._options.client_id))+"&userId="+encodeURIComponent(String(this._options.user_id))+(this._options.charts_storage_url?"&chartsStorageUrl="+encodeURIComponent(this._options.charts_storage_url):"")+(this._options.charts_storage_api_version?"&chartsStorageVer="+encodeURIComponent(this._options.charts_storage_api_version):"")+(this._options.custom_css_url?"&customCSS="+encodeURIComponent(this._options.custom_css_url):"")+(this._options.custom_font_family?"&customFontFamily="+encodeURIComponent(this._options.custom_font_family):"")+(this._options.auto_save_delay?"&autoSaveDelay="+encodeURIComponent(String(this._options.auto_save_delay)):"")+"&debug="+encodeURIComponent(String(this._options.debug))+(this._options.debug_broker?"&debugBroker="+encodeURIComponent(String(this._options.debug_broker)):"")+(this._options.snapshot_url?"&snapshotUrl="+encodeURIComponent(this._options.snapshot_url):"")+(this._options.timezone?"&timezone="+encodeURIComponent(this._options.timezone):"")+(this._options.study_count_limit?"&studyCountLimit="+encodeURIComponent(String(this._options.study_count_limit)):"")+(this._options.symbol_search_request_delay?"&ssreqdelay="+encodeURIComponent(String(this._options.symbol_search_request_delay)):"")+(this._options.compare_symbols?"&compareSymbols="+encodeURIComponent(JSON.stringify(this._options.compare_symbols)):"")+(this._options.theme?"&theme="+encodeURIComponent(String(this._options.theme)):"")+(this._options.header_widget_buttons_mode?"&header_widget_buttons_mode="+encodeURIComponent(String(this._options.header_widget_buttons_mode)):"")+(this._options.time_scale?"&time_scale="+encodeURIComponent(JSON.stringify(this._options.time_scale)):"");return[`<iframe\n\t\tversion="CL v29.3.0 (internal id 600f67b870c88a89c46e6ef27f17e88ca7fba741 @ 2025-05-08T13:32:24.827Z)" id="${this._id}" name="${this._id}" src="${n.href}" data-widget-options="${o}"\n\t\t${this._options.autosize||this._options.fullscreen?"":`width="${this._options.width}" height="${this._options.height}"`} title="Financial Chart" frameborder="0" allowTransparency="true" scrolling="no" allowfullscreen style="display:block;">\n\t</iframe>`,i]}};"undefined"!=typeof window&&(window.TradingView=window.TradingView||{},window.TradingView.version=function(){return"CL v29.3.0 (internal id 600f67b870c88a89c46e6ef27f17e88ca7fba741 @ 2025-05-08T13:32:24.827Z)"});const xe=!("undefined"==typeof window||!window.navigator||!window.navigator.userAgent)&&window.navigator.userAgent.includes("CriOS");var We=r(96560),Be=r(92483),Ne=r.n(Be),Ue=r(5479),$e=r.n(Ue),je=r(48073),He=r(81580);const ze=(e,{resolution:t}={})=>{let r=localStorage.getItem(e);r&&(r="studyTemplates"===e?JSON.parse(r):(e=>{try{return e?Object.entries(e).filter((([e,t])=>t.created_at)).sort(((e,t)=>t[1].created_at-e[1].created_at)).splice(0,100).reduce(((e,[t,r])=>({...e,[t]:r})),{}):e}catch(i){return console.error(i),e}})(JSON.parse(r)),"charts"===e&&t&&Object.keys(r).forEach((e=>{r[e].items=r[e].items.map((e=>({...e,resolution:t})))})),localStorage.setItem(e,JSON.stringify(r)))};var Ge=({resolution:e}={})=>({charts:[],studyTemplates:[],drawingTemplates:[],chartTemplates:[],getStorageData:e=>{try{let t,r=JSON.parse(localStorage.getItem(e));t="studyTemplates"===e?(0,je.QI)()||"logout":(0,je.tw)();let i=!1;return r||(i=!0,r={}),r[t]||(r[t]={created_at:(new Date).getTime(),items:[]},i=!0),i&&localStorage.setItem(e,JSON.stringify(r)),r[t].items}catch(i){return console.error(i),[]}},setChartData:(e,t=[])=>{try{let r,i=localStorage.getItem(e);i=i?JSON.parse(i):{},r="studyTemplates"===e?(0,je.QI)()||"logout":(0,je.tw)(),i[r]={created_at:(new Date).getTime(),items:t},localStorage.setItem(e,JSON.stringify(i))}catch(i){console.error(i)}},getAllCharts:function(){ze("charts",{resolution:e});let t=this.getStorageData("charts");return Promise.resolve(t)},removeChart:function(e){try{const r=this.getStorageData("charts");for(var t=0;t<r.length;++t)if(r[t].id===e)return r.splice(t,1),this.setChartData("charts",r),Promise.resolve();return Promise.reject()}catch(i){return console.error(i),Promise.reject()}},saveChart:function(e){try{e.id?this.removeChart(e.id):e.id=(0,je.tw)(),e.created_at=(new Date).getTime();const t=this.getStorageData("charts"),r=JSON.parse(e.content),i=JSON.parse(r.content),n=i.charts[0].panes[0].sources,o=Object.values(window.targetLinesMap);return i.charts[0].panes[0].sources=n.filter((e=>!("LineToolHorzLine"===e.type&&o.includes(e.id)))),r.content=JSON.stringify(i),e.content=JSON.stringify(r),t.push(e),this.setChartData("charts",t),Promise.resolve(e.id)}catch(i){return console.error(i),Promise.reject()}},getChartContent:function(e){try{const r=this.getStorageData("charts");for(var t=0;t<r.length;++t)if(r[t].id===e)return Promise.resolve(r[t].content);return Promise.reject()}catch(i){return console.error(i),Promise.reject()}},removeStudyTemplate:function(e){try{const r=this.getStorageData("studyTemplates");for(var t=0;t<r.length;++t)if(r[t].name===e.name)return r.splice(t,1),this.setChartData("studyTemplates",r),Promise.resolve();return Promise.reject()}catch(i){return console.error(i),Promise.reject()}},getStudyTemplateContent:function(e){try{const r=this.getStorageData("studyTemplates");for(var t=0;t<r.length;++t)if(r[t].name===e.name)return Promise.resolve(r[t].content);return console.error("st: error"),Promise.reject()}catch(i){return consol.error(i),Promise.reject()}},saveStudyTemplate:function(e){try{e.created_at=(new Date).getTime();const r=this.getStorageData("studyTemplates");for(var t=0;t<r.length;++t)if(r[t].name===e.name){r.splice(t,1);break}return r.push(e),this.setChartData("studyTemplates",r),Promise.resolve()}catch(i){console.error(i)}return Promise.resolve()},getAllStudyTemplates:function(){ze("studyTemplates");const e=this.getStorageData("studyTemplates");return Promise.resolve(e)},removeDrawingTemplate:function(e,t){for(var r=0;r<this.drawingTemplates.length;++r)if(this.drawingTemplates[r].name===t)return this.drawingTemplates.splice(r,1),Promise.resolve();return Promise.reject()},loadDrawingTemplate:function(e,t){for(var r=0;r<this.drawingTemplates.length;++r)if(this.drawingTemplates[r].name===t)return Promise.resolve(this.drawingTemplates[r].content);return console.error("drawing: error"),Promise.reject()},saveDrawingTemplate:function(e,t,r){for(var i=0;i<this.drawingTemplates.length;++i)if(this.drawingTemplates[i].name===t){this.drawingTemplates.splice(i,1);break}return this.drawingTemplates.push({name:t,content:r}),Promise.resolve()},getDrawingTemplates:function(){return Promise.resolve(this.drawingTemplates.map((function(e){return e.name})))},async getAllChartTemplates(){return this.chartTemplates.map((e=>e.name))},async saveChartTemplate(e,t){const r=this.chartTemplates.find((t=>t.name===e));r?r.content=t:this.chartTemplates.push({name:e,content:t})},async removeChartTemplate(e){this.chartTemplates=this.chartTemplates.filter((t=>t.name!==e))},async getChartTemplateContent(e){const t={},r=this.chartTemplates.find((t=>t.name===e))?.content;return r&&(t.content=structuredClone(r)),t}}),Ze=(r(13808),r(6145)),qe=r(87816);r(19032);window.saveLoadAdapter=Ge,window.recheckData=ze;const Je=["1S","5S","15S","30S","1","5","15","30","60","240","360","720","1440"],Ke=()=>{try{let e=(new Date).getTimezoneOffset()/60;return`Etc/GMT${e>0?"+":""}${e}`}catch(i){return logger.error(i),"Etc/UTC"}};let Qe;window._isMyTradesActive=()=>Qe?.includes("my_trades");const Xe=(e=[])=>{const t=new(Ne())(0),r=Math.pow(10,(0,je.sG)());const i="price"===((0,je.eX)()||"price"),n={buy:[],sell:[]},o={};let a=new(Ne())(0);e.length>0&&(e=e.sort(((e,t)=>(e.attributes||e).time-(t.attributes||t).time))),e.forEach((e=>{const i=e.data.attributes||e.data;if("buy"===i.type||"sell"===i.type){let s=new(Ne())(""+i.tokensAmount*r);a="sell"===i.type?a.sub(s):a.add(s),a.lte(t)?(n[i.type].push(e),o.buy=n.buy,o.sell=n.sell,n.buy=[],n.sell=[]):n[i.type].push(e)}})),0===n.buy.length&&0===n.sell.length&&0!==Object.keys(o).length&&(n.buy=o.buy,n.sell=o.sell);const s={buy:0,sell:0},l="usd"!==widget.currency.toLowerCase();return[{items:n.buy,key:"buy"},{items:n.sell,key:"sell"}].forEach((e=>{if(e.items.length){let t=e.items.reduce(((e,{data:t})=>{const{tokensAmount:r,priceUsd:i,priceQuote:n}=t.attributes||t;return e+parseFloat(r)*parseFloat(l?n:i)}),0)/e.items.reduce(((e,{data:t})=>{const{tokensAmount:r}=t.attributes||t;return e+parseFloat(r)}),0);s[e.key]=i?t:t*parseFloat((0,je.Ou)())}})),s},Ye=async({widget:e,remove:t,events:r,type:i,group:n,enabled:o})=>{if(!["buy","sell"].includes(i))return void console.error("incorrect avg line type for",n);if(0===e.instance.activeChart().getSeries().barsCount())return;e.avgLines[n]||(e.avgLines[n]={});const a=e.avgLines[n],s=Xe(r);0!==s[i]&&!t&&o&&o?await tt({line:a[i],price:s[i],type:i,group:n}):a[i]&&(await e.instance.activeChart().removeEntity(a[i]),a[i]=null)},et=async({widget:e,remove:t,events:r,type:n="my_trades",showBuy:o,showSell:a}={},s)=>{try{if(0===e.instance.activeChart().getSeries().barsCount())return;e.avgLines[n]||(e.avgLines[n]={});const i=e.avgLines[n],l=r||window._getMyPurchases(),c="my_trades"===n?Qe?.includes("avg_buy"):o,d="my_trades"===n?Qe?.includes("avg_sell"):a,h=Xe(l);if(0!==h.buy&&!0!==t&&"buy"!==t&&c||i.buy&&(await e.instance.activeChart().removeEntity(i.buy),i.buy=null),0!==h.sell&&!0!==t&&"sell"!==t&&d||i.sell&&(await e.instance.activeChart().removeEntity(i.sell),i.sell=null),0===h.buy&&0===h.sell||!0===t||!c&&!d)return;c?await tt({line:i.buy,price:h.buy,type:"buy",group:n},s):i.buy&&await e.instance.activeChart().removeEntity(i.buy),d?await tt({line:i.sell,price:h.sell,type:"sell",group:n},s):i.sell&&await e.instance.activeChart().removeEntity(i.sell)}catch(i){console.error(i)}return!0},tt=async({line:e,price:t,type:r,group:i="my_trades"},n)=>{if(e&&t)await widget.instance.activeChart().getShapeById(e).setPoints([{price:t}]);else if(!e&&t){const n="my_trades"===i?"buy"===r?"Average Buy Price":"Average Sell Price":"buy"===r?"Filtered Average Buy Price":"Filtered Average Sell Price",o=await inst.activeChart().createShape({price:t},{text:n,overrides:{horzLabelsAlign:"right",vertLabelsAlign:"center",textcolor:"white",showLabel:"true",bold:!0,linecolor:"buy"===r?localStorage.getItem(`ta_${i}_buy_avg_color`)||"green":localStorage.getItem(`ta_${i}_sell_avg_color`)||"red",linestyle:2},zOrder:"top",disableSelection:!1,disableSave:!0,disableUndo:!0,lock:!0,shape:"horizontal_line"});e&&await widget.instance.activeChart().removeEntity(e),widget.avgLines[i]||(widget.avgLines[i]={}),"buy"===r?widget.avgLines[i].buy=o:widget.avgLines[i].sell=o}else e&&!t&&e&&(await widget.instance.activeChart().removeEntity(e),"buy"===r?widget.avgLines[i].buy=null:widget.avgLines[i].sell=null)},rt={buy_dip:{text:i18n.t("buy_dip"),dir:"less",overrides:{linecolor:"#6A60E8"}},stop_loss:{text:i18n.t("stop_loss"),dir:"less",overrides:{linecolor:"#E7B587"}},take_profit:{text:i18n.t("take_profit"),dir:"more",overrides:{linecolor:"#3ED6CC"}}},it=e=>{try{const t=e||window.widget,r=window.widget?.orderLines;if(!r||!window.widget)return;const i={};r.forEach((e=>{if((0,He.gD)(e?.data?.mc))return;const t=e.data.mc;i[t]||(i[t]=[]),i[t].push(e)})),Object.values(i).forEach((e=>{const r=e.length,i=e.map((({data:e})=>window._genWallets?.find((({generated_wallet:t})=>t===e.generatedWallet))?.name)).join(", ");e.forEach(((e,n)=>{const{data:o,lineId:a}=e;if(!a)return;const s=t.instance.activeChart().getShapeById(a),l=rt[o.kind];if(0===n){let e="";o.generatedWallet&&window._genWallets&&(e=window._genWallets?.find((({generated_wallet:e})=>e===o.generatedWallet))?.name);const t=r>1?`${i} - ${l.text}`:e?`${e} - ${l.text}`:l.text;s.setProperties({text:t})}else r>1&&s.setProperties({text:""})}))}))}catch(i){console.error(i)}},nt=(0,He.sg)(it,200),ot=async(e,t,{disableLabels:r,debounced:n}={})=>{try{const{price:i,mc:o,kind:a,generatedWallet:s}=e;let l=(0,je.eX)()||"price";const c=rt[a];let d="";s&&window._genWallets&&(d=window._genWallets?.find((({generated_wallet:e})=>e===s))?.name);let h=parseFloat(i);"mcap"===l?(h=parseFloat(o),"usd"===t.currency.toLowerCase()||(0,je.D$)()||(h/=window.solUsdPrice)):"usd"!==t.currency.toLowerCase()||(0,je.D$)()||(h*=window.solUsdPrice);let u="";r||c.text;const g={data:e,lineId:await t.instance.activeChart().createShape({price:parseFloat(h)},{text:u,overrides:{horzLabelsAlign:"right",vertLabelsAlign:"center",textcolor:"white",showLabel:"true",bold:!0,...c.overrides},zOrder:"top",disableSelection:!0,disableSave:!0,disableUndo:!0,lock:!0,shape:"horizontal_line"})};return n?nt():it(),g}catch(i){console.error(i)}},at=async({widget:e,lines:t})=>{try{e.orderLines&&(e.orderLines.forEach((async t=>{if(!t)return;const{lineId:r,arrowId:i}=t;await e.instance.activeChart().removeEntity(r),i&&await e.instance.activeChart().removeEntity(r)})),e.orderLines=null),t&&(e.orderLines=await Promise.all(t.map((t=>ot(t,e,{disableLabels:!0,debounced:!0})))))}catch(i){console.error(i)}return e.orderLines},st={dev:{title:"Dev Trades",getWallets:()=>[(0,je.Lq)(),(0,je.XI)()].filter((e=>!!e))},snipers:{title:"Snipers Trades",getWallets:()=>(0,je.cG)()||[]},insiders:{title:"Insiders Trades",getWallets:()=>(0,je.Rw)()||[]},tracked:{title:"Tracked Trades",getWallets:()=>window.trackedWallets?Object.keys(window.trackedWallets):[]},migration:{title:"Migration",getWallets:()=>[]},dexs:{title:"Dex Paid",getWallets:()=>[]}};let lt;const ct=(e,t,r)=>{if(clearTimeout(lt),!e&&!t)return[];let i=t||e.map((e=>("tracked"===e?[]:st[e]?.getWallets())||[])).flat();if(!i.length&&!e?.includes("tracked"))return[];const n=i.filter((e=>!!e)).join(",");let o=`?pool_id=${(0,je.Lx)()}`;n.length&&(o+=`&address=${n}`);const a=(0,je.D_)();return a&&(0,je.HG)()&&(new Date).getTime()/1e3-(0,je.HG)()<600&&(o+=`&pump_pool_id=${a}`),e?.includes("tracked")&&(o+="&tracked=true"),r&&Object.entries(r).forEach((([e,t])=>{o+=`&${e}=${t}`})),fetch(`/api/lp/get_dev_purchases${o}`,{cache:"no-store"}).then((e=>e.json()))},dt=()=>{let e=`?pool_id=${(0,je.Lx)()}`;const t=(0,je.D_)();return t&&(0,je.HG)()&&(new Date).getTime()/1e3-(0,je.HG)()<600&&(e+=`&pump_pool_id=${t}`),fetch(`/api/lp/get_target_lines${e}`,{cache:"no-store"}).then((e=>e.json()))};function ht(e,t){const r=e||[...(0,je.xb)()||[]],i={true:"\u25c9",false:"\u25cb"},n=(e,t)=>`${i[r.includes(t)]} ${e}`;let o=Object.entries(st).map((([e,{title:i}])=>({title:n(i,e),onSelect:async()=>{const i=r.indexOf(e),n="migration"===e,o="dexs"===e;if(i>=0){r.splice(i,1);let t=st[e].getWallets()||[];const a="dev"===e,s="tracked"===e,l=(0,je.xb)()?.includes("dev"),c=(0,je.xb)()?.includes("tracked"),d=st.tracked.getWallets(),h=st.dev.getWallets();a&&c?t=t.filter((e=>!d.includes(e))):s&&l&&(t=t.filter((e=>!h.includes(e)))),(0,je.CI)({showOtherTrades:r}),(0,He.Pu)("show_others_trades",r.join(",")),$e()(document).trigger("datafeed:removeWallets",[t,"dev_trades",a&&c||s&&l]),n&&$e()(document).trigger("datafeed:addCreatedMark",[{clear:!0}]),o&&$e()(document).trigger("datafeed:addDexsMark",[{clear:!0}])}else{r.push(e),(0,je.CI)({showOtherTrades:r}),(0,He.Pu)("show_others_trades",r.join(","));let t=await ct([...new Set([...(0,je.xb)(),e])]);t&&t.length?$e()(document).trigger("datafeed:append",[t,"dev_trades"]):$e()(document).trigger("datafeed:removeWallets",[st[e].getWallets(),"dev_trades"]),n&&$e()(document).trigger("datafeed:addCreatedMark"),o&&$e()(document).trigger("datafeed:addDexsMark")}t.tradesDropdown.applyOptions({items:ht(r,t)})}})));return o=[...o,...["buy","sell"].map((e=>{const i=`filtered_avg_${e}`;return{title:n(`Filtered Average ${(0,He.ZH)(e)} Price`,i),onInit:async({widge:t})=>{if(!(0,je.gL)())return;const n=window._getMyPurchases(),o=r.includes(i)&&window._getActiveSigner()&&n?.length,a={widget:widget,events:n,type:e,group:"filtered",enabled:o};await Ye({remove:elIndex>=0,...a})},onSelect:async()=>{const i=`filtered_avg_${e}`,n=r.indexOf(i),o=window._getMyPurchases(),a=window._getActiveSigner()&&o?.length,s={widget:widget,events:o,type:e,group:"filtered",enabled:a};n>=0?r.splice(n,1):r.push(i),(0,je.CI)({showOtherTrades:r}),(0,He.Pu)("show_others_trades",r.join(",")),await Ye({remove:n>=0,...s}),t.tradesDropdown.applyOptions({items:ht(r,t)})}}}))],o}let ut;const gt=e=>{if(clearTimeout(ut),(0,je.Oy)()||e?.l){let t=`?pool_id=${(0,je.Lx)()}`;const r=(0,je.D_)();return r&&(0,je.HG)()&&(new Date).getTime()/1e3-(0,je.HG)()<600&&(t+=`&pump_pool_id=${r}`),(!r&&!(0,je.Y9)()||(0,je.n_)())&&(t+=`&address=${(0,je.tw)()}`),e&&Object.entries(e).forEach((([e,r])=>{t+=`&${e}=${r}`})),fetch(`/api/lp/get_my_purchases${t}`,{cache:"no-store"}).then((e=>e.json()))}return[]},mt={my_trades:{title:"My Trades",configKey:"showMyTrades",postParam:"show_my_trades",onInit:async({widge:e})=>{if(!(0,je.gL)())return;if(Qe.includes("my_trades")){let e=await gt();if(e){$e()(document).trigger("datafeed:add",[e,"my_trades"]);const t=(0,je.Un)(),r=async e=>{if(e>2)return;let t=await gt({l:"c"});if(t?.length){const e=window._getMyPurchases()?.length?window._getMyPurchases().map((e=>e.attributes?e.attributes.data.id.toString():e.data.id.toString())):[];e.length&&(t=t.filter((t=>e.indexOf(t.id.toString())<0)))}if(t?.length)return $e()(document).trigger("datafeed:append",[t,"my_trades"]),$e()(document).trigger("portfolio:fetchPL",[{poolId:(0,je.Lx)(),associatedAccsData:{tokenAddress:(0,je.tw)(),isToken2022:(0,je.OW)()}}]),!0;ut=setTimeout((async()=>await r(e+1)),e<1?1e3:3e3)};ut=setTimeout((async()=>{await r(t?0:2)}),t?100:3e3)}else $e()(document).trigger("datafeed:add",[[],"my_trades"])}},onSelect:async function({widget:e}){$e()(document).trigger("traderTableAddress:change",[]);if(Qe.includes("my_trades")){let t=await gt();t&&(window.buySellArrowIds=[],e.dirArrows=t,$e()(document).trigger("datafeed:add",[t,"my_trades"]))}else Qe=Qe.filter((e=>"avg_buy"!==e&&"avg_sell"!==e)),await et({widget:e,remove:!0},"my_trades onSelect remove"),$e()(document).trigger("datafeed:add",[[],"my_trades"])}},avg_buy:{title:"Average Buy Price",configKey:"showBuyAvgPriceLine",postParam:"avg_buy_price_line",onInit:async({widget:e})=>{},onSelect:async({widget:e})=>{const t=Qe.includes("avg_buy");window._isMyTradesActive&&window._isMyTradesActive()||Qe.includes("avg_sell")?t?await et({widget:e,remove:!1},"avg_buy onSelect"):await et({widget:e,remove:"buy"},"avg_buy onSelect2"):t&&(Qe.push("my_trades"),mt.my_trades.onSelect({widget:e}))}},avg_sell:{title:"Average Sell Price",configKey:"showSellAvgPriceLine",postParam:"avg_sell_price_line",onInit:({widget:e})=>{},onSelect:async({widget:e})=>{const t=Qe.includes("avg_sell");window._isMyTradesActive&&window._isMyTradesActive()||Qe.includes("avg_buy")?t?await et({widget:e,remove:!1},"avg_sell onSelect"):await et({widget:e,remove:"sell"},"avg_sell onSelect2"):t&&(Qe.push("my_trades"),mt.my_trades.onSelect({widget:e}))}},order:{title:" Order Lines",configKey:"showOrderLines",postParam:"show_order_lines",onInit:async({widget:e})=>{if(Qe.includes("order")){let t=await dt();await at({widget:e,lines:t})}},onSelect:async({widget:e})=>{if(Qe.includes("order")){let t=await dt();await at({widget:e,lines:t})}else await at({widget:e})}}},pt=async(e,t,r)=>{Qe=e,Qe||(Qe=[],(0,je.Tc)()&&Qe.push("my_trades"),(0,je.DB)()&&Qe.push("avg_buy"),(0,je.tA)()&&Qe.push("avg_sell"),(0,je.Xx)()&&Qe.push("order"));const i={true:"\u25c9",false:"\u25cb"},n=Object.entries(mt).map((([e,{title:n,onInit:o,onSelect:a,configKey:s,postParam:l}])=>(o&&!r&&o({widget:widget}),{title:`${i[Qe.includes(e)]} ${n}`,onSelect:async()=>{if(!(0,je.gL)())return void(0,He.t2)();const r=Qe.indexOf(e);r>=0?(Qe.splice(r,1),(0,je.CI)({[s]:!1}),(0,He.Pu)(l,!1)):(Qe.push(e),(0,je.CI)({[s]:!0}),(0,He.Pu)(l,!0)),a&&a({widget:widget}),t.myTradesDropdown&&t.myTradesDropdown.applyOptions({items:await pt(Qe,t,!0)})}})));return await Promise.all(n)};$e()((function(){$e()(document).on("config:update",(async function(e,t={},r={}){try{if(t.showInsiders&&(0,je.xb)()?.includes("insiders")){let e=t.showInsiders;const i=r?.showInsiders;if(i&&(e=e.filter((e=>!i.includes(e)))),!e.length)return;let n=await ct(null,e);n&&n.length&&$e()(document).trigger("datafeed:append",[n,"dev_trades"])}}catch(e){console.error(e)}}));if((0,je.QI)()){(0,Ze.R_)((0,je.QI)()).subscribe((e=>{const t=qe.Ht.orders;window.widget;e&&e[t]&&(0,je.Xx)()&&e[t].data.forEach((async e=>{const t=e.attributes||e,{kind:r,poolId:i,status:n,generatedWallet:o}=t;i.toString()===(0,je.Lx)().toString()&&"active"===n&&(window.widget.orderLines=[...window.widget.orderLines||[],await ot({kind:r,id:e.id,generatedWallet:t.generatedWallet,mc:t.targetMc,price:t.targetPrice},widget,{debounced:!0,disableLabels:!0})])}))}))}$e()(document).on("orderTable:remove",(function(e,t){const r=window.widget?.orderLines||[];r&&r.length&&(window.widget.orderLines=r.filter((e=>{const{data:r,lineId:i,arrowId:n}=e;return r.id.toString()!==t.toString()||(window.widget.removeDrawingByName(i),void window.widget.removeDrawingByName(n))})),it())}))}));const wt=function(){return{instance:null,removeDrawingByName:function(e){this.instance&&e&&this.instance.activeChart().removeEntity(e)},settings:{},currency:(0,je.l2)(),avgLines:{},args:{},curInterval:(0,je.AC)(),init:function(e={}){this.args=e;const{$element:t,className:r="",$toolbarWrapper:n}=e,o={getParams:()=>(0,je.t9)()?{}:{show_outliers:(0,je.Rx)()},supported_resolutions:Je,supports_marks:!0,supports_timescale_marks:!0,exchanges:[{value:(0,je.FP)(),name:`${(0,je.FP)()||""}/${"usd"===this.currency?"USD":"SOL"}`,desc:`${(0,je.FP)()||""}/${"usd"===this.currency?"USD":"SOL"} on ${(0,je.Jc)()||""} ${(0,je.Qt)(!0)}`}],disabled_features:["header_symbol_search"]},a=(0,We.Ay)(o);this.destroy();const s=$e()(`\n      <div class="c-chart-box ${r}">\n        <div id="js-trading-view" class="c-chart-box__canvas js-chart-box__container"></div>\n      </div>`);t.empty().append(s);const l=this.curInterval.replace("m","").toUpperCase();let c=["header_symbol_search","header_compare","header_saveload"];window.disable_go_to_date&&(c.push("go_to_date"),c.push("timeframes_toolbar")),"mobile"===t.data("layout")&&(c=[...c,"left_toolbar","legend_widget"]);this.settings={debug:!1,symbol:`${(0,je.FP)()}/USD`,datafeed:a,interval:l,container:"js-trading-view",library_path:"/charting_library/",custom_css_url:"/charting_library/custom.css",locale:i18n.locale||"en",disabled_features:c,enabled_features:["two_character_bar_marks_labels","study_templates","countdown","create_volume_indicator_by_default","seconds_resolution"],load_last_chart:!0,fullscreen:!1,autosize:!0,auto_save_delay:1,theme:"dark",custom_formatters:{priceFormatterFactory:()=>({format:He.m3})},save_load_adapter:Ge({resolution:l}),timezone:Ke(),overrides:{"paneProperties.legendProperties.showVolume":!0,"paneProperties.legendProperties.showSeriesOHLC":!0,"paneProperties.background":"#171C27","paneProperties.backgroundGradientStartColor":"#171C27","paneProperties.backgroundGradientEndColor":"#131722","paneProperties.backgroundType":"gradient","paneProperties.separatorColor":"#2A2E39"}},window.disable_go_to_date&&(this.settings.time_frames=[]),ze("charts",{resolution:l}),(0,He.rr)()&&(this.settings.preset="mobile"),this.instance=new Ve(this.settings);const d=this;let h;window.widget=d,d.dirArrows=[];let u={};$e()(document).on("datafeed:getMarks.tv",(function(e,{startDate:t,endDate:r}={}){u={startDate:(0,He.Ro)(t),endDate:(0,He.Ro)(r)}}));let g=(0,je.eX)()||"price";const m=e=>{window._chart_instance=e,$e()(document).trigger("tv:init",[{widget:d}]);const t=({title:t,content:r,onClick:i,onInit:n})=>{let o=e.createButton();return o.setAttribute("title",t),o.style.cursor="pointer",o.innerHTML=(0,He.gD)(r)?t:r,o.addEventListener("click",i),n&&n({button:o,title:t,content:r}),o};$e()(".js-chart__outlier__item").off("click.outlier").on("click.outlier",(function(){const e=$e()(this).data("value");(0,He.Pu)("iqr","default"===e?null:e),d.reset()})),e.headerReady().then((async function(){d.currency=(0,je.l2)();let r="usd"===d.currency?"SOL":"USD";(0,He.rr)()&&!(0,je.t9)()&&t({title:i18n.t((0,je.Rx)()?"hide_outlier":"show_outlier"),onClick:function(){let e=!(0,je.Rx)();(0,He.Pu)("show_outliers",e),(0,je.CI)({showOutliers:e}),Object.values(window.actionCableHandlers).forEach((e=>window._showChannel.unsubscribe(e))),window.actionCableHandlers={},d.reset()}}),(0,je.D$)()||t({title:i18n.t("switch_to_cur",{currency:r}),onClick:function(){let e="usd"===d.currency?"weth":"usd";(0,He.Pu)("chart_currency",e),(0,je.CI)({showChartCurrency:e}),d.currency=e,Object.values(window.actionCableHandlers).forEach((e=>window._showChannel.unsubscribe(e))),window.actionCableHandlers={},d.reset()}}),window.buySellArrowIds=[],h=0;const i='style="color: #2962ff"',n=`\n          <span ${"price"===g?i:""}>${i18n.t("price")}</span> / \n          <span ${"mcap"===g?i:""}>${i18n.t("mcap")}</span>\n        `;t({title:i18n.t("chart_type."+("price"===g?"mcap":"price")),content:n,onClick:function(){let e="price"===g?"mcap":"price";(0,He.Pu)("chart_type",e),(0,je.CI)({showChartType:e}),g=e,Object.values(window.actionCableHandlers).forEach((e=>window._showChannel.unsubscribe(e))),window.actionCableHandlers={},d.reset()}}),$e()(document).on("migrationOrder:success",(async function(e,{poolId:t}={}){if(t!==(0,je.Lx)()||!window._isMyTradesActive())return;let r=await gt();r?$e()(document).trigger("datafeed:add",[r,"my_trades"]):$e()(document).trigger("datafeed:add",[[],"my_trades"]),await et({widget:d,remove:!1},"migrationOrder:success")}));const o=(0,He.g5)(et,500);(0,He.g5)(((...e)=>Ye({type:"buy",...e})),500),(0,He.g5)(((...e)=>Ye({type:"sell",...e})),500);$e()(document).on("avgLine:update",(async function(e,t,r){const i=window._isMyTradesActive&&window._isMyTradesActive();await o({widget:d,remove:!i},"avgLine:update"),i&&(await Ye({type:"buy",widget:d,remove:!0,group:"filtered"}),await Ye({type:"sell",widget:d,remove:!0,group:"filtered"}))})),$e()(document).off("datafeed:table:update").on("datafeed:table:update",(async function(e,t,r){if(window._getActiveSigner()){const e=window._getMyPurchases(),t=window._getActiveSigner()&&e?.length;await Ye({type:"buy",widget:d,events:e,remove:!1,group:"filtered",enabled:t&&((0,je.xb)()||[]).includes("filtered_avg_buy")}),await Ye({type:"sell",widget:d,events:e,remove:!1,group:"filtered",enabled:t&&((0,je.xb)()||[]).includes("filtered_avg_sell")}),await o({widget:d,remove:!0},"avgLine:update")}else{d.avgLines||(d.avgLines={}),d.avgLines.filtered||(d.avgLines.filtered={});const e=d.avgLines?.filtered?.buy,t=d.avgLines?.filtered?.sell;e&&(await d.instance.activeChart().removeEntity(e),d.avgLines.filtered.buy=null),t&&(await d.instance.activeChart().removeEntity(t),d.avgLines.filtered.sell=null);const r=d?.instance?.menuStates?.myTrades;r&&(Qe=r,d.menuStates={...d.menuStates,myTrades:null},d.instance.myTradesDropdown&&d.instance.myTradesDropdown.applyOptions({items:await pt(Qe,d.instance)}))}})),await(async e=>e.createDropdown({title:"",tooltip:"",items:await pt(null,e),icon:'\n    <div style="display:flex; align-items: center;">\n      <span style="margin-right: 4px;">My Trades</span>\n      <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13.2802 5.96667L8.93355 10.3133C8.42021 10.8267 7.58022 10.8267 7.06688 10.3133L2.72021 5.96667" stroke="currentColor" stroke-opacity="0.95" stroke-width="1.25" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/></svg>\n    </div>'}).then((async t=>{e.myTradesDropdown=t})))(e),await(e=>e.createDropdown({title:"",tooltip:"Dev/Snipers/Insiders Trades",items:ht(null,e),icon:'<div style="display:flex; align-items: center;"><span style="margin-right: 4px;">Other Trades</span><svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13.2802 5.96667L8.93355 10.3133C8.42021 10.8267 7.58022 10.8267 7.06688 10.3133L2.72021 5.96667" stroke="currentColor" stroke-opacity="0.95" stroke-width="1.25" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/></svg></div>'}).then((async t=>{e.tradesDropdown=t;let r=await ct((0,je.xb)());r&&r.length&&$e()(document).trigger("datafeed:add",[r,"dev_trades"]),lt=setTimeout((async()=>{let e=await ct((0,je.xb)(),null,{l:"c"});e&&e.length&&$e()(document).trigger("datafeed:append",[e,"dev_trades"])}),3e3)})))(e),d.instance.subscribe("drawing_event",(async function(e,t){"properties_changed"===t&&d.avgLines&&Object.entries(d.avgLines).forEach((([t,r])=>{[[r.buy,"buy"],[r.sell,"sell"]].forEach((async([r,i])=>{if(r&&r===e){const r=(await d.instance.activeChart().getShapeById(e)).getProperties().linecolor;r&&localStorage.setItem(`ta_${t}_${i}_avg_color`,r)}}))}))})),$e()(document).on("datafeed:disable_trades_btn",(async function(){Qe&&(e.menuStates={...e.menuStates,myTrades:[...Qe]},Qe=Qe.filter((e=>"my_trades"!==e)),e.myTradesDropdown&&e.myTradesDropdown.applyOptions({items:await pt(Qe,e)}))})),(0,je.xb)()?.includes("migration")&&$e()(document).trigger("datafeed:addCreatedMark"),(0,je.xb)()?.includes("dexs")&&$e()(document).trigger("datafeed:addDexsMark")}));const r=()=>{try{window.localStorage.setItem("taIndicators",JSON.stringify((()=>{try{return e.activeChart().getAllStudies().filter((({name:e})=>"Volume"!==e)).map((t=>({...t,params:e.activeChart().getStudyById(t.id).getInputValues().reduce(((e,{id:t,value:r})=>({...e,[t]:r})),{})})))}catch(i){return console.error(i),[]}})()))}catch(i){console.error(i)}};e.activeChart().onIntervalChanged().subscribe(null,(async(t,r)=>{const i=Object.entries(We.$J).find((([e,r])=>e===t.toLowerCase()||(r/6e4).toString()===t));i&&((0,He.Pu)("chart_interval",i[0]),this.curInterval=i[0],e.saveChartToServer())})),e.subscribe("onAutoSaveNeeded",((...t)=>{r(),e.saveChartToServer((()=>{}),(()=>{}),{chartName:(0,je.tw)()})})),e.subscribe("study",(e=>{r()})),(()=>{try{e.activeChart().getAllStudies().forEach((({id:t,name:r})=>{"Volume"!==r&&e.activeChart().removeEntity(t)}));const t=JSON.parse(window.localStorage.getItem("taIndicators"))||[];if(!t.length)return;const r=e.activeChart().getAllStudies().map((({id:e})=>e));t.filter((({id:e})=>!r.includes(e))).forEach((({name:e,params:t})=>{d.instance.activeChart().createStudy(e,!1,!1,t)}))}catch(i){console.error(i)}})(),e.subscribe("study_properties_changed",(e=>{r()})),window.targetLinesMap={},window.inst=e,window.linesConfig={dip:{text:i18n.t("buy_dip"),dir:"less",overrides:{linecolor:"#6A60E8"}},stop_loss:{text:i18n.t("stop_loss"),dir:"less",overrides:{linecolor:"#E7B587"}},take_profit:{text:i18n.t("take_profit"),dir:"more",overrides:{linecolor:"#3ED6CC"}}}};this.instance.onChartReady((()=>m(this.instance))),$e()(".js-tview__outlier").on("change.tv",(e=>{this.settings={...this.settings,interval:this.curInterval.replace("m","").toUpperCase()},this.reset(),(0,je.CI)({showOutliers:$e()(e.target).is(":checked")}),(0,He.Pu)("show_outliers",$e()(e.target).is(":checked"))})),$e()(document).on("changeOutlier",((e,t)=>{this.settings={...this.settings,interval:this.curInterval.replace("m","").toUpperCase()},this.reset(),(0,je.CI)({showOutliers:t}),(0,He.Pu)("show_outliers",t)}))},destroy:function(){this.instance&&(window._isMyTradesActive&&window._isMyTradesActive()&&($e()(document).trigger("datafeed:add",[[]]),$e()(document).trigger("datafeed:add",[[],"dev_trades"])),this.instance.remove(),window.actionCableHandlers&&(Object.values(window.actionCableHandlers).forEach((e=>window._showChannel.unsubscribe(e))),window.actionCableHandlers={}),$e()(".js-tview__outlier").off("change.tv"),$e()(document).off("changeOutlier"),$e()(document).off("change.tv",".js-tv__line-toggle"),$e()(document).off("config:update.tv"),$e()(document).off("price-trigger:update.tv"),$e()(document).off("price-trigger:removeLine.tv"),$e()(document).off("datafeed:loadBars.tv"),$e()(document).off("datafeed:add.avgLine"),$e()(document).off("avgLine:update"),$e()(document).off("datafeed:table:update"),$e()(".js-tv__line-toggle").prop("checked",!1),this.instance=null,this.avgLines={},window.targetLinesMap={},this.lineCreating=!1)},reset:function(){this.destroy(),this.init(this.args)}}}}}]);
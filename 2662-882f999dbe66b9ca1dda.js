"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2662],{21821:function(e,t,a){a.d(t,{R:function(){return l}});var s=a(77810),n=a(48073);const l=()=>(window._plPriceChannel||(window._plPriceChannel=window._plPriceChannel||new s.A({channelId:"price",channelName:"LpChannel"},(0,n.gL)())),window._plPriceChannel)},47445:function(e,t,a){a.d(t,{Ay:function(){return y},tx:function(){return N},Qx:function(){return w},Ss:function(){return k}});var s=a(64891),n=a(5479),l=a.n(n),o=a(16937),r=a(49935),i=a(6145),c=a(48073),d=a(81580),m=a(73435),u=a(41794),p=a(80707),g=a(24330),_=a.n(g);class h{constructor(e={}){const{container:t}=e;this.config={...e},this.uid=_()(),this.$container=("string"===typeof t?l()(t):t).first(),this.$bar=this.$container.find(".js-sell__popup__portfolio");this.pfState=new p.K8({wallets:[...window._genWallets],onStateUpdate:()=>{this.onStateUpdate()}})}onStateUpdate(){const{getWallets:e}=this.config;if(!this.pfState)return;const t=this.pfState.calculateAverage(e?e():[]);this.updateLayout(t)}setPoolId(...e){this.pfState.setPoolId(...e)}setIsUsdLike(e){this.pfState.config.isUsdLike=!!e}updateLayout(e){const t=(0,c.An)(),a=p.K8.formatData(e,{currency:t?"usd":"quote"});this.$bar.find("[data-field]").each((function(){const s=l()(this).attr("data-field");if(a.hasOwnProperty(s)){const n=["sold","remaining","invested"].includes(s)&&!t?'<span class="c-icon c-icon--3xs c-icon--net-symbol" ></span>':"";if(l()(this).html(`${n}${a[s]}`),"pl"===s){const t=e[s]>=0;l()(this).toggleClass("u-color-green",t).toggleClass("u-color-red",!t)}}}))}}var f=a(87864),v=a(87816),b=a(15682);const E=e=>`\n  <div class="u-d-flex u-align-items-center">\n    <span class="c-indx-table__cell__icon c-icon u-lh-1 c-icon--net-symbol"></span>\n    ${(0,d.M2)(e||0)}\n  </div>\n`,w=()=>{const e=l()(".js-modal--share"),t=e.find(".js-spopup__loader"),a=e.find(".js-spopup__img"),s=e.find(".js-spopup__btn"),n=t=>{l()(".js-modal").addClass("is-hidden"),t?(e.removeClass("is-hidden"),l()("html").addClass("modal-open")):(e.addClass("is-hidden"),l()("html").removeClass("modal-open"))};s.on("click",(function(e){if(l()(this).hasClass("is-disabled"))return e.preventDefault(),!1}));l()(document).on("click",".js-holdings-table__share",(async function(){if(!e.length)return;const o=l()(this).data("id");e.attr("data-id",o),t.show(),a.empty(),s.addClass("is-disabled").attr("href","#"),n(!0);try{const{success:e,error:t}=await fetch("/api/users/generate_profit_img ",{method:"POST",headers:{"x-csrf-token":(0,d.PE)(),"content-type":"application/json"},body:JSON.stringify({id:o}),credentials:"same-origin"}).then((e=>e.json()));t&&((0,m.F8)({message:t}),n(!1))}catch(r){console.error(r),n(!1),(0,m.F8)({message:i18n.t("notification.error")})}})),window._userChannel&&window._userChannel.subscribe((l=>{const{imgShareGen:o}=l;if(!o)return;const{id:r,success:i,url:c,ethAmount:d}=o,u=`I made ${d}SOL with Photon Hyperspeed \u26a1\ufe0f\nFaster charts than any platform + real-time audit results\nTrade at lightning-speed on Desktop or Mobile`,p=`${u}\n\nSign up\ud83d\udc47`;if(!e.hasClass("is-hidden")&&parseInt(e.attr("data-id"))===parseInt(r))if(i&&c){const e=c.replace(/^.*[\\\/]/,"").split(".")[0],n=`${window.location.origin}/twshare/${r}/${e}`;t.hide(),a.append(`\n            <img src="${c}" class="js-spopup__img__inner"/>\n          `),s.removeClass("is-disabled"),s.filter('[data-type="download"]').attr("href",c),s.filter('[data-type="twitter"]').attr("href",`http://twitter.com/intent/tweet?url=${n}&text=${encodeURIComponent(p)}%0A%0A`),s.filter('[data-type="telegram"]').attr("href",`https://t.me/share/url?text=%0A${encodeURIComponent(u)}%0A&url=${n}`)}else n(!1),(0,m.F8)({message:i18n.t("notification.error")})}))},N=()=>{(0,o.V0)({wrapper:".js-sell__popup__price"});const e=l()(".js-modal--sell"),t=e.find(".js-wdd");let a;const s=new h({container:e,getWallets:()=>a?.getSelectedAddresses()});a=new f.A({container:t,checkPositive:!0,disableSync:!0,onChecked:()=>{s.onStateUpdate()}}),t.length&&(t[0]._walletsDropdown=a),e.find(".js-show__trade-form__iprops").on("change",(function(e){const t=l()(this).is(":checked"),a=l()(this);if(t){const e=a.attr("name"),t="instant_buy"===e?i18n.t("instant_buy"):i18n.t("instant_sell"),s="instant_buy"===e?i18n.t("buy"):i18n.t("sell");l()(".js-modal--purchase-q__title").html(i18n.t("enable_what",{what:t})),l()(".js-modal--purchase-q__text").html(i18n.t("enable_text_what",{what:s})),(0,d.xq)(".js-modal--purchase-q",!0,!1),l()(this).prop("checked",!1),l()(".js-modal--purchase-q").find(".js-show__trade-form__confirm").off("click").on("click",(function(){a.prop("checked",!0),(0,d.Pu)(a.attr("name"),a.is(":checked")),(0,d.xq)(".js-modal--purchase-q",!1,!1)}))}else(0,d.Pu)(l()(this).attr("name"),l()(this).is(":checked"))}));const n=new u.A({container:e.find(".js-warnings")});let m;const p=(e,t=null)=>{e.remainingEth&&!e.remainingUsd&&(e.remainingUsd=parseFloat(e.remainingEth)*window.solUsdPrice),e.positions&&(e.positions=e.positions.map((e=>(0,b.BH)(e))));const a=l()(".js-modal--sell"),o=a.find("[data-field]");if(a.data("poolData",e.poolData),s.setIsUsdLike((0,c.e0)(e.poolData.quote_token_i)),s.setPoolId(e.poolId,e.positions),o.each((function(){const{field:t}=l()(this).data(),a=e[t];"symbol"===t&&l()(this).html(a||"").attr("href",(0,d.VV)(null,e.poolId))})),n.setPoolId(e.poolId),e&&e.poolData){const{quote_token0:t,quote_token_i:a,reserve0Tr:s,reserve0:l,reserve1Tr:o,reserve1:r}=e.poolData;let i=t?s||l:o||r;(0,c.e0)(a)&&(i=i/window.solUsdPrice*1e3),!(0,d.n_)(e.poolData.dex)&&i<parseFloat((0,c.j8)())?(n.showAlerts(["lowlq"]),m=!0):(n.hideAlerts(["lowlq"]),m=!1),e.poolData.freezeAuthority?n.showAlerts(["freeze"]):n.hideAlerts(["freeze"])}},g=e.find(".js-sell__popup__price"),_=e.find(".js-w-form__settings__price"),E=async()=>{try{const t=a.getSelectedAddresses(),{investedEth:n,remainingEth:l}=s.pfState.calculateAverage(t),r=e.attr("data-pool-id"),i=e.data("poolData"),c=e.find(".js-wdd"),d=a.getSelectedAddresses();i&&await(0,o.m0)({form:e,priceForm:g,investedEth:n,remainingEth:l,wallets:d,tokenDecimals:i.decimals,tokenAddress:c.attr("data-token-address"),is_program_2022:i.is_program_2022,poolId:r,poolFactoryName:i.dex||!1,poolPlatform:i.platform,poolData:{priceQuote:i.price_quote,quoteToken0:i.quote_token0,reserve0:i.reserve0,reserve1:i.reserve1,reserve0Tr:i.reserve0Tr||i.reserve0,reserve1Tr:i.reserve1Tr||i.reserve1,decimals:i.decimals,is_program_2022:i.is_program_2022,ignored:i.ignored,quote_token_i:i.quote_token_i}})}catch(t){console.error(t)}};g.off("change").on("change",(async function(e,t){await E()})),_.off("change").on("change",(async function(e,t){await setTimeout((()=>E()),300)})),e.find('.js-w-form__gas-settings .js-w-form__field[name="use_private_node"], .js-w-form__gas-settings .js-w-form__field[data-name="node"]').on("change",(async function(){await setTimeout((()=>E()),300)})),g.find("input").on("keyup",(async function(n,l){const r=a.getSelectedAddresses(),{investedEth:i,remainingEth:c}=s.pfState.calculateAverage(r),d=e.attr("data-pool-id"),m=a.getSelectedAddresses(),u=e.data("poolData");(0,o.m0)({form:e,priceForm:g,poolId:d,poolFactoryName:u.dex||!1,poolPlatform:u.platform,investedEth:i,remainingEth:c,tokenDecimals:u.decimals,tokenAddress:t.attr("data-token-address"),wallets:m,is_program_2022:u.is_program_2022,poolData:{priceQuote:u.price_quote,quoteToken0:u.quote_token0,reserve0:u.reserve0,reserve1:u.reserve1,reserve0Tr:u.reserve0Tr||u.reserve0,reserve1Tr:u.reserve1Tr||u.reserve1,decimals:u.decimals,is_program_2022:u.is_program_2022,ignored:u.ignored,quote_token_i:u.quote_token_i}})}));l()(document).on("click",".js-sell__popup",(async function(){if(l()(this).hasClass("is-disabled"))return;l()(document).trigger("sellPopup:init",[this]);const t=JSON.parse(decodeURIComponent(l()(this).attr("data-row-data")||"")),s=l()(this).attr("data-gen-wallet"),o=l()(this).attr("data-selected-wallet");e.find(".js-price-form__btn").removeClass("is-selected"),e.find(".js-show__trade-form__input").val(""),e.find(".js-sell__popup__price").data("value",null).find(".js-price-form__input").val("").closest(".c-field").removeClass("is-selected"),e.find(".js-sell-btn__amount").empty(),a.setTokenAddress(t.tokenAddress).setTokenDecimals(t.poolData.decimals).setPoolId(t.poolId).setConfigValue("is2022",t.poolData.is_program_2022),t.is_program_2022=t.poolData.is_program_2022;const u=await(0,d.Uu)({forceFetch:!0,tokenAddress:t.tokenAddress,tokenDecimals:t.poolData.decimals,is_program_2022:t.is_program_2022,wallets:o&&s?[s]:void 0});if(a.setBalances({token:u},{reset:!!o}),await a.init({checkPositive:!0}),s&&a.selectWallets(s,"token",{showWallets:o?[o]:void 0}),t.remainingEth>0&&1===t.purchasesCount)e.find(".js-sell-first-option").attr("data-value","initial").find(".js-price-form__btn__label").text("initial");else{const t=e.find(".js-sell-first-option"),a=t.attr("data-preset");if(!(0,d.gD)(a)){const e=window.gasSettings.buy_sell_amts[`preset${a}`].sell[0];t.attr("data-value",e).find(".js-price-form__btn__label").text(`${e}%`)}}p(t),e.attr("data-pool-id",t.poolId),e.data("poolData",t.poolData),l()(".js-modal--mpools .js-mpools__loader").removeClass("is-hidden"),l()(".js-modal--mpools .js-mpools__content").addClass("is-hidden"),(0,d.xq)(".js-modal--mpools",!0);const g=await fetch("/api/users/get_multiple_pools",{method:"POST",headers:{"x-csrf-token":(0,d.PE)(),"content-type":"application/json"},body:JSON.stringify({tokenAddress:t.tokenAddress,pool_id:t.poolId}),credentials:"same-origin"}).then((e=>e.json())),_=((e={})=>{const{success:t,pools:a=[],tokensCount:s,symbol:n}=e;if(!t||!a.length)return void(0,d.xq)(".js-modal--mpools",!1);const o=a.map((({symbol:e,tokensCount:t,liqUsd:a,pooledQuote:s,address:n,id:l,qt:o})=>`\n      <a data-id="${l}" href="${(0,d.VV)(n)}" class="c-mpools__tr" target="_blank">\n        <div class="c-mpools__td">\n          <div class="c-mpools__td__symbol">${e}</div>\n          <div class="c-mpools__td__address">${(0,d.Wr)(n)}</div>\n        </div>\n        <div class="c-mpools__td">\n          ${(0,d.gp)({numb:a,unit:"$",fractionLength:2})}\n        </div>\n        <div class="c-mpools__td">\n          <div class="u-d-flex u-align-items-center">\n            <div class="c-icon c-icon-base u-mr-3xs" data-icon="${(0,c.Py)(o)}"></div>\n            ${(0,d.gp)({numb:s||0,fractionLength:5})}\n          </div>\n        </div>\n      \n      </a>\n    `));return l()(".js-mpools__tbody").html(o),l()(".js-mpools__text").text(i18n.t("mpools_popup.text",{count:s})),l()(".js-mpools__total").text(`$${n} ${s}`),l()(".js-modal--mpools .js-mpools__loader").addClass("is-hidden"),l()(".js-modal--mpools .js-mpools__content").removeClass("is-hidden"),l()(".js-modal--mpools .js-wdd__item__subvalue").text(n),(0,d.xq)(".js-modal--mpools",!0),!0})({...g,symbol:t.symbol});e.off("click.sell",".js-sell__popup__submit"),l()(document).trigger("sellPopup:showed"),_||(g.fakePump&&n.showAlerts(["fake_pump"]),g.fakeMoonshot&&n.showAlerts(["fake_moonshot"]),g.fakeMemelive&&n.showAlerts(["fake_memelive"]),g.fakeRaydiumLaunchpad&&n.showAlerts(["fake_raydium_launchpad"]),g.fakeMeteoraVirtualCurve&&n.showAlerts(["fake_meteora_virtual_curve"]),g.fakeBoop&&n.showAlerts(["fake_boop"]),g.fakeOrcaWavebreak&&n.showAlerts(["fake_orca_wavebreak"]),t.poolData.platform&&t.poolData.platform===d.iz?.mayhem?.id&&"pump"===t.poolData.dex&&n.showAlerts(["mayhem_mode"]),(0,d.xq)(".js-modal--sell",!0),e.off("click.sell",".js-sell__popup__submit").on("click.sell",".js-sell__popup__submit",(async function(a){if(a.preventDefault(),l()(this).is(":disabled"))return;const s=async()=>{await(async(e,{poolId:t,tokenAddress:a,is_program_2022:s,approvedBalance:n,tokenBalance:l,onSuccess:o})=>{const m=e.closest(".js-show__trade-form").find(".js-wdd")[0]._walletsDropdown.getSelectedWallets().map((({address:e})=>e));await(0,r.K)({$button:e,enableButtonTimeout:(0,c.YI)(),onFinished:i.tf,onFakeSuccess:e=>(0,i.ew)(e,m),request:async()=>{const n=e.closest(".js-show__trade-form"),l=n.find(".js-wdd");let o=e.hasClass("js-buy-btn")?"buy":"sell",r=n.find("[data-price-form]")[0].getFieldValue()||{};const i=r.value,m=l[0]._walletsDropdown.getSelectedWallets().map((({address:e})=>e)),u={amount:"sell"===o&&"initial"===i?i:parseFloat(i),purchase_dir:o,is_sol:"quote"===r.type,pool_id:t,wallets:m.join(",")},p=(0,d.qE)(m,a,s);p&&(u.associated_accs=p.join(","));const g=n.find(".js-w-form__gas-settings");if(g.length){const{preset_id:e,...t}=g[0].collectData();u.advanced_settings=t,u.preset_id=e}let _=!0;return"initial"!==u.amount&&isNaN(u.amount)&&(_=!1),_&&"sell"===o&&"initial"!==i&&parseFloat(u.amount)<=0&&(_=!1),_&&"buy"===o&&parseFloat(u.amount)<=0&&(_=!1),_?(0,c.cq)()?fetch("/api/purchases",{method:"POST",headers:{"x-csrf-token":(0,d.PE)(),"content-type":"application/json"},body:JSON.stringify(u),credentials:"same-origin"}).then((e=>e.json())):{success:!1,error:i18n.t("gen_wallet_first")}:{success:!1,error:i18n.t("notification.amount_pos")}},onSuccess:e=>{(0,i.Dy)(e,{disableCountdown:null===e.timer}),o&&o()}})})(l()(this),{poolId:t.poolId,tokenAddress:t.tokenAddress,is_program_2022:t.is_program_2022,onSuccess:()=>{e.find(".js-show__trade-form__iprops").is(":checked")||(0,d.xq)(".js-modal--sell",!1)}})};m&&!(0,d.n_)(t.poolData.dex)?((0,d.xq)(".js-modal--lowlq",!0,!1),l()(".js-lowlq__continue").off("click.low").on("click.low",(async function(){await s()}))):await s()})),logger.log(t))})),e.on("click",".js-show__preset",(function(){try{const t=l()(this).attr("data-preset"),a=window.gasSettings[`preset${t}`].sell,s=window.gasSettings.buy_sell_amts[`preset${t}`].sell;e.find(".js-w-form__gas-settings")[0].fillData(a),s&&g.length&&(g.find(".js-price-form__btn").each((function(e){if("initial"!==l()(this).attr("data-value")){const t=s[e];if(void 0===t)return;l()(this).attr("data-value",t).find(".js-price-form__btn__label").text(`${t}%`)}l()(this).attr("data-preset",t)})),g.find(".js-price-form__btn.is-selected").length&&g[0].resetForm()),(0,d.GF)("sell_preset",parseInt(t)||0)}catch(t){console.error(t)}})),window._userChannel&&window._userChannel.subscribe((t=>{if(!l()(".js-modal--sell").attr("data-pool-id")||l()(".js-modal--sell").hasClass("is-hidden"))return;const s=l()(".js-modal--sell").attr("data-pool-id").toString(),n=t[v.Ht.holdings];if(!n||!n.data)return;const r=l()(".js-modal--sell").attr("data-pool-id").toString();n.data.forEach((async t=>{if(r===t.poolId.toString()){const n=t.poolData,l=e.find(".js-wdd"),r=a.getSelectedAddresses(),i=n.is_program_2022,c=await(0,d.Uu)({forceFetch:!0,tokenAddress:t.tokenAddress,tokenDecimals:n.decimals,is_program_2022:i,disableCheckPositive:!0});a.setBalances({token:c}),p(t),(0,o.m0)({form:e,priceForm:g,investedEth:t.investedEth,remainingEth:t.remainingEth,force:!0,tokenDecimals:n.decimals,tokenAddress:l.attr("data-token-address"),wallets:r,is_program_2022:n.is_program_2022,poolId:s,poolFactoryName:t.poolData.dex||!1,poolPlatform:n.platform,poolData:{priceQuote:n.price_quote,quoteToken0:n.quote_token0,reserve0:n.reserve0,reserve1:n.reserve1,reserve0Tr:n.reserve0Tr||n.reserve0,reserve1Tr:n.reserve1Tr||n.reserve1,decimals:n.decimals,is_program_2022:n.is_program_2022,ignored:n.ignored,quote_token_i:n.quote_token_i}})}}))})),l()(document).on("holdings:refreshPopup",(function(t,s){if(!l()(".js-modal--sell").attr("data-pool-id")||l()(".js-modal--sell").hasClass("is-hidden"))return;const n=s.poolId;if(l()(".js-modal--sell").attr("data-pool-id").toString()===n.toString()){p(s,"fillPopup");const t=s.poolData,l=e.find(".js-wdd"),r=a.getSelectedAddresses();(0,o.m0)({form:e,priceForm:g,investedEth:s.quote.invested,remainingEth:s.quote.remaining,tokenDecimals:t.decimals,tokenAddress:l.attr("data-token-address"),wallets:r,is_program_2022:t.is_program_2022,poolId:n,poolFactoryName:t.dex||!1,poolPlatform:t.platform,poolData:{priceQuote:t.price_quote,quoteToken0:t.quote_token0,reserve0:t.reserve0,reserve1:t.reserve1,reserve0Tr:t.reserve0Tr||t.reserve0,reserve1Tr:t.reserve1Tr||t.reserve1,decimals:t.decimals,is_program_2022:t.is_program_2022,ignored:t.ignored,quote_token_i:t.quote_token_i}})}}))},k=(e,{storage:t})=>{if(!e)return{};const a={},s={};Object.entries(e).forEach((([e,t])=>{if(e.startsWith("r")){const a=e.split("r")[1];s[a]=t}else"solUsdPrice"!==e&&(a[e]=t)})),Object.entries(s).forEach((function([e,t]){(0,d.gD)(a[e])&&(a[e]=null)}));const n={};return Object.entries(a).forEach((([e,a])=>{let o=a;Array.isArray(a)||(o=[a],s[e]&&(o=[...o,...s[e]]));let[r,i,m,u,p]=o;u||(u=i),p||(p=m);Object.values(t).filter((t=>t.poolId.toString()===e.toString())).forEach((e=>{let t={...e,poolData:{...e.poolData}};let a,s=(0,c.e0)(t.poolData.quote_token_i)?r/window.solUsdPrice:r;(0,d.gD)(s)||(a=parseFloat(s||0),t.poolData.price_quote=a),t.positions&&a&&(t.positions=t.positions.map((e=>{const t={...e};t.usd||(t.usd={}),t.quote||(t.quote={});const s=parseFloat(t.remainingTokens)*parseFloat(a),n=parseFloat(t.quote?.remaining)*window.solUsdPrice,l=(0,d.sJ)({invested:parseFloat(t.quote.invested||0),remaining:parseFloat(s||0),sold:parseFloat(t.quote.sold||0)}),o=(0,d.sJ)({invested:parseFloat(t.usd.invested||0),remaining:parseFloat(n||0),sold:parseFloat(t.usd.sold||0)});return t.quote={...t.quote,remaining:s,pl:l.pl.value,plQuote:l.plQuote.value},t.usd={...t.usd,remaining:n,pl:o.pl.value,plQuote:o.plQuote.value},(0,b.BH)(t)}))),t.quote||(t.quote={}),t.usd||(t.usd={});const o=parseFloat(t.remainingTokens||0),g=(parseFloat(t.quote?.sold||0),parseFloat(t.quote?.invested||0));if((g>0||o>0)&&o>0){if(!(0,d.gD)(a)){let e=parseFloat(a*o);t.quote={...t.quote,remaining:e},t.usd={...t.usd,remaining:e*window.solUsdPrice}}if((0,d.gD)(i)||(t.poolData.reserve0=i),(0,d.gD)(m)||(t.poolData.reserve1=m),(0,d.gD)(u)||(t.poolData.reserve0Tr=u),(0,d.gD)(p)||(t.poolData.reserve1Tr=p),g>0){const a=(0,d.sJ)({invested:parseFloat(t.quote.invested||0),remaining:parseFloat(t.quote.remaining||0),sold:parseFloat(t.quote.sold||0)});t.quote={...t.quote,pl:a.pl.value,plQuote:a.plQuote.value};const s=(0,d.sJ)({invested:parseFloat(t.usd.invested||0),remaining:parseFloat(t.usd.remaining||0),sold:parseFloat(t.usd.sold||0)});t.usd={...t.usd,pl:s.pl.value,plQuote:s.plQuote.value},n[e.uid]=t,l()(document).trigger("holdings:refreshPopup",[t])}}}))})),n};var y=()=>{const e=l()(".js-holdings-table");if(!e.length)return;const t=e.hasClass("js-holdings-table--full"),a=t?{containerClassName:"c-grid-table c-grid-table--index c-grid-table--my-holdings c-grid-table--vscrolled",trClassName:"c-grid-table__tr c-trades-table__tr js-indx-table__tr",tdClassName:"c-grid-table__td c-trades-table__td",headClassName:"c-grid-table__head c-grid-table__head--sticky js-grid-table__head--sticky"}:{containerClassName:"c-grid-table c-grid-table--trades c-grid-table--show",trClassName:"c-grid-table__tr c-trades-table__tr js-indx-table__tr",tdClassName:"c-grid-table__td c-trades-table__td",thClassName:"c-grid-table__th c-trades-table__th",headClassName:"c-trades-table__thead c-grid-table__head",scrollClassName:"c-trades-table__scroll"},n=(e=>{const t=new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:2,maximumFractionDigits:2});let a=new Intl.NumberFormat("en-US",{minimumFractionDigits:4,maximumFractionDigits:4});const n=[{id:"token",label:i18n.t("token"),orderParam:"timestamp",sortable:!0,orderRequestKey:"last_action_at",renderCell:({symbol:e,poolId:t}={})=>`\n            <a  class="text-ellipsis" href="${(0,d.VV)(null,t)}">\n              ${e}\n            </a>\n          `},{id:"invested",label:i18n.t("invested"),renderCell:({investedEth:e}={})=>E(e)},{id:"remaining",label:i18n.t("remaining"),orderParam:"remainingEth",sortable:!0,orderRequestKey:"remainingEth",renderCell:({remainingEth:e,remainingTokens:t}={})=>`\n          <div>\n            <div>${E(e)}</div>\n            <div class="u-font-size-xxs u-color-dark c-trades-table__td__sub">${(0,d.wk)(t||0)}</div>\n          </div>\n        `},{id:"sold",label:i18n.t("sold"),renderCell:({soldEth:e,soldTokens:t}={})=>`\n          <div>\n            <div>${E(e)}</div>\n            <div class="u-font-size-xxs u-color-dark c-trades-table__td__sub">${(0,d.wk)(t||0)}</div>\n          </div>\n        `},{id:"pl",label:i18n.t("change_pl"),orderParam:"pl",sortable:!0,orderRequestKey:"pl",renderCell:({pl:e,plEth:s}={})=>`\n            <div>\n              <span class="${e>=0?"u-color-green":"u-color-red"}">\n                ${e>=0?"+":""}${t.format(e/100)}\n              </span>\n              ${0!==s?`\n                  <div class="c-trades-table__td__sub u-font-size-xxs ${s>=0?"u-color-green":"u-color-red"}">${parseFloat(s)>=0?"+":""}${a.format(s||0)}</div>\n                `:""}\n            </div>\n          `},{id:"icons",label:"",renderCell:(e={})=>{const{remainingEth:t,poolId:a,id:s,status:n,plEth:l}=e,o=t>0,r=o?"button":"span";return`\n            <div class="l-row l-row-gap--s u-align-items-center">\n                <div class="l-col-auto">\n                  <div data-id="${s}" class="c-trades-table__share ${l&&l>0?"js-holdings-table__share":"is-disabled"}">\n                    <span  class="c-trades-table__share__icon  c-icon c-icon--share"></span>\n                    ${i18n.t("share")}\n                  </div>\n                </div>\n                <div class="l-col-auto">\n                  <div class="c-indx-table__sell-wrapper">\n                    <${r}\n                      class="\n                        c-btn\n\n                        c-indx-table__btn\n                        c-indx-table__btn--sm\n                        ${o?"c-btn--lt js-indx-table__action-btn js-sell__popup":"c-indx-table__btn--disabled"}\n                      "\n                      ${o?`\n                        data-row-data="${encodeURIComponent(JSON.stringify(e))}"\n                        data-pool-id="${a}"\n                      `:""}\n\n                    >\n\n                      ${o?i18n.t("sell"):i18n.t("sold")}\n                    </${r}>\n                  </div>\n                </div>\n                <div class="l-col-auto u-d-flex u-align-items-center">\n                  <span data-id="${s}" class="c-trades-table__eye js-indx-table__eye u-pointer c-icon c-icon--${"hidden"===n?"eye-closed":"eye"}"></span>\n                </div>\n\n            </div>\n          `}}];let l,o=e.container.data("sort"),r=e.container.data("sortDir"),i=n.find((e=>e.orderParam==o));return l=i&&["asc","desc"].indexOf(r)>=0?{name:i.orderParam,label:i.label,value:r,orderRequestKey:i.orderRequestKey}:{name:"timestamp",label:i18n.t("created"),value:"desc",orderRequestKey:"timestamp"},new s.A({cellRenderProps:{},initOrder:l,usePageParam:!0,disableRowLink:!0,disableMobileView:!0,onSortChange:e=>{let t={filters:{sort_dir:e.value,sort:e.name}};fetch("/api/my_holdings/update_filters",{method:"POST",headers:{"x-csrf-token":(0,d.PE)(),"content-type":"application/json"},body:JSON.stringify(t),credentials:"same-origin"}).then((e=>e.json()))},tableHeaders:n,...e})})({tableId:v.Ht.holdings,actionCable:window._userChannel,container:l()(".js-holdings-table"),skeletonPageSize:6,pageSize:20,filterLiveData:(e,{config:t}={})=>{const{not_honeypot:a,with_remainings:s,show_hidden:n}=t.state.params,l=e.attributes||e,o=n||"active"===l.status,r=!s||l.remainingEth>0,i=!a||!l.isHoneypot;return o&&r&&i},params:{pool_id:(0,c.Lx)()},source:"/api/my_holdings/search",renderPlaceholder:()=>`\n      <div class="u-color-dark-dk u-text-center u-font-size-s2">\n        ${i18n.t("no_holding")}\n      </div>\n    `,noEmptyHeader:!0,useInnerScroll:!t,...a});return n.init(),l()(document).on("click",".js-indx-table__eye",(function(){const e=l()(this).hasClass("c-icon--eye-closed"),t=l()(this).data("id");if(fetch(`/api/my_holdings/${t}/toggle_hidden`,{method:"POST",headers:{"x-csrf-token":(0,d.PE)(),"content-type":"application/json"},body:JSON.stringify({hide:!e}),credentials:"same-origin"}).then((e=>e.json())),e)l()(this).removeClass("c-icon--eye-closed").addClass("c-icon--eye");else if(n.tableState.params.show_hidden)l()(this).addClass("c-icon--eye-closed").removeClass("c-icon--eye");else{const e=l()(this).closest(".js-indx-table__tr").data("rowId");n.tableState.removeDataById(e)}})),w(),N(),n}},29961:function(e,t,a){a.d(t,{A:function(){return m}});var s=a(5933),n=a(81055),l=a.n(n),o="_VkDoGAP9s5w7ECEyAV6",r="_zo43vxbeNcc7NjdakfV",i="Re0CMRLqnBeiDUEglZyW",c="fNBdfuYyyv4FXexHZcNS",d="_LNeoTEyKs_hi56Xwedi";var m=({onClose:e,footer:t,className:a,title:n,children:m,contentClassName:u})=>s.createElement("div",{className:l()(o,a)},s.createElement("div",{className:r},s.createElement("div",{className:l()("c-icon c-icon--arrow-left",i),onClick:e}),s.createElement("div",{className:"u-text-center"},n)),s.createElement("div",{className:l()(c,u)},m),t&&s.createElement("div",{className:d},t))},29495:function(e,t,a){a.d(t,{A:function(){return i}});var s=a(5933),n=a(81055),l=a.n(n),o="nlAZi_YqCanXrUgnrrIe",r="PW0haxWnI9ppao6EXKPq";var i=({className:e,compact:t})=>s.createElement("div",{className:l()("u-d-flex u-align-items-center",o,e,{[r]:t})},s.createElement("div",{className:l()("c-icon c-icon--pause",t?"c-icon--5xs":"c-icon--4xs u-mr-4xs")}),!t&&"Paused")},15682:function(e,t,a){a.d(t,{BH:function(){return Z},Ay:function(){return ee},IT:function(){return Q}});var s=a(5933);var n=(0,s.createContext)(null),l=a(50296),o=a(74464),r=a(68544),i=a(47424),c=a(56465),d=a(81055),m=a.n(d),u=a(56586),p=a(50549),g=a(59955),_=a(5479),h=a.n(_),f=a(65744),v=a(81580);var b=({data:e,btnClassName:t,hideShare:a,hideEye:l,genWallet:o,selectedWallet:r})=>{const{setStorage:i,isUsd:c}=(0,s.useContext)(n),[d,u]=(0,s.useState)(),p=(0,s.useRef)(),{poolId:_,uid:b,status:E}=e,{remaining:w,plQuote:N,pl:k}=e[c?"usd":"quote"]||{},y="hidden"===E;(0,f.A)((()=>{if(d){(()=>{fetch(`/api/my_holdings/${b}/toggle_hidden`,{method:"POST",headers:{"x-csrf-token":(0,v.PE)(),"content-type":"application/json"},body:JSON.stringify({hide:!y}),credentials:"same-origin"}).then((e=>e.json()))})(),i((e=>((e,t)=>(0,g.jM)(e,(e=>{e[t]&&(e[t].status="hidden"===e[t].status?"active":"hidden")})))(e,b))),u(!1)}}),[d]),(0,s.useEffect)((()=>{const e=()=>{C(!1)};return h()(document).on("sellPopup:showed",e),()=>{h()(document).off("sellPopup:showed",e)}}),[]),(0,s.useEffect)((()=>{const e=function(e,t){h()(t).is(h()(p.current))&&C(!0)};return h()(document).on("sellPopup:init",e),()=>{h()(document).off("sellPopup:init",e)}}),[]);const[x,C]=(0,s.useState)(),S=w>0,A=S?"button":"span",j=k&&N&&N>0;return s.createElement("div",{className:"l-row l-row-gap--s u-align-items-center"},!a&&s.createElement("div",{className:"l-col-auto"},s.createElement("div",{"data-id":b,className:m()(t,"c-trades-table__share "+(j?"js-holdings-table__share":"is-disabled"))},s.createElement("span",{className:"c-trades-table__share__icon  c-icon c-icon--share"}),i18n.t("share"))),s.createElement("div",{className:"l-col-auto"},s.createElement("div",{className:"c-indx-table__sell-wrapper"},s.createElement(A,{ref:p,className:m()(t,`\n                        c-btn\n                        c-indx-table__btn\n                        c-indx-table__btn--sm\n                        ${S?"c-btn--lt js-indx-table__action-btn js-sell__popup "+(x?"is-disabled":""):"c-indx-table__btn--disabled"}\n                      `),"data-row-data":S?encodeURIComponent(JSON.stringify(e)):null,"data-pool-id":S?_:null,"data-gen-wallet":o,"data-selected-wallet":r},S?i18n.t("sell"):i18n.t("sold")))),s.createElement("div",{className:"l-col-auto u-d-flex u-align-items-center u-w-md"},!l&&s.createElement("span",{"data-id":b,className:m()(t,"c-trades-table__eye u-pointer c-icon"),"data-icon":y?"eye-closed":"eye",onClick:()=>u(!0)})))},E=a(49335);const w=(0,E.FB)(),N=new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:2,maximumFractionDigits:2});let k=new Intl.NumberFormat("en-US",{minimumFractionDigits:4,maximumFractionDigits:4});const y=e=>s.createElement(p.A,{iconClassName:"c-indx-table__cell__icon"},(0,v.M2)(e||0,4)),x=e=>{const{isUsd:t}=(0,s.useContext)(n);return e?{data:e[t?"usd":"quote"],isUsd:t}:null},C=({info:e,param:t})=>{const{data:a,isUsd:s}=x(e);return a?s?(0,v.gp)({unit:"$",numb:a[t],fractionLength:4}):y(a[t]):"N/A"},S=({value:e,tokens:t,multiPools:a,symbol:n,isUsd:l})=>s.createElement("div",null,s.createElement("div",null,l?(0,v.gp)({unit:"$",numb:e,fractionLength:4}):y(e)),s.createElement("div",{className:"u-font-size-xxs u-color-dark c-trades-table__td__sub"},s.createElement("span",{className:a?"u-color-yellow u-z-index-2 u-position-relative":"","data-tooltip-id":a?"tooltip-my-holdings-mpools":null,"data-tooltip-content":i18n.t("alert.mpools.text3",{symbol:n})},(0,v.wk)(t||0),a&&s.createElement("span",{className:"u-color-red"},"*")))),A=({pl:e,plQuote:t,multiPools:a})=>s.createElement("div",null,s.createElement("span",{className:m()((0,v.gD)(e)?"u-color-dark-dk":e>=0?"u-color-green":"u-color-red","u-d-flex u-align-items-center")},(0,v.gD)(e)?"N/A":`${e>=0?"+":""}${N.format(e/100)}`,a&&s.createElement("div",{className:"c-icon c-icon--mpools u-color-yellow c-icon--12 u-ml-xxs u-z-index-2","data-tooltip-id":"tooltip-my-holdings-mpools","data-tooltip-content":i18n.t("alert.mpools.text2")})),0!==t?s.createElement("div",{className:"c-trades-table__td__sub u-font-size-xxs "+(t>=0?"u-color-green":"u-color-red")},`${parseFloat(t)>=0?"+":""}${k.format(t||0)}`):null);var j=a(60439),P=a(48073);var D=a(55129),F=a(63901),q=a(36761),T=a(87816),$={field:"ouZQuUYacfRKnSTHFKSU",btn:"F9ktigpy9YPQI5APRg2u",btn__icon:"PQsVy1tB_iPME_7DCOHT"},U=a(73435),I=a(29961);var R=({mobilePopup:e})=>{const[t,a]=(0,s.useState)(),[n,l]=(0,s.useState)(),o=(0,s.useCallback)((e=>{a(e.target.value)}),[]),r=(0,s.useRef)(t);(0,s.useEffect)((()=>{r.current=t}),[t]),(0,s.useEffect)((()=>{if(!n)return;(async()=>{try{const e=await fetch("/api/my_holdings/refresh_token",{method:"POST",headers:{"x-csrf-token":(0,v.PE)(),"content-type":"application/json"},body:JSON.stringify({address:r.current}),credentials:"same-origin"}).then((e=>e.json()));if(e&&e.success)(0,U.ag)({message:`$${e.symbol} balance is being refreshed.`}),a("");else{const t=e.error?e.error:"Something went wrong, please try again.";(0,U.F8)({message:t})}}catch(e){console.error(e),(0,U.F8)({message:"Something went wrong, please try again."})}l(!1)})()}),[n]);const i=(0,s.useCallback)((e=>{t&&!n&&l(!0)}),[t]),c=s.createElement("div",{className:m()($.field,"c-field c-field--xs u-w-100 u-px-xs")},s.createElement("input",{name:"refresh_address",type:"text",className:m()($.field__input,"c-field__input"),onChange:o,value:t,placeholder:"Input token address"})),[d,u]=(0,s.useState)();return e?s.createElement(s.Fragment,null,s.createElement("div",{className:m()($.btn,"c-btn c-btn--sm c-btn--lt"),onClick:()=>u((e=>!e))},s.createElement("div",{className:m()($.btn__icon,"c-icon c-icon--refresh u-color-dark-dk")})),d&&s.createElement(I.A,{title:"Refresh Token",onClose:()=>u((e=>!e))},s.createElement("div",{className:"u-p-s"},s.createElement("div",{className:"u-color-dark u-font-size-3xs u-text-capitalize u-mb-xxs"},"Token Address"),c,s.createElement("div",{className:m()("c-btn u-w-100 u-mt-m",{"is-disabled":!t}),onClick:()=>{t&&(i(),u(!1))}},"Refresh Token")))):s.createElement("div",{className:"l-row l-row-gap--xxs u-align-items-center"},s.createElement("div",{className:"l-col l-col-md-auto"},c),s.createElement("div",{className:"l-col-auto"},s.createElement("button",{className:"c-btn c-btn--sm c-btn--lt u-px-s u-pointer",disabled:!t,onClick:i},s.createElement("div",{className:"c-icon c-icon--refresh c-icon--base u-mr-xxs u-color-dark-dk"}),"Refresh Token")))},W=a(41508),M=a(47445),O=a(3538),z=(a(27048),a(21821)),L=a(90883);const Q=({lastRefreshAt:e,delaySec:t=300})=>{const[a,n]=(0,s.useState)(e);(0,s.useEffect)((()=>{n(e)}),[e]);const[l,o]=(0,s.useState)(!a||Date.now()/1e3-(0,v.Ro)(a)/1e3>=t);(0,s.useEffect)((()=>{o(!a||Date.now()/1e3-(0,v.Ro)(a)/1e3>=t)}),[a,t]);const r=(0,s.useCallback)((()=>{const e=!a||Date.now()/1e3-(0,v.Ro)(a)/1e3>=t;e!==l&&o(e)}),[a,l,t]);return{lasPLTimestamp:a,setLasPLTimestamp:n,allowRefreshPl:l,setAllowRefreshPl:o,onTick:r}},H={id:"timestamp",desc:!0},J=(e,t,a,s)=>"hidden"!==e.original.status,B={holdings:[{id:"with_remainings",label:i18n.t("filters.with_tokens")}]},V=e=>{const t={remainingEth:"quote.remaining",investedEth:"quote.invested",soldEth:"quote.sold"};return e&&t[e.id]?{...e,id:t[e.id]}:e},K=e=>{if(e&&!(0,v.Im)(e))return fetch("/api/my_holdings/update_filters",{method:"POST",headers:{"x-csrf-token":(0,v.PE)(),"content-type":"application/json"},body:JSON.stringify({filters:e}),credentials:"same-origin"}).then((e=>e.json()))},G=e=>{const{sort:t,dir:a}=e;return t?{id:"last_action_at"===t?"timestamp":t,desc:!a||"desc"===a}:H},Y=()=>window._userChannel,X=()=>window._plPriceChannel,Z=e=>{if(!e)return;const{soldEth:t,remainingEth:a,investedEth:s,pl:n,plEth:l,soldUsd:o,remainingUsd:r,investedUsd:i,plUsd:c,plUsdPerc:d,...m}=e,u=parseFloat(a)*window.solUsdPrice||0,p=(0,v.sJ)({invested:parseFloat(s)||0,remaining:parseFloat(a)||0,sold:parseFloat(t)||0}),g=(0,v.sJ)({invested:parseFloat(i)||0,remaining:parseFloat(u)||0,sold:parseFloat(o)||0});return{quote:{invested:s,remaining:a,sold:t,pl:p.pl.value,plQuote:p.plQuote.value},usd:{invested:i,remaining:u,sold:o,pl:g.pl.value,plQuote:g.plQuote.value},...m}};var ee=e=>{const{filters:t,showHidden:a,sorting:d,fullScreen:p,hideBar:_,onConfigUpdate:N,showRefreshToken:k,genWallets:$,filterSelectedWallet:U,isUsd:I,scrollClassName:Q}=e,H=(0,j.AZ)(),{isUsd:ee,toggleCurrency:te}=function(e){const[t,a]=(0,s.useState)((()=>(0,v.gD)(e)?(0,P.An)():e));(0,f.A)((()=>{const e=(e,{showUsdPrices:t})=>{(0,v.gD)(t)||a(t)};return h()(document).on("config:update",e),()=>{h()(document).off("config:update",e)}}));const n=(0,s.useCallback)((()=>{(0,P.CI)({showUsdPrices:!t}),h()(document).trigger("config:update",[{showUsdPrices:!t}])}),[t]);return{isUsd:t,setIsUsd:a,toggleCurrency:n}}(I),ae=(0,s.useMemo)((()=>(e=>{const t=[w.accessor("timestamp",{id:"timestamp",cell:e=>{const{symbol:t,poolId:a,tokenAddress:n}=e.row.original;return s.createElement("div",{className:"u-d-flex u-align-item-center u-flex-nowrap u-w-100"},s.createElement("a",{className:"text-ellipsis c-holdings__button",href:(0,v.VV)(null,a)},t),n&&s.createElement("div",{className:"c-holdings__button c-icon c-icon--base c-icon--document-copy u-ml-3xs u-color-dark-dk js-copy-to-clipboard","data-address":n}))},header:()=>i18n.t("token")}),w.accessor("investedEth",{id:"investedEth",cell:e=>s.createElement(C,{info:e.row.original,param:"invested"}),header:()=>i18n.t("invested"),enableSorting:!1}),w.accessor("remainingEth",{id:"remainingEth",cell:e=>{const{data:t,isUsd:a}=x(e.row.original);return t?s.createElement(S,{isUsd:a,value:t.remaining,tokens:e.row.original.remainingTokens,symbol:e.row.original.symbol,multiPools:e.row.original.multiPools}):"N/A"},header:()=>i18n.t("remaining")}),w.accessor("soldEth",{id:"soldEth",cell:e=>{const{data:t,isUsd:a}=x(e.row.original);return t?s.createElement(S,{isUsd:a,value:t.sold,tokens:e.row.original.soldTokens}):"N/A"},enableSorting:!1,header:()=>i18n.t("sold")}),w.accessor("pl",{id:"pl",cell:e=>{const{data:t,isUsd:a}=x(e.row.original);if(!t)return"N/A";const n=t.pl,l=t.plQuote,o=e.row.original.multiPools;return s.createElement(A,{pl:n,plQuote:l,multiPools:o})},header:()=>i18n.t("change_pl")}),w.display({id:"actions",cell:e=>{const t=e.row.original,{selectedWallet:a}=(0,s.useContext)(n);return s.createElement(b,{selectedWallet:a?.generated_wallet,genWallet:a?.generated_wallet,btnClassName:"c-holdings__button",data:t})}})],a=w.accessor("positions",{id:"wallets",cell:e=>{const{selectedWallet:t}=(0,s.useContext)(n);return s.createElement("span",{className:"u-color-primary-ltr"},t?1:e.getValue()?.length||0)},header:()=>i18n.t("wallets"),enableSorting:!1});return e?t.splice(1,0,a):t.splice(5,0,a),t})(H)),[H]),[se,ne]=(0,s.useState)($||[]),[le,oe]=(0,s.useState)(t||{}),[re,ie]=(0,s.useState)(a||!1),[ce,de]=(0,s.useState)(d||[G(e)]),[me,ue]=(0,s.useState)(""),pe=(0,s.useRef)(se);(0,s.useEffect)((()=>{pe.current=se}),[se]);const[ge,_e]=(0,s.useState)((()=>{if(U)return se.find((e=>e.generated_wallet===U))}));(0,f.A)((()=>{_e((e=>U?pe.current.find((e=>e.generated_wallet===U)):null))}),[U]);const he=(0,s.useCallback)(((e,t,a)=>{oe((s=>{const n={...s};return n[e]||(n[e]=[]),n[e]=a?[...n[e],t]:n[e].filter((e=>e!==t)),K({[t]:a}),n}))}),[]);(0,s.useEffect)((()=>{N&&N({filters:le})}),[le]),(0,s.useEffect)((()=>{N&&N({sorting:ce})}),[ce]);const fe=(0,s.useMemo)((()=>p&&!_?{containerClassName:"c-grid-table c-grid-table--index c-grid-table--my-holdings c-grid-table--vscrolled",headClassName:"c-grid-table__head c-grid-table__head--sticky",wrapperClassName:"c-grid-table-scroll c-grid-table-scroll--my-holdings c-grid-table-scroll--sm",thClassName:"c-grid-table__th"}:{containerClassName:"c-grid-table c-grid-table--trades c-grid-table--show",thClassName:"c-grid-table__th c-trades-table__th",headClassName:"c-trades-table__thead c-grid-table__head",scrollClassName:_?null:"c-trades-table__scroll",wrapperClassName:"c-trades-table-wrapper u-overflow-x-auto u-overflow-y-hidden"}),[p,_]);(0,f.A)((()=>{K({show_hidden:re})}),[re]),(0,f.A)((()=>{(()=>{let e=!ce[0]||(0,v.Im)(ce[0])?t:ce[0];const a={sort:e.id,sort_dir:e.desc?"desc":"asc"};K(a)})()}),[ce]);const ve=(0,s.useMemo)((()=>{let e={source:"/api/my_holdings/search",show_hidden:re,order_by:"timestamp",order_dir:"desc"};return le&&le.holdings&&(e.with_remainings=le.holdings.includes("with_remainings")),ce&&ce.length&&(e.order_by=ce[0].id,e.order_dir=ce[0].desc?"desc":"asc"),me&&(e.query=me),ge&&(e.wallets=ge.generated_wallet),(0,D.Pg)(e)}),[le,re,ce,ge,me]),be=(0,s.useCallback)((e=>((e,t,a)=>{let s=e;const n=a?.holdings?.includes("with_remainings");if(t&&e.positions){const a=e.positions.find((({generatedWallet:e})=>e===t.generated_wallet));a&&(s={...s,...a})}else!t&&n&&(s.positions=s.positions.filter((({remainingEth:e})=>parseFloat(e)>0)),["investedEth","investedUsd","remainingEth","remainingUsd","remainingTokens","soldTokens","soldEth","soldUsd"].forEach((e=>{s[e]=s.positions.reduce(((t,a)=>t+parseFloat(a[e]||0)),0)})));return s=Z(s),s.positions=s?.positions?.map((e=>Z(e))),s})(e,ge,le)),[ge,le]),{rowsData:Ee,setData:we,storage:Ne,setStorage:ke,isPending:ye,tableContainerRef:xe,observerRef:Ce}=(0,q.A)({requestUrl:ve,fullScreen:p,itemProcessor:be}),Se=(0,L.N4)({data:Ee,columns:ae,state:{globalFilter:!re,sorting:ce},onGlobalFilterChange:ie,getCoreRowModel:(0,E.HT)(),globalFilterFn:J,getFilteredRowModel:(0,E.hM)(),getExpandedRowModel:(0,E.D0)(),getRowCanExpand:()=>!0,initialState:{globalFilter:!re},onSortingChange:e=>de((t=>{const a=e(t);return a&&a.length?a:[{...t[0],desc:!0}]})),manualSorting:!0}),{rows:Ae}=Se.getRowModel(),[je,Pe]=(0,s.useState)(),[De,Fe]=(0,s.useState)({}),qe=(0,u.Te)({count:Ae.length,estimateSize:()=>57,getScrollElement:()=>xe.current,measureElement:"undefined"!==typeof window&&-1===navigator.userAgent.indexOf("Firefox")?e=>e?.getBoundingClientRect().height:void 0,overscan:5}),Te=Se.getRowModel().rows.length,$e=(0,s.useCallback)((e=>{const t=T.Ht.holdings;if(e&&e.totalPl){const t=e.totalPl.data;ne((e=>[...e].map((e=>t[e.generated_wallet]?{...e,pl:t[e.generated_wallet]}:e))))}if(!e||!e[t])return;const a={},s=[],n=[];if(e[t].data.forEach((e=>{let t=e.attributes||e;const l=ge&&t?.positions?.find((({generatedWallet:e})=>e===ge.generated_wallet)),o=!le||!le.holdings||!le.holdings.includes("with_remainings")||(l?parseFloat(l?.remainingEth||l?.usd?.remaining):parseFloat(t.remainingEth))>0;t.uid=e.id.toString(),t=be(t),s.push(t.uid),a[t.uid]=t;const r=!ge||!!t?.positions?.find((({generatedWallet:e})=>e===ge.generated_wallet));o&&r||n.push(t.uid.toString())})),s.length){const e=(0,g.jM)(Ne,(e=>({...e,...a})));ke((e=>{const t={...e};return Object.entries(a).forEach((([e,a])=>{n.includes(e.toString())||(t[e]=a)})),n.forEach((e=>delete t[e])),t})),we((t=>(0,D.x8)({state:t,ids:s,storage:e,sortData:V(ce[0]),withNullInfinity:!0}).filter((e=>!n.includes(e.toString())))))}}),[ce,Ne,le,be,ge]),Ue=(0,s.useCallback)((e=>{const t=(0,M.Ss)(e,{storage:Ne}),a=Object.keys(t);if(!(0,v.Im)(t)){const e={...Ne,...t};ke((e=>({...e,...t}))),we((t=>(0,D.x8)({state:t,ids:a,storage:e,sortData:V(ce[0]),withNullInfinity:!0})))}}),[Ne]);return(0,F.A)($e,{actionCable:Y}),(0,F.A)(Ue,{actionCable:X,initCable:z.R}),(0,s.useEffect)((()=>{ye||Fe({})}),[ye]),s.createElement(n.Provider,{value:{setStorage:ke,isUsd:ee,selectedWallet:ge}},s.createElement(c.A,{id:"tooltip-my-holdings"}),s.createElement(c.A,{id:"tooltip-my-holdings-mpools",render:({content:e})=>s.createElement("div",{style:{width:220}},e)}),p&&!_&&s.createElement(O.Ay,{wallets:se,quotePrice:window.solUsdPrice,selectedWallet:ge,setSelectedWallet:_e,isUsd:ee,toggleCurrency:te}),p&&!_&&s.createElement("hr",{className:"u-my-xs u-my-s-lg"}),s.createElement("div",{className:"l-row u-align-items-center u-mb-s"},s.createElement("div",{className:"l-col-12 l-col-md"},s.createElement("div",{className:"l-row u-flex-row-gap-xs l-row-gap--xs l-row-gap--m-lg  u-align-items-center"},s.createElement("div",{className:"l-col-auto"},s.createElement(o.A,{data:le,onChange:he,items:B,withMobile:!0})),s.createElement("div",{className:"l-col-auto"},s.createElement(i.A,{value:me,withMobilePopup:!0,placeholder:"Search Token",onChange:ue})),s.createElement("div",{className:"l-col-auto"},s.createElement(W.A,{checked:re||!1,onChange:()=>ie((e=>!e))},s.createElement("span",{className:"hide-m"},i18n.t("show_hidden")),s.createElement("span",{className:"u-d-none-lg"},i18n.t("hidden")))),s.createElement("div",{className:"l-col-auto"},s.createElement(W.A,{checked:je||!1,onChange:e=>{Se.toggleAllRowsExpanded(!je),Pe((e=>!e))}},s.createElement("span",{className:"hide-m"}," Expand All Tokens"),s.createElement("span",{className:"u-d-none-lg"}," Expand"))))),k&&s.createElement("div",{className:"l-col-12 u-mt-xs u-mt-0-md l-col-md-auto"},s.createElement(R,null))),p&&!_&&s.createElement("div",{className:"p-dashboard__divider"}),s.createElement("div",{className:ye||Te?fe.wrapperClassName:""},s.createElement("div",{className:ye||Te?fe.containerClassName:"","data-table-id":T.Ht.holdings},Te?s.createElement(r.A,{headerGroups:Se.getHeaderGroups(),thClassName:fe.thClassName,headClassName:fe.headClassName}):null,s.createElement("div",{className:ye||Te?m()(fe.scrollClassName,Q):"",ref:xe},ye?s.createElement(l.A,{size:50,cellSize:ae.length}):Te?s.createElement(s.Fragment,null,s.createElement("div",{className:"c-sortable c-grid-table__body",style:{height:`${qe.getTotalSize()}px`,position:"relative"}},qe.getVirtualItems().map((e=>{const t=Ae[e.index];return s.createElement("div",{"data-sortid":t.original.sortId,"data-index":e.index,ref:e=>qe.measureElement(e),key:t.original.uid,className:"c-grid-table__tr u-d-block c-trades-table__tr",style:{position:"absolute",transform:`translateY(${e.start}px)`,width:"100%"}},s.createElement("div",{className:"u-position-relative"},s.createElement("div",{className:"c-holdings__toggle",onClick:(...e)=>{Pe(!1),Fe((e=>({...e,[t.original.uid]:!e[t.original.uid]})))}}),s.createElement("div",{className:"c-grid-table__tr__inner"},t.getVisibleCells().map((e=>s.createElement("div",{className:"c-grid-table__td c-trades-table__td",key:e.id},(0,L.Kv)(e.column.columnDef.cell,e.getContext())))))),(De[t.original.uid]||je)&&s.createElement("div",null,(({row:e,genWallets:t=[],selectedWallet:a,isDesktop:n,isUsd:l})=>{let o=e.original.positions;if(!o||!o.length)return;a&&(o=o.filter((({generatedWallet:e})=>e===a.generated_wallet)));const{multiPools:r,symbol:i,poolId:c}=e.original;return o.map((({generatedWallet:o,soldTokens:c,remainingTokens:d,quote:m,usd:u})=>{const{sold:p,invested:g,remaining:_,plQuote:h,pl:f}=l?u:m,E=t.find((e=>o===e.generated_wallet))?.name,w=s.createElement("div",{className:"c-grid-table__td c-trades-table__td"},s.createElement("div",null,s.createElement("div",{className:"text-ellipsis"},E||""),s.createElement("div",{className:"u-font-size-xxs u-color-dark c-trades-table__td__sub"},(0,v.Wr)(o))));return s.createElement("div",{key:o,className:"c-grid-table__tr__inner"},s.createElement("div",{className:"c-grid-table__td c-trades-table__td"}),n&&w,s.createElement("div",{className:"c-grid-table__td c-trades-table__td"},l?(0,v.gp)({unit:"$",numb:g,fractionLength:5}):y(g)),s.createElement("div",{className:"c-grid-table__td c-trades-table__td"},s.createElement(S,{isUsd:l,value:_,tokens:d,symbol:i,multiPools:r})),s.createElement("div",{className:"c-grid-table__td c-trades-table__td"},s.createElement(S,{isUsd:l,value:p,tokens:c})),s.createElement("div",{className:"c-grid-table__td c-trades-table__td"},s.createElement(A,{pl:f,plQuote:h,multiPools:r})),!n&&w,s.createElement("div",{className:"c-grid-table__td c-trades-table__td"},parseFloat(_)>0?s.createElement(b,{hideShare:!0,hideEye:!0,genWallet:o,selectedWallet:a,data:e.original}):null))}))})({row:t,genWallets:se,selectedWallet:ge,isDesktop:H,isUsd:ee})))}))),s.createElement("div",{ref:Ce})):s.createElement("div",{className:"c-grid-table__empty u-d-block"},s.createElement("div",{className:"u-color-dark-dk u-text-center u-font-size-s2"},i18n.t("no_holding")))))))}},3538:function(e,t,a){a.d(t,{D1:function(){return y},Ay:function(){return C},fU:function(){return k},P2:function(){return x}});var s=a(5933),n=a(81055),l=a.n(n),o=a(50549),r=a(66614),i=(a(73435),a(27048)),c=a(92117),d=a(65744),m=a(56465),u=a(24053),p=a(81580),g="n8pOEgalCcccq_vQcFI1",_="liEGkbmIjwJcAt0p_9rg",h="khhMFiBNxyV1dfj5QCIA",f="X8g8kYJmwY0NpEaiNevz",v="Gx09xyhyg9VWHJAMJRSw",b="cS6QPlGbxeKNWag9bTsX",E="KmcRFrCmRAhWT4QZYHQw";const w=new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:2,maximumFractionDigits:2});let N=new Intl.NumberFormat("en-US",{minimumFractionDigits:0,maximumFractionDigits:4});const k=e=>e?e===i18n.t("time.just_now")?s.createElement(s.Fragment,null,s.createElement("span",{className:"u-d-none u-d-inline-lg"},i18n.t("last_refreshed",{time:`0${i18n.t("time.s")}`})),s.createElement("span",{className:"u-d-none-lg"},`0${i18n.t("time.s")} ${i18n.t("time.ago")}`)):s.createElement("div",null,s.createElement("div",null,s.createElement("span",{className:"u-d-none u-d-inline-lg"},i18n.t("last_refreshed",{time:e})),s.createElement("span",{className:"u-d-none-lg"},`${e} ${i18n.t("time.ago")}`)),s.createElement("div",{className:"u-font-size-10 u-mt-3xs"},"Data is not in real-time")):e,y=(e,t,{fractionLength:a=4}={})=>{const{invested:s,remaining:n,sold:l,pl:o,plQuote:r}=e[t?"usd":"quote"]||{};return[{id:"invested",label:i18n.t("invested"),value:t?(0,p.gp)({unit:"$",numb:s,fractionLength:a}):(0,p.gp)({numb:s,fractionLength:a}),type:t?"usd":"quote",valueClassName:""},{id:"remaining",label:i18n.t("remaining"),value:t?(0,p.gp)({unit:"$",numb:n,fractionLength:a}):(0,p.gp)({numb:n,fractionLength:a}),type:t?"usd":"quote",valueClassName:""},{id:"sold",label:i18n.t("sold"),value:t?(0,p.gp)({unit:"$",numb:l,fractionLength:a}):(0,p.gp)({numb:l,fractionLength:a}),type:t?"usd":"quote",valueClassName:""},{id:"pl",label:i18n.t("change_pl"),value:(0,p.gD)(o)?"N/A":`${o>=0?"+":""}${w.format(o/100)}`,subvalue:0!==r?`${parseFloat(r)>=0?"+":""}${t?(0,p.gp)({unit:"$",numb:r,fractionLength:a}):N.format(r||0)}`:null,valueClassName:(0,p.gD)(o)?"u-color-dark-dk":r>=0?"u-color-green":"u-color-red"}]},x=e=>{const t={invested:e.invested_eth,remaining:e.remaining_eth,sold:e.sold_eth},a={invested:e.invested_usd,remaining:e.remaining_usd,sold:e.sold_usd},s=(0,p.sJ)(t),n=(0,p.sJ)(a);return{quote:{...t,pl:s.pl.value,plQuote:s.plQuote.value},usd:{...a,pl:n.pl.value,plQuote:n.plQuote.value}}};var C=({className:e,selectedWallet:t,setSelectedWallet:a,wallets:n=[],isUsd:w,toggleCurrency:N})=>{const{timestamp:C,onTick:S}=(0,s.useContext)(c.A),A=(0,s.useMemo)((()=>(({selectedWallet:e,wallets:t})=>{if(e){const a=t.find((({generated_wallet:t})=>t===e.generated_wallet)),s=a?.pl;return s?{quote:{invested:s.invested_eth,remaining:s.remaining_eth,sold:s.sold_eth,pl:s.pl,plQuote:s.pl_eth},usd:{invested:s.invested_usd,remaining:s.remaining_usd,sold:s.sold_usd,pl:s.pl_usd_perc,plQuote:s.pl_usd}}:{quote:{},usd:{}}}const a={};return t.forEach((e=>{const t=e.pl;t&&Object.entries(t).forEach((([e,t])=>{a[e]=(a[e]||0)+parseFloat(t||0)}))})),x(a)})({selectedWallet:t,wallets:n})),[n,t]),j=(0,s.useMemo)((()=>y(A,w)),[A,w]),P=t?.generated_wallet;return(0,d.A)((()=>{(0,p.YQ)(P,"myHoldings")}),[P]),s.createElement("div",{className:l()(e,g)},s.createElement(m.A,{id:"seed"}),s.createElement("div",{className:l()(f,_)},s.createElement(r.A,{items:n,initWallet:t,onApply:a,type:"buy",tooltipId:"seed"})),s.createElement("div",{className:h},j.map((({id:e,label:t,value:a,type:n,subvalue:r,valueClassName:c})=>s.createElement("div",{key:e,className:l()(f)},t&&s.createElement("div",{className:E},t),s.createElement("div",{className:"u-d-flex u-lh-1 u-align-items-center"},!(0,p.gD)(a)&&s.createElement("div",{className:l()(v,c)},"quote"===n?s.createElement(o.A,{iconClassName:"c-icon--3xs"},a):a,"pl"===e&&s.createElement(i.A,{className:"u-d-none-lg u-ml-3xs"})),!(0,p.gD)(r)&&s.createElement("div",{className:l()(b)},r),"pl"===e&&s.createElement("div",{className:"c-icon p-show__convert u-ml-xxs","data-icon":w?"sol-convert":"usd-convert",onClick:N})))))),s.createElement("div",{className:l()(f,"u-d-none u-d-flex-lg u-font-size-xxs u-color-dark u-align-items-center")},s.createElement(i.A,null,s.createElement(u.AG,{onTick:S,timestamp:C,format:k,className:"u-ml-3xs u-font-size-xxs u-color-dark  u-d-none-lg"})),s.createElement(u.AG,{onTick:S,timestamp:C,format:k,className:"u-ml-m u-font-size-xxs u-color-dark u-d-none u-d-flex-lg"})))}},27048:function(e,t,a){a.d(t,{A:function(){return p}});var s=a(5933),n="X0yUIT8ekvgooUNIE2yR",l="P43yzsV4neoeDGXhzVEp",o="HNqhb2ssmzE8PbqZPWbg",r="CnyNJ91ZHBN4lg7Ya8ru",i=a(81055),c=a.n(i),d=a(73435),m=a(92117),u=(a(65744),a(81580));var p=({className:e,children:t,wallet:a,round:i,disableTooltip:p,period:g})=>{const[_,h]=(0,s.useState)(),{setTimestamp:f,allowRefreshPl:v}=(0,s.useContext)(m.A),b=(0,s.useCallback)((e=>{if(_)return;h(!0);(async()=>{try{let e="/api/my_holdings/update_total_pl";a&&(e=`/api/portfolios/refresh_pnl?wallet=${a}`,g&&(e+=`&period=${g}`));const t=await fetch(e,{method:"POST",headers:{"x-csrf-token":(0,u.PE)(),"content-type":"application/json"},body:JSON.stringify({}),credentials:"same-origin"}).then((e=>e.json()));if(t&&t.success)f((new Date).getTime());else{const e=t.error?t.error:"Something went wrong, please try again.";h(!1),(0,d.F8)({message:e})}}catch(e){console.error(e),h(!1),(0,d.F8)({message:"Something went wrong, please try again."})}})()}),[_,g]);return(0,s.useEffect)((()=>{v&&h(!1)}),[v]),s.createElement("button",Object.assign({className:c()(l,e,"c-btn c-btn--sm c-btn--lt u-pointer",{[r]:i}),onClick:b,disabled:!v||_},p?{}:{"data-tooltip-id":"tooltip-my-holdings","data-tooltip-content":"You can refresh every 5 minutes"}),s.createElement("div",{className:c()(n,"c-icon c-icon--refresh u-color-dark-dk")}),s.createElement("span",{className:o},"Refresh P&L"),t)}},47424:function(e,t,a){a.d(t,{A:function(){return i}});var s=a(5933),n=a(81055),l=a.n(n),o="Ht5omj0vwmFkDM3o2TKA",r=a(29961);var i=({value:e,onChange:t,className:a,placeholder:n,withMobilePopup:i})=>{const[c,d]=(0,s.useState)(e||""),[m,u]=(0,s.useState)(),p=(0,s.useCallback)((e=>{d(e.target.value)}),[]),g=(0,s.useCallback)((e=>{"Enter"!==e.key&&13!==e.keyCode||t&&t(c)}),[c]),_=(0,s.useCallback)((e=>{t&&t(c)}),[c]);return(0,s.useEffect)((()=>{d(e)}),[e]),s.createElement("div",{className:l()(a)},i&&s.createElement(s.Fragment,null,s.createElement("div",{className:o,onClick:()=>u((e=>!e))},s.createElement("div",{className:"c-icon c-icon--search c-icon--base u-color-dark"})),m&&s.createElement(r.A,{title:"Search Token",contentClassName:"u-p-m",onClose:()=>{u(!1),_()}},s.createElement("div",{className:l()("c-field","c-field--sm")},s.createElement("div",{className:"l-row u-align-items-center l-row-gap--xxs"},s.createElement("div",{className:"l-col-auto"},s.createElement("div",{className:"c-icon c-icon--search c-icon--base u-color-dark"})),s.createElement("div",{className:l()("l-col")},s.createElement("input",{placeholder:n,value:c,onChange:p,type:"text",className:"c-field__input"})))),s.createElement("div",{className:"c-btn u-w-100 u-mt-s",onClick:()=>{u(!1),_()}},"Search Token"))),s.createElement("div",{className:l()("c-field","c-field--xs",{"hide-m":i})},s.createElement("div",{className:"l-row u-align-items-center l-row-gap--xxs"},s.createElement("div",{className:"l-col-auto"},s.createElement("div",{className:"c-icon c-icon--search c-icon--base u-color-dark"})),s.createElement("div",{className:l()("l-col")},s.createElement("input",{placeholder:n,value:c,onBlur:_,onChange:p,onKeyUp:g,type:"text",className:"c-field__input"})))))}},74464:function(e,t,a){var s=a(5933),n=a(81055),l=a.n(n),o=a(64285);const r=({onClick:e,counter:t,withMobile:a})=>s.createElement("div",{onClick:e,className:l()("c-btn c-btn--transparent u-px-lg-s c-indx-filters__toggle",{"u-px-xxs":!a})},s.createElement("div",{className:"c-icon c-indx-filters__toggle__icon c-icon--settings"}),s.createElement("span",{className:a?"hide-m":""},i18n.t("filter")),t>0&&s.createElement("div",{className:"c-indx-filters__toggle__counter u-ml-4xs"},t),s.createElement("div",{className:"c-icon c-icon--chevron-down c-indx-filters__toggle__arr"})),i=({children:e})=>s.createElement("div",{className:"c-dropdown__link u-px-m u-py-s"},e),c=(0,s.forwardRef)((({children:e},t)=>s.createElement("div",{ref:t,className:"c-dropdown__popup is-active"},s.createElement("div",{className:"c-dropdown__popup__inner u-py-xs u-w-auto"},e))));t.A=({className:e,onChange:t,items:a,data:n,withMobile:d})=>{const[m,u]=(0,s.useState)(),p=(0,o.A)((()=>{u(!1)})),g=(0,s.useMemo)((()=>{return e=n,Object.values(e).reduce(((e,t)=>e+(t?t.length:0)),0);var e}),[n]);return s.createElement("div",{ref:p,className:l()("c-dropdown",e)},s.createElement(r,{withMobile:d,counter:g,onClick:()=>u((e=>!e))}),m&&s.createElement(c,null,Object.entries(a).map((([e,a],l)=>s.createElement("div",{key:e},l>0&&s.createElement("hr",{className:"u-my-0"}),a.map((({id:a,label:l})=>{const o=n[e]&&n[e].includes(a);return s.createElement(i,{key:a},s.createElement("label",{className:"c-checkbox u-mr-xxs",id:""},s.createElement("input",{autoComplete:"off",className:"c-checkbox__input",name:"with_remainings",type:"checkbox",value:"",checked:o||!1,onChange:()=>t?t(e,a,!o):null}),s.createElement("div",{className:"c-checkbox__inner"},s.createElement("div",{className:"c-icon c-icon--check c-checkbox__icon"}),s.createElement("div",{className:"c-icon c-icon--minus c-checkbox__icon c-checkbox__icon--some"}))),s.createElement("span",{className:"u-color-light-alt"},l))})))))))}},68544:function(e,t,a){var s=a(5933),n=a(81055),l=a.n(n),o=a(90883),r=a(29495);const i=({headerGroups:e,thClassName:t,headClassName:a,pauseId:n,isPaused:i,renderAfter:c,thStyle:d})=>e&&e.length?s.createElement("div",{className:a,style:d},e.map((e=>s.createElement(s.Fragment,{key:e.id},e.headers.map((e=>s.createElement("div",{className:l()(t,{"u-pointer":e.column.getCanSort()}),key:e.id,onClick:e.column.getToggleSortingHandler()},e.isPlaceholder?null:s.createElement("div",{className:l()("u-d-flex u-align-items-center",e.column.getCanSort()&&e.column.getIsSorted()?"u-color-light-alt":"")},(0,o.Kv)(e.column.columnDef.header,e.getContext()),e.column.getCanSort()&&e.column.getIsSorted()&&s.createElement("button",{className:"c-icon c-icon--base u-ml-3xs u-pointer u-border-none","data-icon":`sort-${e.column.getIsSorted()}`}),c&&c({id:e.id}),n&&n===e.id&&i&&s.createElement(r.A,null))))))))):null;i.defaultProps={thClassName:"c-grid-table__th c-trades-table__th",headClassName:"c-trades-table__thead c-grid-table__head"},t.A=i},50296:function(e,t,a){var s=a(5933),n=a(81055),l=a.n(n);const o=({size:e,cellSize:t,trClassName:a="c-grid-table__tr c-trades-table__tr",tdClassName:n="c-grid-table__td c-trades-table__td",renderSkeleton:o,className:r,trStyle:i})=>s.createElement("div",{className:l()("c-grid-table__skeleton u-d-block",r)},new Array(e).fill({}).map(((e,l)=>s.createElement("div",{key:l,className:a,style:i},new Array(t).fill({}).map(((e,t)=>s.createElement("div",{key:t,className:n},o?o():s.createElement("div",{className:"c-t-skeleton u-d-block u-m-0"}))))))));o.defaultProps={size:20,cellSize:1},t.A=(0,s.memo)(o)},24053:function(e,t,a){a.d(t,{AG:function(){return u},nu:function(){return g},ss:function(){return p}});var s=a(5034),n=a(5933),l=a(11263),o=a(66414),r=a(56853),i=a(81580),c=a(48073);let d={},m="MMM d HH:mm:ss";"zh"===(0,c.JK)()&&(d={locale:r.g},m="MMM d\u65e5 HH:mm:ss");const u=(0,n.memo)((({timestamp:e,className:t,format:a,onTick:l,disableJustNow:o,renderTime:r=i.t_})=>{const[c,d]=(0,n.useState)(e?r((0,i.Ro)(e),{disableJustNow:o}):null);return(0,s.A)((()=>{e&&(l&&l(),d(r((0,i.Ro)(e),{disableJustNow:o})))}),1e3),n.createElement("span",{className:t},a?a(c):c)})),p=(0,n.memo)((({seconds:e,className:t,format:a,disableJustNow:s})=>{const l=(0,n.useMemo)((()=>e?(0,i.t_)((new Date).getTime()-1e3*parseInt(e),{disableJustNow:s}):null),[e]);return n.createElement("span",{className:t},a?a(l):l)})),g=({timestamp:e,dateToggle:t})=>{const a=(0,n.useMemo)((()=>(0,o.GP)(new Date((0,i.Ro)(e)),m,d)),[e]);return"age"===t?n.createElement(u,{timestamp:e}):n.createElement("span",null,a)};t.Ay=e=>{const{dateToggle:t}=(0,n.useContext)(l.A);return n.createElement(g,Object.assign({dateToggle:t},e))}},11263:function(e,t,a){const s=(0,a(5933).createContext)(null);t.A=s},63901:function(e,t,a){var s=a(5933);const n=e=>"function"===typeof e?e():e;t.A=function(e,{actionCable:t,initCable:a,debugName:l,disabled:o}={}){if(o)return;const r=(0,s.useRef)(e);(0,s.useEffect)((()=>{r.current=e}),[e]),(0,s.useEffect)((()=>{!n(t)&&a&&a();const e=(...e)=>{r.current(...e)};return n(t)&&n(t).subscribe(e),()=>{n(t)&&n(t).unsubscribe(e)}}),[t])}},36761:function(e,t,a){var s=a(5933),n=a(54769),l=a(75086),o=a(49606),r=a(81580);t.A=function({requestUrl:e,useOffset:t,pageSize:a,fullScreen:i,itemProcessor:c,dataProcessor:d,maxRowsCount:m,disableObserver:u,getTestData:p,refreshCounter:g=0,disableCommonParams:_,disableSkeleton:h,disablePage:f}){const v=(0,s.useRef)(h),[b,E]=(0,s.useState)([]),[w,N]=(0,s.useState)({}),[k,y]=(0,s.useState)({}),[x,C]=(0,s.useState)(!0),[S,A]=(0,s.useState)(!1),[j,P]=(0,s.useState)(1),[D,F]=(0,s.useState)(!0),q=s.useRef(null);(0,s.useEffect)((()=>{v.current=h}),[h]);const{ref:T,inView:$}=(0,l.Wx)({root:i?null:q.current,rootMargin:"0px 0px 1px 0px",threshold:1}),U=(0,s.useMemo)((()=>b.map((e=>k[e]))),[b,k]),I=U.length,[R,W]=(0,s.useState)(I),M=(0,o.A)(e);(0,s.useEffect)((()=>{P(1),F(!0),W(0)}),[e]),(0,s.useEffect)((()=>{m&&b.length>m&&F(!1)}),[b.length,m]);const O=(0,s.useRef)(c);return(0,s.useEffect)((()=>{O.current=c}),[c]),(0,s.useEffect)((()=>{if(!m||b.length<m||!R&&M!==e){(t&&M!==e||!t&&1===j)&&!v.current&&C(!0),A(!0);const s=async()=>{try{let s={};_||(s=t?{size:a,offset:R}:f?{}:{page:j||1});let{data:l,...o}=await(0,n.Z)({requestUrl:e,getTestData:p,params:s,dataProcessor:d,disableCommonParams:_});A(!1),(!l.length||a&&l.length<a)&&F(!1);const i={};let c=[];l.forEach((e=>{const t=O.current?O.current(e):e;c.push(t.uid),i[t.uid]=t})),c=[...new Set(c)],t?(E((e=>R>a?[...e,...c]:c)),y((e=>j>a?{...e,...i}:i))):(E((e=>j>1?[...e,...c]:c)),y((e=>j>1?{...e,...i}:i))),o&&!(0,r.Im)(o)&&N(o),C(!1)}catch(s){console.error(s),A(!1),E([]),F(!1),C(!1)}};s()}}),[j,R,t,a,m,e,M,g,_]),s.useEffect((()=>{$&&!S&&D&&!u&&(t?W((e=>e+I)):P((e=>e+1)))}),[D,S,$,u]),{rowsData:U,data:b,setData:E,storage:k,setStorage:y,isPending:x,isFetching:S,tableContainerRef:q,hasNextPage:D,observerRef:T,restData:w}}},54769:function(e,t,a){a.d(t,{Z:function(){return o}});a(5933);var s=a(55129),n=a(75793),l=a(48073);const o=async({requestUrl:e,params:t,dataProcessor:a,getTestData:o})=>{let r;const[i,c]=e.split("?");let d,m;try{d=n.A.stringify(c?.length?{...t,...n.A.parse(c||{})}:t)}catch(u){console.error(u),d=n.A.stringify(t),c?.length&&(d=`${d}&${c}`)}return r="localhost:3000"===window.location.host?await fetch(`${i}?${d}`,{method:"GET",mode:"cors",cache:"no-store"}):await fetch(`${i}?${d}`,{cache:"no-store"}),m=await r.json(),(0,l.M8)()&&o&&(m=o(t)),m=a?a(m):m,m.data=(Array.isArray(m)?m:m.data).map((e=>(0,s.dy)(e))),m}},92117:function(e,t,a){const s=(0,a(5933).createContext)(null);t.A=s},41508:function(e,t,a){a.d(t,{A:function(){return m}});var s=a(5933),n="u65Ga4ZlxJk1U8QMTyce",l="q2R7GDuBdceKdGgbYPtC",o="G2Lwh1DegZ1HYfQDzXeg",r="GfEE1rBj6Kf4FelSgbII",i="BxqWo0gq5SLEpR86OYPC",c=a(81055),d=a.n(c);var m=({children:e,inputClassName:t,labelClassName:a,switchClassName:c,className:m,onChange:u,checked:p,name:g})=>s.createElement("label",{className:d()(n,m)},s.createElement("div",{className:d()(l,c)},s.createElement("input",{checked:p,onChange:u,className:d()(o,t),name:g,type:"checkbox"}),s.createElement("span",{className:d()(i)})),s.createElement("div",{className:d()(r,a)},e))},56465:function(e,t,a){a.d(t,{A:function(){return i}});var s=a(5933),n=a(81055),l=a.n(n),o=a(35456),r="b4DQJAXKqj4a8AmG2ppc";var i=({className:e,...t})=>s.createElement(o.m_,Object.assign({className:l()(r,e)},t))},66614:function(e,t,a){a.d(t,{A:function(){return m}});var s=a(5933),n=a(81055),l=a.n(n),o=a(81580),r={wrapper:"jh3JeKr0yTC1Uw1zaoso","wrapper--inline":"t8fXKLjSApclBtYOeinZ",arr:"CsAhPOTDhIchGxuVf4gV",toggle:"keE2dgpBAyVNtY70yKal",desktop:"DPx1i2r96gzWUHiP0dh6",popup:"Ao74TvzSJlCF5J2V27WW",popup__inner:"NDLDjAByNTIutCQmfob5",list:"ElCnVnHXSI1KOHNAhY0E",icon:"JVY60l6qGTALWAyaEkWc",img:"iH5p56MEQoKsjbidWWcA",icon__label:"KuM9WofRDIiXgX4ePVe7",wallets:"PsCgyHnt4r8N6N_NDGeM",addresses:"uyyHfTL6RDkYeroDTBSe",item:"K2jKUeoSfmPqSXoUdurt",item__dot:"XqGElOn0NXlRdYzEl4OA","is-selected":"gnqj9xtfFbTFV6xffCqv",radio:"yhkiULRsrrxzwRjHOnkK"},i=a(64285),c=(a(65744),a(29961));const d=({isSelected:e,className:t,onChange:a,name:n,genWallet:i,type:c,symbol:d,balance:m=0,usdBalance:u=0,tooltipId:p,rocket:g,hideRocket:_,...h})=>s.createElement("div",Object.assign({className:l()(r.item,{[r["is-selected"]]:e}),onClick:a},h),s.createElement("div",{className:"l-row l-row-gap--xxs u-align-items-center"},s.createElement("div",{className:"l-col-auto"},s.createElement("div",{className:"c-checkbox"},s.createElement("input",{type:"radio",className:"c-checkbox__input",checked:e||!1,onChange:a}),s.createElement("div",{className:l()("c-checkbox__inner c-checkbox__inner--rounded",r.radio)},s.createElement("div",{className:"c-icon c-icon--check c-checkbox__icon"})))),s.createElement("div",{className:"l-col u-min-w-0"},s.createElement("div",{className:"l-row u-aligh-items-center no-gutters c-wdd__label"},s.createElement("div",{className:"l-col-auto text-ellipsis c-wdd__label__inner"},s.createElement("div",{className:"u-color-light-alt u-font-semibold u-font-size-xs text-ellipsis"},n)),!_&&s.createElement("div",{className:"l-col-auto"},s.createElement("div",Object.assign({className:l()("c-icon c-icon--rocket c-wdd__rocket c-icon--base",{"u-color-green":g})},p?{"data-tooltip-id":p,"data-tooltip-content":g?"This wallet have node accelerator enabled":"This wallet does not have node accelerator enabled"}:{})))),i&&s.createElement("div",{className:"u-font-size-xxs u-color-dark text-ellipsis"},(0,o.Wr)(i))),s.createElement("div",{className:"l-col-auto"},"buy"===c&&s.createElement(s.Fragment,null,s.createElement("div",{className:"u-color-light-alt u-font-size-xxs u-mb-4xs u-align-items-center u-d-flex"},s.createElement("div",{className:"c-icon c-icon--sol c-icon--4xs"}),s.createElement("span",null,(0,o.M2)(m||0,4))),s.createElement("div",{className:"u-font-size-3xs u-color-dark"},(0,o.gp)({numb:u||0,unit:"$",fractionLength:4}))),"sell"===c&&s.createElement(s.Fragment,null,s.createElement("div",{className:"u-color-light-alt u-font-size-xxs u-mb-4xs"}),s.createElement("div",{className:"u-font-size-3xs u-color-dark"},d))),s.createElement("div",{className:"l-col-auto"},s.createElement("div",{className:r.item__dot}))));var m=({className:e,items:t=[],type:a,onApply:n,symbol:m,initWallet:u,isLoading:p,tooltipId:g,toggleClassName:_,disableMobileStyles:h,iconClassName:f})=>{const[v,b]=(0,s.useState)(),[E,w]=(0,s.useState)(u),N=(0,i.A)((()=>{n(E),b(!1)}));(0,s.useEffect)((()=>{w(u||null)}),[u]);const k=window.walletBalances?Object.values(window.walletBalances).reduce(((e,t)=>e+parseFloat(t||0)),0):0,y=k*window.solUsdPrice,x=s.createElement("div",{className:l()("l-row l-row-gap--xxs u-justify-content-between u-align-items-center u-pt-xxs")},s.createElement("div",{className:"l-col-auto"},s.createElement("button",{className:"c-btn u-bg-none u-color-primary-ltr u-p-0",onClick:()=>{w(null),n(),b(!1)}},i18n.t("reset"))),s.createElement("div",{className:"l-col-auto"},s.createElement("button",{className:"c-btn c-btn--s u-px-m",onClick:()=>{n(E),b(!1)}},i18n.t("apply")))),C=s.createElement(s.Fragment,null,s.createElement(d,{isSelected:!E,onChange:()=>{w()},name:"All Wallets",type:"buy",balance:k,usdBalance:y,hideRocket:!0}),t.map((e=>{const{id:t,name:n,generated_wallet:l}=e,o=window.walletBalances&&window.walletBalances[l]||0,r=o*window.solUsdPrice;return s.createElement(d,{key:t,isSelected:E&&l===E.generated_wallet,onChange:()=>{w(e)},name:n,genWallet:l,type:a,symbol:m,balance:o,usdBalance:r,rocket:e?.durable_nonce_seeds?.length>0,tooltipId:g})})));return s.createElement(s.Fragment,null,s.createElement("div",{ref:N,className:l()("c-dropdown",r.wrapper,e,{[r["is-loading"]]:p})},s.createElement("div",{className:l()(r.toggle,_,{[r.desktop]:h}),onClick:()=>b((e=>!e))},s.createElement("div",{className:"l-row l-row-gap--3xs l-row-gap-lg--xs u-align-items-center"},s.createElement("div",{className:"l-col u-min-w-0"},u?s.createElement("div",{className:"u-d-flex u-align-items-center u-overflow-hidden u-flex-nowrap"},s.createElement("span",{className:"text-ellipsis"},u.name),s.createElement("span",{className:"u-mx-3xs"},"\xb7"),(0,o.Wr)(u.generated_wallet,3,3)):"All Wallets"),s.createElement("div",{className:"l-col-auto"},s.createElement("div",{className:l()("c-icon c-icon--chevron-down u-color-dark-dk",r.arr,f)})))),v&&s.createElement(s.Fragment,null,s.createElement(c.A,{footer:x,title:"Select Wallets",className:"u-d-none-lg",onClose:()=>{n(E),b(!1)}},C),s.createElement("div",{className:l()("c-dropdown__popup is-active hide-m",r.popup)},s.createElement("div",{className:l()("c-dropdown__popup__inner",r.popup__inner)},s.createElement("div",{className:r.list},C),s.createElement("hr",{className:"u-mt-s u-mb-xs"}),s.createElement("div",{className:"u-px-m u-pb-xs"},x))))))}},50549:function(e,t,a){var s=a(5933),n=a(81055),l=a.n(n);t.A=({className:e,iconClassName:t,children:a,hideIcon:n,icon:o="net-symbol"})=>s.createElement("div",{className:l()("u-d-inline-flex u-align-items-center",e)},!n&&s.createElement("span",{className:l()("c-icon u-lh-1",t),"data-icon":o}),a)},64285:function(e,t,a){a.d(t,{A:function(){return n}});var s=a(5933);function n(e){const t=s.useRef(null),a=s.useRef(e);return s.useLayoutEffect((()=>{a.current=e})),s.useEffect((()=>{const e=e=>{const s=t.current;s&&!s.contains(e.target)&&a.current(e)};return document.addEventListener("mousedown",e),document.addEventListener("touchstart",e),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e)}}),[]),t}},65744:function(e,t,a){var s=a(5933);t.A=(e,t)=>{const a=(0,s.useRef)(!1);(0,s.useEffect)((()=>{a.current?e():a.current=!0}),t)}},5034:function(e,t,a){a.d(t,{A:function(){return n}});var s=a(5933);function n(e,t){const a=(0,s.useRef)();(0,s.useEffect)((()=>{a.current=e}),[e]),(0,s.useEffect)((()=>{if(null!==t){let e=setInterval((function(){a.current()}),t);return()=>clearInterval(e)}}),[t])}},60439:function(e,t,a){a.d(t,{AZ:function(){return m},Iu:function(){return g},mG:function(){return p},o:function(){return u}});a(5933);var s=a(40377),n=a(81580);const l={xs:0,sm:576,md:768,lg:992,xl:1140,xxl:1300,xxxl:1650},o="lg",r="md",i=e=>`(min-width: ${e}px)`,c=e=>`(max-width: ${e-1}px)`,d={usePhone:c(l["sm"]),useTablet:c(l[r]),useMobile:c(l[o]),useDesktop:i(l[o]),...Object.entries(l).reduce(((e,[t,a])=>({...e,[`useMin${(0,n.ZH)(t)}`]:i(a),[`useMax${(0,n.ZH)(t)}`]:c(a)})),{})},m=()=>(0,s.Ub)(d.useDesktop),u=()=>(0,s.Ub)(d.useMaxSm),p=()=>(0,s.Ub)(d.useMinXl),g=()=>(0,s.Ub)(d.useMobile);(0,n.LG)(d,(e=>()=>(0,s.Ub)(e)))},49606:function(e,t,a){a.d(t,{A:function(){return n}});var s=a(5933);function n(e){const t=(0,s.useRef)(e),a=(0,s.useRef)();return t.current!==e&&(a.current=t.current,t.current=e),a.current}}}]);
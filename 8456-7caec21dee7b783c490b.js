"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8456],{65559:function(e,t,r){r.d(t,{KS:function(){return l},LD:function(){return u},YG:function(){return m}});var n=r(77810),s=r(81580),a=r(48073),i=r(5479),o=r.n(i),d=r(28951);const l=()=>{o()('.js-security-item[data-kind="locked_amount"]').each((function(){const e=o()(this).attr("data-extra");if(o()(this)[0]._tippy&&o()(this)[0]._tippy.destroy(),e){const t=JSON.parse(e.replaceAll("&quot;",'"'));if((0,s.gD)(t)||(0,s.Im)(t))return;const r=Object.entries(t).map((([e,t])=>{let r=`${Math.min(parseFloat(t),100)}%`;if(0===parseInt(e))return i18n.t("tooltip.locked_liq",{percentage:r});{let t=(0,s.qr)((new Date).getTime(),(0,s.Ro)(parseInt(e)));return i18n.t("tooltip.unlocks_in",{percentage:r,period:t})}})).join("<br/>");(0,d.Ay)(o()(this)[0],{...s.v1,content:r})}}))};function c(e,t,r,n=[]){let s,i;(0,a.d8)()?[s,i]=[e,n?.length?n[1]:t]:[s,i]=[t,n?.length?n[0]:e];let o=s/Math.pow(10,(0,a.ou)()),d=i/Math.pow(10,(0,a.sG)());return{quoteReservesUsd:(0,a.D$)()?o:o*window.solUsdPrice,tokenReservesUsd:(0,a.D$)()?d*r:d*r*window.solUsdPrice,quoteReserves:(0,a.D$)()?o/window.solUsdPrice:o,tokenReserves:d}}const u=e=>{window._showChannel||(window._showChannel=window._showChannel||new n.A({channelId:e,channelName:"LpChannel"},(0,a.gL)())),"processed"!==(0,a.ri)()||window._showProcessedChannel||(window._showProcessedChannel=window._showProcessedChannel||new n.A({channelId:`${e}_processed`,channelName:"LpChannel"},(0,a.gL)()))},m=()=>"processed"===(0,a.ri)()?window._showProcessedChannel:window._showChannel,h=e=>{if(!e?.data)return;const{priceUsd:t,priceQuote:r,usdLiquidity:n,reserve0:i,reserve1:d}=e.data;let{reserve0Tr:l,reserve1Tr:u}=e.data;l||(l=i),u||(u=d);let m={};if(l&&u&&r){const e=c(l,u,r,[i,d]),t=`${(0,s.gp)({numb:e.tokenReserves,fractionLength:2})}  ${(0,s.gp)({numb:e.tokenReservesUsd,fractionLength:2,unit:"$"})}`;o()('.js-security-item[data-kind="token_reserves"]').html(t);const n=`${(0,s.gp)({numb:e.quoteReserves,fractionLength:2})}SOL ${(0,s.gp)({numb:e.quoteReservesUsd,fractionLength:2,unit:"$"})}`;o()('.js-security-item[data-kind="quote_reserves"]').html(n)}else o()('.js-security-item[data-kind="token_reserves"]').html(" - "),o()('.js-security-item[data-kind="quote_reserves"]').html(" - ");if(i&&d&&r){const e=c(i,d,r),t=`${(0,s.gp)({numb:e.quoteReserves,fractionLength:2})}SOL ${(0,s.gp)({numb:e.quoteReservesUsd,fractionLength:2,unit:"$"})}`;o()('.js-security-item[data-kind="virtual_quote_reserves"]').html(t)}else o()('.js-security-item[data-kind="virtual_quote_reserves"]').html("-");t&&((0,a.CI)({showPriceUsd:t}),(0,s.D1)("priceUsd",t,{triggerUpdate:!1}),m.priceUsd=t),r&&((0,a.CI)({showPriceQuote:r}),(0,s.D1)("priceQuote",r,{triggerUpdate:!1}),m.priceQuote=r),i&&(0,a.CI)({showReserve0:i}),d&&(0,a.CI)({showReserve1:d}),l?(0,a.CI)({showReserve0Tr:l}):i&&(0,a.CI)({showReserve0Tr:i}),u?(0,a.CI)({showReserve1Tr:u}):d&&(0,a.CI)({showReserve1Tr:d}),(r||t||i||d||l||u)&&o()(document).trigger("config:update",[{showPriceUsd:t,showPriceQuote:r,showReserve0:i,showReserve1:d,showReserve0Tr:l||i,showReserve1Tr:u||d}]);const h=(0,a.Ou)();if(h&&!(0,s.gD)(t)){let e=h*t;if("moonshot"===(0,a.p1)()){e*=0===(0,a.tI)()?.55:1}(0,a.Z2)()&&(e*=.525),(0,s.D1)("mktCapVal",e,{triggerUpdate:!1}),m.mktCap=e}n&&(0,s.D1)("usdLiquidity",n);let p=(0,a.d8)()?l||i:u||d;if(!(0,s.gD)(p)&&!(0,s.n_)((0,a.p1)())){(0,a.D$)()&&(p=p/window.solUsdPrice*1e3);p>=(0,a.j8)()?(o()(document).trigger("warnings:hide",[{alerts:["lowlq"],poolId:(0,a.Lx)()}]),(0,a.CI)({showLowLiq:!1})):(o()(document).trigger("warnings:show",[{alerts:["lowlq"],poolId:(0,a.Lx)()}]),(0,a.CI)({showLowLiq:!0}))}(0,s.IZ)(null,r,!1),(0,s.Im)(m)||o()(document).trigger("cableValue:update",[m])};t.Ay=({id:e})=>(window._showChannel||(u(e),window._showChannel.subscribe(((e={})=>{if(e.insiders){const t=(0,a.Rw)();(0,a.CI)({showInsiders:e.insiders}),o()(document).trigger("config:update",[{showInsiders:e.insiders},{showInsiders:t}])}(0,a.t9)()||h(e);let t={};if(e.data){const{totalSupply:r,lockedLiquidity:n,ignored:i,migratedTo:d,redirectTo:c,pumpProgress:u,pumpD:m}=e.data;let h,p=o()(".js-pump-live"),g=p.length;if(m&&g&&(o()(".js-migrate__from").toggleClass("is-hidden",m?.live),p.toggleClass("is-hidden",!m?.live),m.live?(o()(".js-pump-live").each((function(){o()(this).attr("data-timestamp",m.created_timestamp),o()(this).attr("data-fimg",m.thumb),o()(this).find(".js-pump-live__text").empty().text(m.desc)})),(0,s.ES)()):m&&!m.live&&o()(".js-pump-live").each((function(){this._tippy&&this._tippy.destroy()}))),!(0,s.gD)(u)&&s.M$.includes((0,a.p1)())&&(o()(".js-curve__value").html(`${u}%`),o()(".js-curve__bar").css({width:`${u}%`}),100!==u||"heaven"!==(0,a.p1)()||o()(".js-migrate__arr").length||(o()(".js-curve").remove(),o()(".js-migrate__from").after('\n            <div class="c-icon c-icon--migrate c-icon--12 u-mx-4xs js-migrate__arr"></div>\n            <div class="c-icon c-icon--base c-icon--heaven"></div>\n          '))),c&&s.M$.includes((0,a.p1)())&&window.location.assign(c),d){let e;(0,a.CI)({showMigratedAddress:d}),e="raydium_launchpad"===(0,a.p1)()?i18n.t("rl_migrated",{where:"Raydium",target:(0,a.cs)()||0}):"meteora_virtual_curve"===(0,a.p1)()?i18n.t("rl_migrated",{where:"Meteora",target:(0,a.cs)()||0}):"boop"===(0,a.p1)()?i18n.t("rl_migrated",{where:"Boop.fun",target:(0,a.cs)()||0}):"pump"!==(0,a.p1)()&&s.AL[(0,a.p1)()]?i18n.t("rl_migrated",{where:s.AL[(0,a.p1)()],target:(0,a.cs)()||0}):i18n.t("pump_migrated",{where:(0,a.fh)()});let t="";t="pump"===(0,a.p1)()?"Pump.fun":"moonshot"===(0,a.p1)()?"Moonit":"memelive"===(0,a.p1)()?"Memelive":"boop"===(0,a.p1)()?"Boop.fun":"orca_wavebreak"===(0,a.p1)()?"Wavebreak":s.AL[(0,a.p1)()]||"",o()(".js-show__factory-name").html(`\n          <a class="u-color-dark" href="${(0,s.VV)(d)}" data-tippy-content="${e}" >\n            ${t} (MIGRATED)\n          </a>\n        `).addClass("is-visible"),o()(".js-ignored__wrapper").addClass("c-ignored__wrapper"),o()(".js-ignored__migrating").addClass("is-hidden"),o()(".js-ignored__migrated, .js-ignored").removeClass("is-hidden"),o()(".js-ignored__link").attr("href",d),(0,a.Qf)()&&(o()(".js-ignored__chart__alert").addClass("is-hidden"),o()(document).trigger("purchase:toggleSnipe",[!1])),(0,s.sA)()}if(i&&!(0,a.eU)()&&((0,a.CI)({showIgnored:i}),o()(".js-ignored__migrated").addClass("is-hidden"),(0,a.Qf)()&&(o()(".js-ignored__chart__alert").removeClass("is-hidden"),o()(document).trigger("purchase:toggleSnipe",[!0])),!(0,a.Qf)())){const e=(0,a.Qf)()?'[data-tab-id="sell"], .js-bbar__sell':document;"pump"!==(0,a.p1)()?(o()(e).find(".js-show__trade-form__submit").attr("disabled",!0),o()(e).find('.js-purchase [data-field="submit"]').attr("disabled",!0).addClass("is-off"),o()(e).find(".js-ignored__wrapper").addClass("c-ignored__wrapper"),o()(e).find(".js-ignored__migrating, .js-ignored").removeClass("is-hidden")):(o()(".js-buy-btn-text").text("Migrate & Buy"),o()(".js-sell-btn-text").text("Migrate & Sell"))}n&&(o()('.js-security-item[data-kind="locked_amount"]').attr("data-extra",JSON.stringify(n).replaceAll('"',"&quot;")),l()),r&&(h=r/Math.pow(10,(0,a.sG)()),(0,a.CI)({showTotalSupply:r}),(0,a.CI)({showHumanTotalSupply:h})),h&&o()(document).trigger("config:update",[{showFullTotalSupply:h}]);const w=h||(0,a.Ou)();if(w){const e=(0,a.z9)();if(!(0,s.gD)(e)){let r=w*e;if("moonshot"===(0,a.p1)()){r*=0===(0,a.tI)()?.55:1}(0,a.Z2)()&&(r*=.525),(0,s.D1)("mktCapVal",r,{triggerUpdate:!1}),t.mktCap=r}}(0,s.Im)(t)||o()(document).trigger("cableValue:update",[t])}var r;if(e.holders&&e.holders.data&&(r=e.holders.data,[(0,a.Ej)(),(0,a.XI)(),(0,a.Lq)(),(0,a.tw)()].forEach((e=>{if(e){let t=r.find((t=>t.attributes.ownerAddress===e));if(t){t=t.attributes;let e=new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:2,maximumFractionDigits:2}).format(t.amount/(0,a.Ou)());o()(`.js-security-item[data-extra='${t.ownerAddress}'] .js-security-item__percentage`).html(e)}}}))),!(0,s.gD)(e.holdersCount)){const t=e.holdersCount.toString().split(",")[0];o()(".js-security-item[data-kind='holders_count']").text(t)}if(e.dexS){const t=o()(".js-security-item[data-kind='dex_s']");if(t.addClass("u-color-green").find(".js-dexscreener__label").html("Yes"),e.dexS.h){const r=t.find(".js-dexscreener__thumb"),n=e.dexS.h.startsWith("https://")?e.dexS.h:`https://cdn.dexscreener.com/cms/images/${e.dexS.h}`;r.find(".js-dexscreener__image").removeAttr("src").attr("data-src",n),r.removeClass("is-hidden"),(0,s.ex)()}window.dexS=e.dexS,(0,a.xb)()&&(0,a.xb)().includes("dexs")&&o()(document).trigger("datafeed:addDexsMark")}if(!e.data||!e.data.audit)return;const n=e.data.audit;let i={};const d=parseFloat(o()('.js-security-item[data-kind="ath"]').attr("data-raw-value"))||0;t.mktCap>d&&(i.ath={val:(0,s.gD)(t.mktCap)?"-":(0,s.gp)({numb:t.mktCap,fractionLength:2,unit:"$"}),color:"grey",rawVal:t.mktCap});const c=new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:2,maximumFractionDigits:2});(0,a.OW)()&&e.data&&Object.keys(e.data).includes("tax")&&(i.tax={val:(0,s.gD)(e.data.tax)?"-":`${parseFloat(e.data.tax)}%`,color:"grey"});for(const a of["mint_authority","freeze_authority"])i[a]={val:(0,s.gD)(n[a])?"-":n[a]?i18n.t("enabled"):i18n.t("disabled"),color:(0,s.gD)(n[a])?"grey":n[a]?"red":"green"};n.freeze_authority?o()(document).trigger("warnings:show",[{alerts:["freeze"],poolId:(0,a.Lx)()}]):o()(document).trigger("warnings:hide",[{alerts:["freeze"],poolId:(0,a.Lx)()}]);for(const a of["top_holders_perc"])i[a]={val:(0,s.gD)(n[a])?"-":c.format(n[a]/100),color:(0,s.gD)(n[a])?"grey":n[a]>=16?"red":"green",rawVal:n[a]};for(const a of["lp_burned_perc"])i[a]={val:(0,s.gD)(n[a])?"-":c.format(n[a]/100),color:(0,s.gD)(n[a])?"grey":n[a]<50?"red":"green",rawVal:n[a]};const u=parseFloat(o()('.js-security-item[data-kind="global_fees"]').attr("data-raw-value"))||0;e.data.globalFee&&(!u||e.data.globalFee>u)&&(i.global_fees={val:(0,s.gD)(e.data.globalFee)?"-":(0,s.M2)(e.data.globalFee,3),color:"grey",rawVal:e.data.globalFee});let m=0;for(const a of Object.keys(i)){let e=i[a],t=o()(`.js-security-item[data-kind='${a}']`);t.removeClass("u-color-green u-color-red u-color-grey").addClass(`u-color-${e.color}`),(0,s.gD)(e.rawVal)||t.attr("data-raw-value",e.rawVal),"red"===e.color?(m+=1,t.html(`<div class="c-icon c-icon--attention p-show__widget__issues__icon"></div>${e.val}`)):t.html(`${e.val}`)}o()(".js-total-issues-count").attr("data-count",m);const p=o()(".js-total-issues-count").attr("data-subcount");parseInt(p)&&(m+=parseInt(p)),m>0?(o()(".js-bbar__counter").html(m).removeClass("is-hidden"),o()(".js-total-issues-count").removeClass("is-hidden").html(`<div class="c-icon c-icon--attention p-show__widget__issues__icon"></div>${m} Issues`)):(o()(".js-bbar__counter").addClass("is-hidden"),o()(".js-total-issues-count").addClass("is-hidden")),o()(document).trigger("security:update",[{data:e.data.audit}])})),(0,a.t9)()&&window._showProcessedChannel.subscribe((e=>h(e)))),window._showChannel)},55129:function(e,t,r){r.d(t,{Pg:function(){return l},W9:function(){return p},b3:function(){return d},dy:function(){return u},ps:function(){return w},x8:function(){return m}});var n=r(75793),s=r(5933),a=r(48073),i=r(81580),o=r(96560);const d=()=>{try{const e=(0,i.Ro)((0,a.HG)()),t=(0,a.gY)();return e&&t&&!(0,a.hF)()&&(new Date).getTime()-e<=54e4&&t<=o.Fv}catch(e){console.error(e)}},l=({source:e,...t},{disableDefaultParams:r}={})=>{let s=r?{}:{order_by:"timestamp",order_dir:"dir",pool_id:(0,a.Lx)()};return s={...s,...t},`${e}?${n.A.stringify(s)}`},c={id:"timestamp",desc:!0},u=(e,t)=>{const r=e.attributes||e,{buys_count:n,sells_count:s}=r;let a={...r,id:e.id?.toString(),uid:r.uid||(e.id?e.id.toString():"")};return(0,i.gD)(n)&&(0,i.gD)(s)||!(0,i.gD)(r.tx_count)||(a.tx_count=(n||0)+(s||0)),t&&(a=t(a)),a},m=({state:e,ids:t,storage:r,sortKey:n,sortData:s=c,withNullInfinity:a})=>[...new Set([...e,...t])].filter((e=>{const t=!!r[e];return t||console.warn("missing data: ",e),t})).sort(((e,t)=>{const o=n||s.param||s.id;let d=(0,i.Em)(r[e],o),l=(0,i.Em)(r[t],o);return a&&((0,i.gD)(d)&&(d=-1/0),(0,i.gD)(l)&&(l=-1/0)),s.desc?l-d:d-l})),h={mint_authority:{label:s.createElement(s.Fragment,null,i18n.t("mint_auth"),s.createElement("br",null),i18n.t("disabled")),checker:e=>void 0!==e&&null!==e&&!e},freeze_authority:{label:s.createElement(s.Fragment,null,i18n.t("freeze_auth"),s.createElement("br",null),i18n.t("disabled")),checker:e=>void 0!==e&&null!==e&&!e},lp_burned_perc:{label:s.createElement(s.Fragment,null,i18n.t("lp"),s.createElement("br",null),i18n.t("burned")),tooltip:e=>`${e||0}% ${i18n.t("burned").toLowerCase()}`,checker:e=>e>=50},top_holders_perc:{label:s.createElement(s.Fragment,null,i18n.t("top_10"),s.createElement("br",null),i18n.t("holders")),tooltip:()=>`${i18n.t("top_holders_t_i")}`,checker:e=>e<16}},p=(e={})=>Object.entries(h).map((([t,{label:r,tooltip:n,checker:s}])=>{let a=e[t];return{key:t,isSafe:s(a),tooltip:n?n(a):"",label:r}})),g={active:["active","executing"],failed:["failed","canceled","paused"]},w=e=>{const t=Object.entries(g).find((([t,r])=>r.includes(e)));return t?t[0]:e}},64362:function(e,t,r){const n={create_pool:0,add:1,remove:2,swap:3},s={buy:0,sell:1},a=e=>null==e;t.A=e=>{try{if(!e)return e;const t={...e.attributes||e};if(!a(t.eventType)){const e=(Object.entries(n).find((([e,r])=>r===parseInt(t.eventType)))||[])[0];a(e)||(t.eventType=e)}if(!a(t.type)){const e=(Object.entries(s).find((([e,r])=>r===parseInt(t.type)))||[])[0];a(e)||(t.type=e)}return e.attributes?{...e,attributes:t}:t}catch(t){return console.error(t),e}}},96560:function(e,t,r){r.d(t,{Fv:function(){return w},$J:function(){return v},Ay:function(){return q}});var n=r(87816),s=r(64362),a=r(84341),i=r(48073),o=r(66414),d=r(56853),l=r(24330),c=r.n(l),u=r(65559),m=r(81580),h=r(5479),p=r.n(h),g=r(55129);const w=450;let f=new Map;const _=()=>p()(".js-chart__outlier__toggle").attr("data-value"),b=()=>{try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch(e){return logger.error(e),"Etc/UTC"}},v={"1s":1e3,"5s":5e3,"15s":15e3,"30s":3e4,"1m":6e4,"5m":3e5,"15m":9e5,"30m":18e5,"1h":36e5,"4h":144e5,"6h":216e5,"12h":432e5,"1d":864e5,"7d":6048e5,"14d":12096e5,"30d":2592e6,"60d":5184e6,"150d":1296e7},y=e=>{const t=(0,i.eX)(),r=parseFloat((0,i.Ou)());if("mcap"===t){let t=r*e;if("moonshot"===(0,i.p1)()){t*=0===(0,i.tI)()?.55:1}return(0,i.Z2)()&&(t*=.525),t}return parseFloat(e)};let C={},k="MMM d HH:mm:ss";"zh"===(0,i.JK)()&&(C={locale:d.g},k="MMM d\u65e5 HH:mm:ss");let $,j,x=[],I=[],D={events:{},confirm:{}};window._getTradesCache=()=>D;const L=()=>[...x,...I];let S;const M=()=>$,R=()=>j;window.getCreatedMark=M,window._getDevTrades=()=>I,window._getActiveSigner=()=>S,window._getMyPurchases=()=>x,window._getChartPurchases=L;const A=(e,t)=>{const r=e.attributes||e,{type:n,timestamp:s,priceUsd:a,maker:d,tokensAmount:l,usdAmount:u,priceQuote:h}=r;let p;const g=(0,o.GP)(new Date((0,m.Ro)(s)),k,C);if("dev"===t){const e=((0,i.cG)()||[]).includes(d),t=((0,i.Rw)()||[]).includes(d),r=(0,i.Lq)()&&(0,i.Lq)()===d;let s,o;const c=window.trackedWallets?window.trackedWallets[d]:null,w=(0,i.xb)().includes("tracked");let f=!1;e?(s="S",o=`sniper_mark_${"buy"===n?"bought":"sold"}_tip`):t?(s="I",o=`insider_mark_${"buy"===n?"bought":"sold"}_tip`):c&&w?(s=c.emoji?decodeURIComponent(c.emoji):"TW",o=`wallet_mark_${"buy"===n?"bought":"sold"}_tip`,f=!0):(s=r?"L":"D",o=`dev_mark_${"buy"===n?"bought":"sold"}_tip`);let _="";w&&c&&!e&&!t?_=c?`${c?.emoji?decodeURIComponent(c?.emoji):""} ${c?.name||""} ${(0,m.Wr)(d)}`:null:s+="buy"===n?"B":"S",p="buy"===n?{color:{background:""+(f?"rgb(111,210,115)":"rgb(165, 214, 167)"),border:""+(f?"rgb(111,210,115)":"rgb(165, 214, 167)")},hoveredBorderWidth:2,label:s,text:[`${_} ${i18n.t(o,{tokensAmount:(0,m.gp)({numb:l,fractionLength:5}),usdAmount:(0,m.gp)({numb:u||0,unit:"$",fractionLength:5}),priceUsd:(0,m.gp)({numb:a||0,unit:"$",fractionLength:5}),priceQuote:(0,m.gp)({numb:h||0,fractionLength:5})})} on ${g}`]}:{color:{background:""+(f?"rgb(248, 107, 111)":"rgb(250, 161, 164)"),border:""+(f?"rgb(248, 107, 111)":"rgb(250, 161, 164)")},hoveredBorderWidth:2,label:s,text:[`${_} ${i18n.t(o,{tokensAmount:(0,m.gp)({numb:l,fractionLength:5}),usdAmount:(0,m.gp)({numb:u||0,unit:"$",fractionLength:5}),priceUsd:(0,m.gp)({numb:a||0,unit:"$",fractionLength:5}),priceQuote:(0,m.gp)({numb:h||0,fractionLength:5})})} on ${g}`]}}else{let e=`${(0,m.gp)({numb:a||0,unit:"$",fractionLength:5})} on ${g}`;p="buy"===n?{color:{background:"rgb(8, 153, 129)",border:"rgb(8, 153, 129)"},label:"B",text:[`${(0,m.Wr)(d)}: ${i18n.t("bought_at")} ${e}`]}:{color:{background:"rgb(242, 54, 69)",border:"rgb(242, 54, 69)"},label:"S",text:[`${(0,m.Wr)(d)}: ${i18n.t("sold_at")} ${e}`]}}return e.id||r.id||r.sortId||(e.id=c()()),{id:`${e.id||r.id||""}${r.sortId||""}`||c()(),time:s,labelFontColor:"white",minSize:24,data:e,...p}};p()(document).on("datafeed:add",(function(e,t,r){try{const e=(t||[]).filter((e=>"swap"===(e.attributes||e).eventType)).map((e=>A(e,"dev_trades"===r?"dev":void 0)));window.inst&&window.inst.activeChart()&&window.inst.activeChart().clearMarks(),"dev_trades"===r?I=e:x=e,window.inst&&window.inst.activeChart()&&window.inst.activeChart().refreshMarks()}catch(e){console.error(e)}"my_trades"===r&&p()(document).trigger("avgLine:update"),"table"===r&&p()(document).trigger("datafeed:table:update")}));const T=e=>{const t=e||window.inst;I=I?.map((e=>A(e.data,"dev"))),t&&t.activeChart()&&t.activeChart().refreshMarks()};p()(document).on("datafeed:removeWallets",(function(e,t,r,n){try{if(!t||!t.length)return void(n&&T(window.inst));let e=("dev_trades"===r?I:x).filter((({data:e})=>{const r=e.attributes||e;return!t.includes(r.maker)}));window.inst&&window.inst.activeChart()&&window.inst.activeChart().clearMarks(),"dev_trades"===r?I=e:x=e,T(window.inst)}catch(e){console.error(e)}})),p()(document).on("datafeed:addCreatedMark",(function(e,{clear:t}={}){if(t)$=null;else if((0,i.HG)()&&(0,i.Sb)()){const e="heaven"===(0,i.p1)()?(0,i.ju)():(0,i.HG)();$={id:c()(),time:e,labelFontColor:"white",minSize:24,label:"M",text:`Migration time: ${(0,o.GP)(new Date((0,m.Ro)(e)),k,C)}`,color:{background:"#6A60E8",border:"#6A60E8"}},window.inst&&window.inst.activeChart()&&(window.inst.activeChart().clearMarks(),window.inst.activeChart().refreshMarks())}window.inst&&window.inst.activeChart()&&(window.inst.activeChart().clearMarks(),window.inst.activeChart().refreshMarks())})),p()(document).on("datafeed:addDexsMark",(function(e,{clear:t}={}){t?(j=null,window.inst&&window.inst.activeChart()&&(window.inst.activeChart().clearMarks(),window.inst.activeChart().refreshMarks())):window.dexS?.t&&(0,i.xb)().includes("dexs")&&(j={id:c()(),time:window.dexS?.t,labelFontColor:"white",minSize:24,text:`Dex Paid: ${(0,o.GP)(new Date((0,m.Ro)(window.dexS?.t)),k,C)}`,imageUrl:"/icons/dexscreener.svg",color:{background:"#3ED6CC",border:"#3ED6CC"}},window.inst&&window.inst.activeChart()&&(window.inst.activeChart().clearMarks(),window.inst.activeChart().refreshMarks()))})),p()(document).on("datafeed:append",(function(e,t,r){try{x||(x=[]),I||(I=[]);const e="dev_trades"===r;let n=e?I:x;(Array.isArray(t)?t:[t]).forEach((t=>{if("swap"===(t.attributes||t).eventType){const r=A(t,e?"dev":null);!n.find((({id:e})=>e.toString()===r.id.toString()))&&n.push(r)}})),window.inst&&window.inst.activeChart()&&window.inst.activeChart().refreshMarks()}catch(e){console.error(e)}"my_trades"===r&&p()(document).trigger("avgLine:update"),"table"===r&&p()(document).trigger("datafeed:table:update")})),p()(document).on("traderAddress:change",(function(e,t){S=t}));const U=e=>S&&(Array.isArray(S)?S.includes(e):S===e);p()(document).on("datafeed:confirm",(function(e,{type:t,item:r}={}){try{if(!["events","confirm"].includes(t))return;const{txHash:e}=r.attributes||r;D[t][e]=r,D.events[e]&&D.confirm[e]&&(U((0,i.cq)())?p()(document).trigger("datafeed:append",[D.events[e],"table"]):p()(document).trigger("datafeed:append",[D.events[e],"my_trades"]),delete D.events[e],delete D.confirm[e])}catch(e){console.error(e)}}));var q=e=>({onReady:t=>{setTimeout((()=>t(e)))},searchSymbols:async(e,t,r,n)=>{},resolveSymbol:async(t,r,n,s)=>{const a=e.exchanges[0];if(!a)return void setTimeout((()=>n("cannot resolve symbol")),0);const i={ticker:a.name||a.value,name:a.name||a.value,description:a.desc,type:a.value,session:"24x7",timezone:b(),exchange:a.name,minmov:1,pricescale:Math.pow(10,14),has_intraday:!0,intraday_multipliers:["1S","5S","15S","30S","1","5","15","30","60","240","360","720","1440"],volume_precision:8,has_seconds:!0,seconds_multipliers:[1,5,15,30],data_status:"streaming",supported_resolutions:e.supported_resolutions,supports_marks:!0,visible_plots_set:"ohlcv"};setTimeout((()=>r(i)),0)},getMarks:async(e,t,r,n,s)=>{let a=L();M()&&(a=[M(),...a]),R()&&(a=[R(),...a]),n(a.filter((({time:e})=>e>=t&&e<=r)))},getBars:async(t,r,n,o,d)=>{const{from:l,to:c,firstDataRequest:u,countBack:h}=n,p=(0,i.gY)()<=w;if(!p||u)try{let n;n="localhost:3000"===window.location.host?"https://photon-staging-sol.tinyastro.io/api/charts/tradingview_range":"/api/charts/tradingview_range";const d=parseInt(r,10);let l=r.toLowerCase();/^\d+$/.test(l)&&(l+="m");const w=c-h*(l.includes("s")?d:60*d);let b=l;d>=60&&(b=d>=1440?d/1440+"d":d/60+"h");let v=parseInt((0,i.Hm)()),C=parseInt((0,i.rI)()),k={pool_id:(0,i.Lx)(),from:w,to:c,interval:b,amount_index:(0,i.iP)(),r_from:C,r_to:v,cb:h,currency:(0,i.l2)()};p&&(k.kind="events"),(0,g.b3)()&&(k.new_pair=!0);const $=(0,i.D_)();$&&(0,i.HG)()&&(new Date).getTime()/1e3-(0,i.HG)()<600&&(k.pump_pool_id=$);const j=_();j&&"default"!==j&&(k.iqr=j),(0,i.jL)()&&(k.old_pool=!0),e.getParams&&(k={...k,...e.getParams()});let x,I=await async function(e,t={}){try{const r=Object.keys(t).map((e=>`${e}=${encodeURIComponent(t[e])}`)).join("&");let n;return n="localhost:3000"===window.location.host?await fetch(`${e}?${r}`,{method:"GET",mode:"cors",cache:"no-store"}):await fetch(`${e}?${r}`,{cache:"no-store"}),n.json()}catch(r){throw new Error(`Request error: ${r.status}`)}}(n,k);x=!(!isNaN(C)&&0!==C)||k.from<=C;let D=[];if(I&&I.length){if(I=I.map(s.A),p){const e=I.map(((e,t)=>{const r=e.attributes||e;return{time:(0,m.Ro)(r.timestamp),quantity:parseFloat(r.q),price:parseFloat(r.price||0)}})).sort(((e,t)=>e.time-t.time)),t=r.toLowerCase().indexOf("s")>-1?1:60,n=(0,a.resampleTicksByTime)(e,{timeframe:parseInt(r)*t,fillGaps:!1}).map((e=>({...e,low:y(e.low),high:y(e.high),open:y(e.open),close:y(e.close)})));D=n}else D=I.map(((e,t)=>({time:(0,m.Ro)(e.timestamp),low:y(e.l),high:y(e.h),open:y(e.o),close:y(e.c),volume:e.volume}))).sort(((e,t)=>e.time-t.time));D=D.map(((e,t)=>0===t?e:{...e,open:D[t-1].close}))}u&&D.length>0&&f.set(t.full_name||t.name,{...D[D.length-1]}),o(D,{noData:0===D.length})}catch(b){console.log("[getBars]: Get error",b),d(b)}else o([],{noData:!0})},subscribeBars:(e,t,r,n,s)=>{!function(e){try{const t=(0,u.YG)();if(!t)return void console.log("showActionCable is disabled");if(!window.actionCableHandlers[e.subscriberUID]){const r=F(e);t.subscribe(r),window.actionCableHandlers[e.subscriberUID]=r}}catch(t){console.error(t)}}({symbolInfo:e,resolution:t,onRealtimeCallback:r,subscriberUID:n,onResetCacheNeededCallback:s})},unsubscribeBars:e=>{}});window.actionCableHandlers={};let F=({symbolInfo:e,resolution:t,onRealtimeCallback:r,subscriberUID:s,onResetCacheNeededCallback:a})=>s=>{try{let a=window._chart_instance.activeChart().resolution();if("1H"===a&&(a="60"),!s||a.toString()!==t.toString())return;const o=s[n.Ht.events];let d=f.get(e.full_name);if(o){const n=o.data,s=Array.isArray(n)?n:[n],a=(0,i.Rx)(),l=(0,i.xb)();let c=!1;s.filter((e=>{const t=e.attributes||e;!t.maker&&t.generatedWallet&&(t.maker=t.generatedWallet),window._isMyTradesActive&&window._isMyTradesActive()&&(0,i.o7)().includes(t.maker)||U((0,i.cq)())?(p()(document).trigger("datafeed:confirm",{type:"events",item:e}),c=!0):U(t.maker)&&(p()(document).trigger("datafeed:append",[e,"table"]),c=!0),l&&l.length&&(l.includes("dev")&&(t.maker===(0,i.Lq)()||t.maker===(0,i.XI)())||l.includes("tracked")&&(window.trackedWallets||{})[t.maker]||l.includes("snipers")&&(0,i.cG)()&&(0,i.cG)().includes(t.maker)||l.includes("insiders")&&(0,i.Rw)()&&(0,i.Rw)().includes(t.maker))&&(p()(document).trigger("datafeed:append",[e,"dev_trades"]),c=!0);let r=(!t.eventType||"swap"===t.eventType)&&(!d||1e3*t.timestamp>=d.time);return r=(0,i.t9)()?r&&(!t.isOutlier||c):r&&(a||!t.isOutlier),r})).sort(((e,t)=>{const r=e.attributes||e,n=t.attributes||t;return parseInt(r.sortId)-parseInt(n.sortId)})).forEach(((n,s)=>{let a,o=f.get(e.full_name);const d=parseInt(t,10),l=1e3*(t.toLowerCase().includes("s")?d:60*d),c=n.attributes||n,u=(0,m.Ro)(c.timestamp);let h,p;if("usd"===(0,i.l2)()?(h=c.priceUsd,p=c.usdAmount):(h=c.priceQuote,p=c.quoteAmount),h=y(h),o){const e=((e,t,r)=>{const n="string"===typeof r?v[r]:r;if(!n)return void logger.error("Incorrect filter value",r);const s=~~((t-e)/n);return{isNewPoint:s>0,delta:s,x:e+s*n}})(o.time,u,l);a=e.isNewPoint?{time:e.x,open:o.close,high:h,low:h,close:h,volume:p}:{...o,high:Math.max(o.high,h),low:Math.min(o.low,h),close:h,volume:(o.volume||0)+p}}else a={time:u,open:h,high:h,low:h,close:h,volume:p};f.set(e.full_name,{...a}),r(a)}))}}catch(a){console.error(a)}}}}]);